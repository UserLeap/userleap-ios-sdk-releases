var hd=Object.defineProperty;var pd=(ge,j,He)=>j in ge?hd(ge,j,{enumerable:!0,configurable:!0,writable:!0,value:He}):ge[j]=He;var pe=(ge,j,He)=>(pd(ge,typeof j!="symbol"?j+"":j,He),He);(function(){"use strict";var ge,j,He,et,So,Eo,er,Po,At={},To=[],Oa=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ln=Array.isArray;function je(e,t){for(var n in t)e[n]=t[n];return e}function Io(e){var t=e.parentNode;t&&t.removeChild(e)}function G(e,t,n){var r,o,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?ge.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return Nt(e,s,r,o,null)}function Nt(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++He,__i:-1,__u:0};return o==null&&j.vnode!=null&&j.vnode(i),i}function jo(){return{current:null}}function le(e){return e.children}function ve(e,t){this.props=e,this.context=t}function ft(e,t){if(t==null)return e.__?ft(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?ft(e):null}function Oo(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Oo(e)}}function tr(e){(!e.__d&&(e.__d=!0)&&et.push(e)&&!cn.__r++||So!==j.debounceRendering)&&((So=j.debounceRendering)||Eo)(cn)}function cn(){var e,t,n,r,o,i,s,a,l;for(et.sort(er);e=et.shift();)e.__d&&(t=et.length,r=void 0,i=(o=(n=e).__v).__e,a=[],l=[],(s=n.__P)&&((r=je({},o)).__v=o.__v+1,j.vnode&&j.vnode(r),nr(s,r,o,n.__n,s.ownerSVGElement!==void 0,32&o.__u?[i]:null,a,i??ft(o),!!(32&o.__u),l),r.__.__k[r.__i]=r,Mo(a,r,l),r.__e!=i&&Oo(r)),et.length>t&&et.sort(er));cn.__r=0}function Ro(e,t,n,r,o,i,s,a,l,c,d){var u,h,p,y,f,_=r&&r.__k||To,g=t.length;for(n.__d=l,Ra(n,t,_),l=n.__d,u=0;u<g;u++)(p=n.__k[u])!=null&&typeof p!="boolean"&&typeof p!="function"&&(h=p.__i===-1?At:_[p.__i]||At,p.__i=u,nr(e,p,h,o,i,s,a,l,c,d),y=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&rr(h.ref,null,p),d.push(p.ref,p.__c||y,p)),f==null&&y!=null&&(f=y),65536&p.__u||h.__k===p.__k?l=Do(p,l,e):typeof p.type=="function"&&p.__d!==void 0?l=p.__d:y&&(l=y.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=l,n.__e=f}function Ra(e,t,n){var r,o,i,s,a,l=t.length,c=n.length,d=c,u=0;for(e.__k=[],r=0;r<l;r++)(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Nt(null,o,null,null,o):ln(o)?Nt(le,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?Nt(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,a=Da(o,n,s=r+u,d),o.__i=a,i=null,a!==-1&&(d--,(i=n[a])&&(i.__u|=131072)),i==null||i.__v===null?(a==-1&&u--,typeof o.type!="function"&&(o.__u|=65536)):a!==s&&(a===s+1?u++:a>s?d>l-s?u+=a-s:u--:u=a<s&&a==s-1?a-s:0,a!==r+u&&(o.__u|=65536))):(i=n[r])&&i.key==null&&i.__e&&(i.__e==e.__d&&(e.__d=ft(i)),or(i,i,!1),n[r]=null,d--);if(d)for(r=0;r<c;r++)(i=n[r])!=null&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=ft(i)),or(i,i))}function Do(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=Do(r[o],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function Oe(e,t){return t=t||[],e==null||typeof e=="boolean"||(ln(e)?e.some(function(n){Oe(n,t)}):t.push(e)),t}function Da(e,t,n,r){var o=e.key,i=e.type,s=n-1,a=n+1,l=t[n];if(l===null||l&&o==l.key&&i===l.type)return n;if(r>(l!=null&&!(131072&l.__u)?1:0))for(;s>=0||a<t.length;){if(s>=0){if((l=t[s])&&!(131072&l.__u)&&o==l.key&&i===l.type)return s;s--}if(a<t.length){if((l=t[a])&&!(131072&l.__u)&&o==l.key&&i===l.type)return a;a++}}return-1}function Lo(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Oa.test(t)?n:n+"px"}function un(e,t,n,r,o){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Lo(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Lo(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?No:Ao,i)):e.removeEventListener(t,i?No:Ao,i);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function Ao(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(j.event?j.event(e):e)}function No(e){return this.l[e.type+!0](j.event?j.event(e):e)}function nr(e,t,n,r,o,i,s,a,l,c){var d,u,h,p,y,f,_,g,v,x,C,w,k,S,E,b=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),i=[a=t.__e=n.__e]),(d=j.__b)&&d(t);e:if(typeof b=="function")try{if(g=t.props,v=(d=b.contextType)&&r[d.__c],x=d?v?v.props.value:d.__:r,n.__c?_=(u=t.__c=n.__c).__=u.__E:("prototype"in b&&b.prototype.render?t.__c=u=new b(g,x):(t.__c=u=new ve(g,x),u.constructor=b,u.render=Aa),v&&v.sub(u),u.props=g,u.state||(u.state={}),u.context=x,u.__n=r,h=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),b.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=je({},u.__s)),je(u.__s,b.getDerivedStateFromProps(g,u.__s))),p=u.props,y=u.state,u.__v=t,h)b.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(b.getDerivedStateFromProps==null&&g!==p&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(g,x),!u.__e&&(u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(g,u.__s,x)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(u.props=g,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(T){T&&(T.__=t)}),C=0;C<u._sb.length;C++)u.__h.push(u._sb[C]);u._sb=[],u.__h.length&&s.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(g,u.__s,x),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(p,y,f)})}if(u.context=x,u.props=g,u.__P=e,u.__e=!1,w=j.__r,k=0,"prototype"in b&&b.prototype.render){for(u.state=u.__s,u.__d=!1,w&&w(t),d=u.render(u.props,u.state,u.context),S=0;S<u._sb.length;S++)u.__h.push(u._sb[S]);u._sb=[]}else do u.__d=!1,w&&w(t),d=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++k<25);u.state=u.__s,u.getChildContext!=null&&(r=je(je({},r),u.getChildContext())),h||u.getSnapshotBeforeUpdate==null||(f=u.getSnapshotBeforeUpdate(p,y)),Ro(e,ln(E=d!=null&&d.type===le&&d.key==null?d.props.children:d)?E:[E],t,n,r,o,i,s,a,l,c),u.base=t.__e,t.__u&=-161,u.__h.length&&s.push(u),_&&(u.__E=u.__=null)}catch(T){t.__v=null,l||i!=null?(t.__e=a,t.__u|=l?160:32,i[i.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),j.__e(T,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=La(n.__e,t,n,r,o,i,s,l,c);(d=j.diffed)&&d(t)}function Mo(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)rr(n[r],n[++r],n[++r]);j.__c&&j.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){j.__e(i,o.__v)}})}function La(e,t,n,r,o,i,s,a,l){var c,d,u,h,p,y,f,_=n.props,g=t.props,v=t.type;if(v==="svg"&&(o=!0),i!=null){for(c=0;c<i.length;c++)if((p=i[c])&&"setAttribute"in p==!!v&&(v?p.localName===v:p.nodeType===3)){e=p,i[c]=null;break}}if(e==null){if(v===null)return document.createTextNode(g);e=o?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,g.is&&g),i=null,a=!1}if(v===null)_===g||a&&e.data===g||(e.data=g);else{if(i=i&&ge.call(e.childNodes),_=n.props||At,!a&&i!=null)for(_={},c=0;c<e.attributes.length;c++)_[(p=e.attributes[c]).name]=p.value;for(c in _)p=_[c],c=="children"||(c=="dangerouslySetInnerHTML"?u=p:c==="key"||c in g||un(e,c,null,p,o));for(c in g)p=g[c],c=="children"?h=p:c=="dangerouslySetInnerHTML"?d=p:c=="value"?y=p:c=="checked"?f=p:c==="key"||a&&typeof p!="function"||_[c]===p||un(e,c,p,_[c],o);if(d)a||u&&(d.__html===u.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(u&&(e.innerHTML=""),Ro(e,ln(h)?h:[h],t,n,r,o&&v!=="foreignObject",i,s,i?i[0]:n.__k&&ft(n,0),a,l),i!=null)for(c=i.length;c--;)i[c]!=null&&Io(i[c]);a||(c="value",y!==void 0&&(y!==e[c]||v==="progress"&&!y||v==="option"&&y!==_[c])&&un(e,c,y,_[c],!1),c="checked",f!==void 0&&f!==e[c]&&un(e,c,f,_[c],!1))}return e}function rr(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){j.__e(r,n)}}function or(e,t,n){var r,o;if(j.unmount&&j.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||rr(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){j.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&or(r[o],t,n||typeof e.type!="function");n||e.__e==null||Io(e.__e),e.__=e.__e=e.__d=void 0}function Aa(e,t,n){return this.constructor(e,n)}function mt(e,t,n){var r,o,i,s;j.__&&j.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,i=[],s=[],nr(t,e=(!r&&n||t).__k=G(le,null,[e]),o||At,At,t.ownerSVGElement!==void 0,!r&&n?[n]:o?null:t.firstChild?ge.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r,s),Mo(i,e,s)}function $o(e,t){mt(e,t,$o)}function Na(e,t,n){var r,o,i,s,a=je({},e.props);for(i in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)i=="key"?r=t[i]:i=="ref"?o=t[i]:a[i]=t[i]===void 0&&s!==void 0?s[i]:t[i];return arguments.length>2&&(a.children=arguments.length>3?ge.call(arguments,2):n),Nt(e.type,a,r||e.key,o||e.ref,null)}function Bo(e,t){var n={__c:t="__cC"+Po++,__:e,Consumer:function(r,o){return r.children(o)},Provider:function(r){var o,i;return this.getChildContext||(o=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&o.some(function(a){a.__e=!0,tr(a)})},this.sub=function(s){o.push(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){o.splice(o.indexOf(s),1),a&&a.call(s)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}ge=To.slice,j={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(a){e=a}throw e}},He=0,ve.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=je({},this.state),typeof e=="function"&&(e=e(je({},n),this.props)),e&&je(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),tr(this))},ve.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),tr(this))},ve.prototype.render=le,et=[],Eo=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,er=function(e,t){return e.__v.__b-t.__v.__b},cn.__r=0,Po=0;function Uo(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Uo(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function B(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Uo(e))&&(r&&(r+=" "),r+=t);return r}var Re,H,ir,Vo,gt=0,Fo=[],dn=[],Ho=j.__b,qo=j.__r,Ko=j.diffed,zo=j.__c,Wo=j.unmount;function tt(e,t){j.__h&&j.__h(H,e,gt||t),gt=0;var n=H.__H||(H.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:dn}),n.__[e]}function Q(e){return gt=1,sr(Xo,e)}function sr(e,t,n){var r=tt(Re++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Xo(void 0,t),function(a){var l=r.__N?r.__N[0]:r.__[0],c=r.t(l,a);l!==c&&(r.__N=[c,r.__[1]],r.__c.setState({}))}],r.__c=H,!H.u)){var o=function(a,l,c){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(h){return h.__c});if(d.every(function(h){return!h.__N}))return!i||i.call(this,a,l,c);var u=!1;return d.forEach(function(h){if(h.__N){var p=h.__[0];h.__=h.__N,h.__N=void 0,p!==h.__[0]&&(u=!0)}}),!(!u&&r.__c.props===a)&&(!i||i.call(this,a,l,c))};H.u=!0;var i=H.shouldComponentUpdate,s=H.componentWillUpdate;H.componentWillUpdate=function(a,l,c){if(this.__e){var d=i;i=void 0,o(a,l,c),i=d}s&&s.call(this,a,l,c)},H.shouldComponentUpdate=o}return r.__N||r.__}function ue(e,t){var n=tt(Re++,3);!j.__s&&cr(n.__H,t)&&(n.__=e,n.i=t,H.__H.__h.push(n))}function Mt(e,t){var n=tt(Re++,4);!j.__s&&cr(n.__H,t)&&(n.__=e,n.i=t,H.__h.push(n))}function De(e){return gt=5,hn(function(){return{current:e}},[])}function Go(e,t,n){gt=6,Mt(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function hn(e,t){var n=tt(Re++,7);return cr(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Zo(e,t){return gt=8,hn(function(){return e},t)}function Yo(e){var t=H.context[e.__c],n=tt(Re++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(H)),t.props.value):e.__}function ar(e,t){j.useDebugValue&&j.useDebugValue(t?t(e):e)}function Ma(e){var t=tt(Re++,10),n=Q();return t.__=e,H.componentDidCatch||(H.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function Qo(){var e=tt(Re++,11);if(!e.__){for(var t=H.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function $a(){for(var e;e=Fo.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(pn),e.__H.__h.forEach(lr),e.__H.__h=[]}catch(t){e.__H.__h=[],j.__e(t,e.__v)}}j.__b=function(e){H=null,Ho&&Ho(e)},j.__r=function(e){qo&&qo(e),Re=0;var t=(H=e.__c).__H;t&&(ir===H?(t.__h=[],H.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=dn,n.__N=n.i=void 0})):(t.__h.forEach(pn),t.__h.forEach(lr),t.__h=[],Re=0)),ir=H},j.diffed=function(e){Ko&&Ko(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Fo.push(t)!==1&&Vo===j.requestAnimationFrame||((Vo=j.requestAnimationFrame)||Ba)($a)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==dn&&(n.__=n.__V),n.i=void 0,n.__V=dn})),ir=H=null},j.__c=function(e,t){t.some(function(n){try{n.__h.forEach(pn),n.__h=n.__h.filter(function(r){return!r.__||lr(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],j.__e(r,n.__v)}}),zo&&zo(e,t)},j.unmount=function(e){Wo&&Wo(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{pn(r)}catch(o){t=o}}),n.__H=void 0,t&&j.__e(t,n.__v))};var Jo=typeof requestAnimationFrame=="function";function Ba(e){var t,n=function(){clearTimeout(r),Jo&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Jo&&(t=requestAnimationFrame(n))}function pn(e){var t=H,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),H=t}function lr(e){var t=H;e.__c=e.__(),H=t}function cr(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Xo(e,t){return typeof t=="function"?t(e):t}function ei(e,t){for(var n in t)e[n]=t[n];return e}function ur(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function fn(e){this.props=e}function ti(e,t){function n(o){var i=this.props.ref,s=i==o.ref;return!s&&i&&(i.call?i(null):i.current=null),t?!t(this.props,o)||!s:ur(this.props,o)}function r(o){return this.shouldComponentUpdate=n,G(e,o)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(fn.prototype=new ve).isPureReactComponent=!0,fn.prototype.shouldComponentUpdate=function(e,t){return ur(this.props,e)||ur(this.state,t)};var ni=j.__b;j.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),ni&&ni(e)};var Ua=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function ri(e){function t(n){var r=ei({},n);return delete r.ref,e(r,n.ref||null)}return t.$$typeof=Ua,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var oi=function(e,t){return e==null?null:Oe(Oe(e).map(t))},ii={map:oi,forEach:oi,count:function(e){return e?Oe(e).length:0},only:function(e){var t=Oe(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:Oe},Va=j.__e;j.__e=function(e,t,n,r){if(e.then){for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t)}Va(e,t,n,r)};var si=j.unmount;function ai(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=ei({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return ai(r,t,n)})),e}function li(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return li(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function $t(){this.__u=0,this.t=null,this.__b=null}function ci(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function ui(e){var t,n,r;function o(i){if(t||(t=e()).then(function(s){n=s.default||s},function(s){r=s}),r)throw r;if(!n)throw t;return G(n,i)}return o.displayName="Lazy",o.__f=!0,o}function vt(){this.u=null,this.o=null}j.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),si&&si(e)},($t.prototype=new ve).__c=function(e,t){var n=t.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var o=ci(r.__v),i=!1,s=function(){i||(i=!0,n.__R=null,o?o(a):a())};n.__R=s;var a=function(){if(!--r.__u){if(r.state.__a){var l=r.state.__a;r.__v.__k[0]=li(l,l.__c.__P,l.__c.__O)}var c;for(r.setState({__a:r.__b=null});c=r.t.pop();)c.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(s,s)},$t.prototype.componentWillUnmount=function(){this.t=[]},$t.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=ai(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&G(le,null,e.fallback);return o&&(o.__u&=-33),[G(le,null,t.__a?null:e.children),o]};var di=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function Fa(e){return this.getChildContext=function(){return e.context},e.children}function Ha(e){var t=this,n=e.i;t.componentWillUnmount=function(){mt(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),t.i.appendChild(r)},insertBefore:function(r,o){this.childNodes.push(r),t.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),t.i.removeChild(r)}}),mt(G(Fa,{context:t.context},e.__v),t.l)}function hi(e,t){var n=G(Ha,{__v:e,i:t});return n.containerInfo=t,n}(vt.prototype=new ve).__a=function(e){var t=this,n=ci(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),di(t,e,r)):o()};n?n(i):i()}},vt.prototype.render=function(e){this.u=null,this.o=new Map;var t=Oe(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},vt.prototype.componentDidUpdate=vt.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){di(e,n,t)})};var pi=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,qa=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ka=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,za=/[A-Z0-9]/g,Wa=typeof document<"u",Ga=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function fi(e,t,n){return t.__k==null&&(t.textContent=""),mt(e,t),typeof n=="function"&&n(),e?e.__c:null}function mi(e,t,n){return $o(e,t),typeof n=="function"&&n(),e?e.__c:null}ve.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(ve.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var gi=j.event;function Za(){}function Ya(){return this.cancelBubble}function Qa(){return this.defaultPrevented}j.event=function(e){return gi&&(e=gi(e)),e.persist=Za,e.isPropagationStopped=Ya,e.isDefaultPrevented=Qa,e.nativeEvent=e};var dr,Ja={enumerable:!1,configurable:!0,get:function(){return this.class}},vi=j.vnode;j.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,r=t.type,o={};for(var i in n){var s=n[i];if(!(i==="value"&&"defaultValue"in n&&s==null||Wa&&i==="children"&&r==="noscript"||i==="class"||i==="className")){var a=i.toLowerCase();i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&s===!0?s="":a==="ondoubleclick"?i="ondblclick":a!=="onchange"||r!=="input"&&r!=="textarea"||Ga(n.type)?a==="onfocus"?i="onfocusin":a==="onblur"?i="onfocusout":Ka.test(i)?i=a:r.indexOf("-")===-1&&qa.test(i)?i=i.replace(za,"-$&").toLowerCase():s===null&&(s=void 0):a=i="oninput",a==="oninput"&&o[i=a]&&(i="oninputCapture"),o[i]=s}}r=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=Oe(n.children).forEach(function(l){l.props.selected=o.value.indexOf(l.props.value)!=-1})),r=="select"&&o.defaultValue!=null&&(o.value=Oe(n.children).forEach(function(l){l.props.selected=o.multiple?o.defaultValue.indexOf(l.props.value)!=-1:o.defaultValue==l.props.value})),n.class&&!n.className?(o.class=n.class,Object.defineProperty(o,"className",Ja)):(n.className&&!n.class||n.class&&n.className)&&(o.class=o.className=n.className),t.props=o}(e),e.$$typeof=pi,vi&&vi(e)};var yi=j.__r;j.__r=function(e){yi&&yi(e),dr=e.__c};var _i=j.diffed;j.diffed=function(e){_i&&_i(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),dr=null};var bi={ReactCurrentDispatcher:{current:{readContext:function(e){return dr.__n[e.__c].props.value}}}},Xa="17.0.2";function xi(e){return G.bind(null,e)}function Bt(e){return!!e&&e.$$typeof===pi}function wi(e){return Bt(e)&&e.type===le}function ki(e){return Bt(e)?Na.apply(null,arguments):e}function Ci(e){return!!e.__k&&(mt(null,e),!0)}function Si(e){return e&&(e.base||e.nodeType===1&&e)||null}var Ei=function(e,t){return e(t)},Pi=function(e,t){return e(t)},Ti=le;function hr(e){e()}function Ii(e){return e}function ji(){return[!1,hr]}var Oi=Mt,Ri=Bt;function Di(e,t){var n=t(),r=Q({h:{__:n,v:t}}),o=r[0].h,i=r[1];return Mt(function(){o.__=n,o.v=t,pr(o)&&i({h:o})},[e,n,t]),ue(function(){return pr(o)&&i({h:o}),e(function(){pr(o)&&i({h:o})})},[e]),n}function pr(e){var t,n,r=e.v,o=e.__;try{var i=r();return!((t=o)===(n=i)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch{return!0}}var el={useState:Q,useId:Qo,useReducer:sr,useEffect:ue,useLayoutEffect:Mt,useInsertionEffect:Oi,useTransition:ji,useDeferredValue:Ii,useSyncExternalStore:Di,startTransition:hr,useRef:De,useImperativeHandle:Go,useMemo:hn,useCallback:Zo,useContext:Yo,useDebugValue:ar,version:"17.0.2",Children:ii,render:fi,hydrate:mi,unmountComponentAtNode:Ci,createPortal:hi,createElement:G,createContext:Bo,createFactory:xi,cloneElement:ki,createRef:jo,Fragment:le,isValidElement:Bt,isElement:Ri,isFragment:wi,findDOMNode:Si,Component:ve,PureComponent:fn,memo:ti,forwardRef:ri,flushSync:Pi,unstable_batchedUpdates:Ei,StrictMode:Ti,Suspense:$t,SuspenseList:vt,lazy:ui,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:bi};const tl=Object.freeze(Object.defineProperty({__proto__:null,Children:ii,Component:ve,Fragment:le,PureComponent:fn,StrictMode:Ti,Suspense:$t,SuspenseList:vt,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:bi,cloneElement:ki,createContext:Bo,createElement:G,createFactory:xi,createPortal:hi,createRef:jo,default:el,findDOMNode:Si,flushSync:Pi,forwardRef:ri,hydrate:mi,isElement:Ri,isFragment:wi,isValidElement:Bt,lazy:ui,memo:ti,render:fi,startTransition:hr,unmountComponentAtNode:Ci,unstable_batchedUpdates:Ei,useCallback:Zo,useContext:Yo,useDebugValue:ar,useDeferredValue:Ii,useEffect:ue,useErrorBoundary:Ma,useId:Qo,useImperativeHandle:Go,useInsertionEffect:Oi,useLayoutEffect:Mt,useMemo:hn,useReducer:sr,useRef:De,useState:Q,useSyncExternalStore:Di,useTransition:ji,version:Xa},Symbol.toStringTag,{value:"Module"})),yt="ul-app";var R=(e=>(e.Caption="ul-caption",e.CardContainer="ul-card__container",e.CardMainContent="ul-card-main-content",e.Choice="choice",e.ChoiceCheckbox="select-checkbox",e.ChoiceGroup="ul-card__choices",e.ChoiceLabel="select-label",e.ChoiceLabelContainer="choice-label-container",e.ChoiceRadio="select-radio",e.ChoiceTextEntryContainer="choice-text-entry-container",e.ChoiceTextInput="choice-text-input",e.CloseButton="close-btn",e.CloseContainer="close-container",e.ConsentLegalNameInput="ul-consent-legal__name-input",e.CustomStyle="ul-custom-style",e.DesktopSuffix="--desktop",e.FadeInTransition="fade-in-transition",e.LikertNumber="likert-number",e.LikertSmiley="likert-smiley",e.LikertStar="likert-star",e.LoadingSpinner="ul-loading-spinner",e.LoadingSpinnerContainer="ul-loading-spinner-container",e.LoadingSpinnerFirst="first",e.LoadingSpinnerFourth="fourth",e.LoadingSpinnerSecond="second",e.LoadingSpinnerThird="third",e.MobileSuffix="--mobile",e.NPSNumber="nps-number",e.OpenTextInput="ul-card-text__input",e.QuestionHeader="ul-question",e.VideoCard="ul-card--video",e.CheckmarkButton="ul-button-checkmark",e.InactiveButton="ul-button-inactive",e.LeftAlignButton="ul-button-left-align",e.ButtonDisabled="sprig-button-disabled",e.SkipButton="ul-card-skip__button",e))(R||{});const fr="#e6e6e6",Ut="#bd282a",nl=1030;var nt=(e=>(e.Error="x-ul-error",e.EnvironmentID="x-ul-environment-id",e.InstallationMethod="x-ul-installation-method",e.PartnerAnonymousId="x-ul-anonymous-id",e.Platform="userleap-platform",e.PreviewMode="x-ul-preview-mode",e.UserID="x-ul-user-id",e.VisitorID="x-ul-visitor-id",e))(nt||{}),_t=(e=>(e.Email="email",e.Link="link",e.Web="web",e))(_t||{}),bt=(e=>(e.Npm="web-npm",e.NpmBundled="web-npm-bundled",e.Gtm="web-gtm",e.Segment="web-segment",e.SegmentAndroid="android-segment",e.SegmentReactNative="react-native-segment",e.SegmentIOS="ios-segment",e.Snippet="web-snippet",e))(bt||{});const Li=e=>new Promise(t=>{setTimeout(()=>{t()},e)}),mn=({"userleap-platform":e})=>e!==_t.Web,J=(e,t)=>{const n=t?R.MobileSuffix:R.DesktopSuffix;return[e+n,e]},rl=(e,t)=>[e,`${e}__${t}`];class Ai{constructor(t){pe(this,"storage");pe(this,"tempStorage",{});pe(this,"isStorageAvailable");this.storage=window[t],this.isStorageAvailable=this.checkIfStorageAvailable()}checkIfStorageAvailable(){try{const t="__storage_test__";return this.storage.setItem(t,t),this.storage.removeItem(t),!0}catch{return!1}}setItem(t,n){this.isStorageAvailable?this.storage.setItem(t,n):this.tempStorage[t]=n}getItem(t){return this.isStorageAvailable?this.storage.getItem(t):this.tempStorage[t]}removeItem(t){this.isStorageAvailable?this.storage.removeItem(t):delete this.tempStorage[t]}clear(){this.isStorageAvailable?this.storage.clear():this.tempStorage={}}}const Vt=new Ai("sessionStorage");new Ai("localStorage");const Ni=e=>{let t;const n=new Set,r=(l,c)=>{const d=typeof l=="function"?l(t):l;if(!Object.is(d,t)){const u=t;t=c??typeof d!="object"?d:Object.assign({},t,d),n.forEach(h=>h(t,u))}},o=()=>t,a={setState:r,getState:o,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>n.clear()};return t=e(r,o,a),a},ol=e=>e?Ni(e):Ni;var il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sl(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var $i={exports:{}},Bi={};const Ui=sl(tl);var Vi={exports:{}},Fi={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xt=Ui;function al(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ll=typeof Object.is=="function"?Object.is:al,cl=xt.useState,ul=xt.useEffect,dl=xt.useLayoutEffect,hl=xt.useDebugValue;function pl(e,t){var n=t(),r=cl({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return dl(function(){o.value=n,o.getSnapshot=t,mr(o)&&i({inst:o})},[e,n,t]),ul(function(){return mr(o)&&i({inst:o}),e(function(){mr(o)&&i({inst:o})})},[e]),hl(n),n}function mr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ll(e,n)}catch{return!0}}function fl(e,t){return t()}var ml=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?fl:pl;Fi.useSyncExternalStore=xt.useSyncExternalStore!==void 0?xt.useSyncExternalStore:ml,Vi.exports=Fi;var gl=Vi.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gn=Ui,vl=gl;function yl(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _l=typeof Object.is=="function"?Object.is:yl,bl=vl.useSyncExternalStore,xl=gn.useRef,wl=gn.useEffect,kl=gn.useMemo,Cl=gn.useDebugValue;Bi.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=xl(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=kl(function(){function l(p){if(!c){if(c=!0,d=p,p=r(p),o!==void 0&&s.hasValue){var y=s.value;if(o(y,p))return u=y}return u=p}if(y=u,_l(d,p))return y;var f=r(p);return o!==void 0&&o(y,f)?y:(d=p,u=f)}var c=!1,d,u,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,o]);var a=bl(e,i[0],i[1]);return wl(function(){s.hasValue=!0,s.value=a},[a]),Cl(a),a},$i.exports=Bi;var Sl=$i.exports;const El=Mi(Sl),{useSyncExternalStoreWithSelector:Pl}=El;function Tl(e,t=e.getState,n){const r=Pl(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return ar(r),r}const Hi=e=>{const t=typeof e=="function"?ol(e):e,n=(r,o)=>Tl(t,r,o);return Object.assign(n,t),n},qi=e=>e?Hi(e):Hi;var gr=(e=>(e.Closed="close.click",e.Complete="survey.completed",e.PageChange="page.change",e.API="api",e.Override="override",e))(gr||{}),Ce=(e=>(e.ReplayCapture="replay.capture",e.SDKReady="sdk.ready",e.SurveyAppeared="survey.appeared",e.SurveyClosed="survey.closed",e.SurveyDimensions="survey.dimensions",e.SurveyFadingOut="survey.fadingOut",e.SurveyHeight="survey.height",e.SurveyPresented="survey.presented",e.SurveyLifeCycle="survey.lifeCycle",e.SurveyWidth="survey.width",e.SurveyWillClose="survey.willClose",e.SurveyWillPresent="survey.will.present",e.CloseSurveyOnOverlayClick="close.survey.overlayClick",e.VisitorIDUpdated="visitor.id.updated",e.QuestionAnswered="question.answered",e))(Ce||{}),Ki=(e=>(e.SurveyId="survey.id",e))(Ki||{}),Se=(e=>(e.VerifyViewVersion="verify.view.version",e.CurrentQuestion="survey.question",e.ViewPrototypeClick="question.prototype.click",e.ViewAgreementClick="question.agreement.click",e.RecordedTaskStart="recorded.task.start",e.RecordedTaskPermissionScreen="recorded.task.permission.screen",e.SurveyComplete="survey.complete",e))(Se||{}),wt=(e=>(e.ViewVersion="view.version",e.QuestionId="qid",e.Props="props",e))(wt||{}),Il=class extends Error{constructor(e,t,n){super(`Possible EventEmitter memory leak detected. ${n} ${t.toString()} listeners added. Use emitter.setMaxListeners() to increase limit`),this.emitter=e,this.type=t,this.count=n,this.name="MaxListenersExceededWarning"}},zi=class{static listenerCount(e,t){return e.listenerCount(t)}constructor(){this.events=new Map,this.maxListeners=zi.defaultMaxListeners,this.hasWarnedAboutPotentialMemoryLeak=!1}_emitInternalEvent(e,t,n){this.emit(e,t,n)}_getListeners(e){return Array.prototype.concat.apply([],this.events.get(e))||[]}_removeListener(e,t){const n=e.indexOf(t);return n>-1&&e.splice(n,1),[]}_wrapOnceListener(e,t){const n=(...r)=>(this.removeListener(e,n),t.apply(this,r));return Object.defineProperty(n,"name",{value:t.name}),n}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}eventNames(){return Array.from(this.events.keys())}emit(e,...t){const n=this._getListeners(e);return n.forEach(r=>{r.apply(this,t)}),n.length>0}addListener(e,t){this._emitInternalEvent("newListener",e,t);const n=this._getListeners(e).concat(t);if(this.events.set(e,n),this.maxListeners>0&&this.listenerCount(e)>this.maxListeners&&!this.hasWarnedAboutPotentialMemoryLeak){this.hasWarnedAboutPotentialMemoryLeak=!0;const r=new Il(this,e,this.listenerCount(e));console.warn(r)}return this}on(e,t){return this.addListener(e,t)}once(e,t){return this.addListener(e,this._wrapOnceListener(e,t))}prependListener(e,t){const n=this._getListeners(e);if(n.length>0){const r=[t].concat(n);this.events.set(e,r)}else this.events.set(e,n.concat(t));return this}prependOnceListener(e,t){return this.prependListener(e,this._wrapOnceListener(e,t))}removeListener(e,t){const n=this._getListeners(e);return n.length>0&&(this._removeListener(n,t),this.events.set(e,n),this._emitInternalEvent("removeListener",e,t)),this}off(e,t){return this.removeListener(e,t)}removeAllListeners(e){return e?this.events.delete(e):this.events.clear(),this}listeners(e){return Array.from(this._getListeners(e))}listenerCount(e){return this._getListeners(e).length}rawListeners(e){return this.listeners(e)}},Wi=zi;Wi.defaultMaxListeners=10;const vn=new Wi;let yn;const jl=new Uint8Array(16);function Ol(){if(!yn&&(yn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!yn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yn(jl)}const te=[];for(let e=0;e<256;++e)te.push((e+256).toString(16).slice(1));function Rl(e,t=0){return te[e[t+0]]+te[e[t+1]]+te[e[t+2]]+te[e[t+3]]+"-"+te[e[t+4]]+te[e[t+5]]+"-"+te[e[t+6]]+te[e[t+7]]+"-"+te[e[t+8]]+te[e[t+9]]+"-"+te[e[t+10]]+te[e[t+11]]+te[e[t+12]]+te[e[t+13]]+te[e[t+14]]+te[e[t+15]]}const Gi={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function _n(e,t,n){if(Gi.randomUUID&&!t&&!e)return Gi.randomUUID();e=e||{};const r=e.random||(e.rng||Ol)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let o=0;o<16;++o)t[n+o]=r[o];return t}return Rl(r)}const Dl="!launch_darkly_";class Ll{constructor(){pe(this,"_ldData",{})}getAllLaunchDarklyVariations(){return this._ldData}setLDFlagsVariations(t){try{return!t||typeof t!="object"||Array.isArray(t)?!1:(Object.keys(this._ldData).forEach(n=>{delete this._ldData[n]}),Object.keys(t).forEach(n=>this._ldData[`${Dl}${n}`]=(t[n]??0)+1),!0)}catch(n){return n instanceof Error&&window.UserLeap.reportError("setAllLDFlagsVariations",n),console.warn("[Sprig] An issue had occured when setting LaunchDarkly flags and variations."),!1}}}const Al=new Ll;Object.freeze(Al);const Nl="!optimizely_experiments_";class Ml{constructor(){pe(this,"_optimizelyData",{})}setOptimizelyExperiment(t,n=!0){if(!t||typeof t!="object")return!1;const{experiments:r}=t;try{return n&&Object.keys(this._optimizelyData).map(o=>{delete this._optimizelyData[o]}),r&&r.map(o=>{const{id:i,variation:s}=o,a=this.transformExperimentId(i);s&&typeof s=="string"&&(this._optimizelyData[a]=s)}),!0}catch(o){return o instanceof Error&&window.UserLeap.reportError("setOptimizelyExperiment",o),!1}}getAllOptimizelyExperiments(){return this._optimizelyData}getOptimizelyVariationName(t){return this._optimizelyData[this.transformExperimentId(t)]}transformExperimentId(t){return Nl+t}getAndSetWebOptimizelyExperiments(){var t;try{if(window&&window.optimizely&&typeof window.optimizely.get=="function"){const n=(t=window.optimizely.get("state"))==null?void 0:t.getExperimentStates({isActive:!0});if(n){const r=Object.keys(n).map(o=>{var i,s;return(i=n[o].variation)!=null&&i.name?{id:o,variation:(s=n[o].variation)==null?void 0:s.name}:{id:o,variation:"Original"}});return this.setOptimizelyExperiment({experiments:r},!1),!0}return!1}return!1}catch(n){return n instanceof Error&&window.UserLeap.reportError("getAndSetWebOptimizely",n),!1}}}const $l=new Ml;Object.freeze($l);var ye=(e=>(e.Video="video",e.Audio="audio",e.Screen="screen",e))(ye||{}),re=(e=>(e.PermissionStatus="permission.status",e.AvPermission="av.permission",e.ScreenPermission="screen.permission",e.BeginRecording="begin.recording",e.StartTask="start.task",e.FinishTask="finish.task",e))(re||{}),fe=(e=>(e.Abandoned="abandoned",e.GivenUp="given.up",e.Completed="completed",e))(fe||{}),V=(e=>(e.ScreenPermissionRequested="screen.permission.requested",e.PermissionDescriptors="permission.descriptors",e.PermissionStatusCallback="permission.status.callback",e.StreamReadyCallback="stream.ready.callback",e.StreamCanceledCallback="stream.canceled.callback",e.TaskCompleteCallback="task.complete.callback",e.TaskResponse="task.response",e.TaskStatus="task.status",e.RecordingMediaTypes="recording.media.types",e.StartRecordingCallback="start.recording.callback",e.PassthroughData="passthrough.data",e.CurrentIndex="current.index",e.UploadCallback="upload.callback",e.ProgressCallback="progress.callback",e.BeginCallback="begin.callback",e))(V||{});const Zi=()=>{try{return window.parent.Intercom}catch(e){return console.error(e),null}},Yi=[Object.freeze(Object.defineProperty({__proto__:null,disable:()=>{const e=Zi();e&&(e.ul_wasVisible=!!document.querySelector("iframe.intercom-launcher-frame"),e.ul_wasVisible&&e("update",{hide_default_launcher:!0}))},enable:()=>{const e=Zi();e&&(e.ul_wasVisible&&e("update",{hide_default_launcher:!1}),delete e.ul_wasVisible)}},Symbol.toStringTag,{value:"Module"}))];class Qi{static disable(){Yi.forEach(t=>t.disable())}static enable(){Yi.forEach(t=>t.enable())}}const Bl=1,Ul=(e,t,n)=>{const r=e.createElement("style");n&&(r.nonce=n),r.textContent=t,r.id=R.CustomStyle,e.head.appendChild(r)},Vl=e=>{const t=e.querySelector(`.${R.CardContainer}`);let n=600,r=360;if(t){n=t.scrollHeight;const o=getComputedStyle(t),i=parseFloat(o.marginTop)+parseFloat(o.marginBottom),s=parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth);n+=i+s;const a=t.querySelector(".ul-card--matrix_grid");r=a?a.scrollWidth:t.scrollWidth;const l=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),c=parseFloat(o.marginLeft)+parseFloat(o.marginRight),d=parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth);r+=c+d+l}return[n+Bl,r]},Fl=e=>{const t=e.querySelector(`.${R.CardContainer}`);t&&(t.scrollTop=0)};var Ji={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(il,function(){var n=function(i,s){if(s=s||{},typeof i!="function")throw new o("fetch must be a function");if(typeof s!="object")throw new o("defaults must be an object");if(s.retries!==void 0&&!r(s.retries))throw new o("retries must be a positive integer");if(s.retryDelay!==void 0&&!r(s.retryDelay)&&typeof s.retryDelay!="function")throw new o("retryDelay must be a positive integer or a function returning a positive integer");if(s.retryOn!==void 0&&!Array.isArray(s.retryOn)&&typeof s.retryOn!="function")throw new o("retryOn property expects an array or function");var a={retries:3,retryDelay:1e3,retryOn:[]};return s=Object.assign(a,s),function(c,d){var u=s.retries,h=s.retryDelay,p=s.retryOn;if(d&&d.retries!==void 0)if(r(d.retries))u=d.retries;else throw new o("retries must be a positive integer");if(d&&d.retryDelay!==void 0)if(r(d.retryDelay)||typeof d.retryDelay=="function")h=d.retryDelay;else throw new o("retryDelay must be a positive integer or a function returning a positive integer");if(d&&d.retryOn)if(Array.isArray(d.retryOn)||typeof d.retryOn=="function")p=d.retryOn;else throw new o("retryOn property expects an array or function");return new Promise(function(y,f){var _=function(v){var x=typeof Request<"u"&&c instanceof Request?c.clone():c;i(x,d).then(function(C){if(Array.isArray(p)&&p.indexOf(C.status)===-1)y(C);else if(typeof p=="function")try{return Promise.resolve(p(v,null,C)).then(function(w){w?g(v,null,C):y(C)}).catch(f)}catch(w){f(w)}else v<u?g(v,null,C):y(C)}).catch(function(C){if(typeof p=="function")try{Promise.resolve(p(v,C,null)).then(function(w){w?g(v,C,null):f(C)}).catch(function(w){f(w)})}catch(w){f(w)}else v<u?g(v,C,null):f(C)})};function g(v,x,C){var w=typeof h=="function"?h(v,x,C):h;setTimeout(function(){_(++v)},w)}_(0)})}};function r(i){return Number.isInteger(i)&&i>=0}function o(i){this.name="ArgumentError",this.message=i}return n})})(Ji);var Hl=Ji.exports;const Xi=Mi(Hl),ql=Xi(fetch),vr={Error:1,Warn:2,Info:3,Debug:4};let Kl=1e3,zl=vr.Debug,bn=[];const Wl=e=>e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}),Gl=(e,t)=>`${Wl(t)}:${e}`,Zl=()=>{bn.length>Kl&&bn.shift()},es=(e,t)=>{e>zl||(bn.push({level:e,line:Gl(t,new Date)}),Zl())},kt=e=>{es(vr.Info,e)},Yl=e=>{es(vr.Error,e)},Ql=()=>bn.map(e=>e.line),Jl=()=>new TextEncoder().encode(Ql().join(`
`)),Xl=async e=>{if(!e)return;const t=Jl();return ql(e,{body:t,method:"PUT",retries:3,retryDelay:n=>Math.pow(2,n)*1e3})};class ec{constructor(t){pe(this,"payload");pe(this,"promise");pe(this,"reject",()=>{});pe(this,"resolve",()=>{});this.payload=t,this.promise=new Promise((n,r)=>{this.reject=r,this.resolve=n})}resolveRequest(t){this.resolve(t)}}const tc={RATELIMIT_RESET_DEFAULT:10};let ts=!1,ns="",xn=!1,nc=!1,wn=[];const rc=e=>e._config&&e._config.installationMethod?e._config.installationMethod:e._gtm?bt.Gtm:e._segment?bt.Segment:bt.Snippet,oc=(e="")=>{ts=!0,ns=e};function ic(e={}){const t={"Content-Type":"application/json","userleap-platform":_t.Web,"x-ul-sdk-version":"2.26.3",[nt.InstallationMethod]:rc(e)};if(e.envId&&(t[nt.EnvironmentID]=e.envId),e.token&&(t.Authorization="Bearer "+e.token),e.userId&&(t[nt.UserID]=e.userId),e.visitorId&&(t[nt.VisitorID]=e.visitorId),e.partnerAnonymousId&&(t[nt.PartnerAnonymousId]=e.partnerAnonymousId),e.mobileHeadersJSON){const n=JSON.parse(e.mobileHeadersJSON);Object.assign(t,n)}return e.locale&&(t["accept-language"]=e.locale),window.previewMode&&(t[nt.PreviewMode]="1"),t}const rs=async(e,t,n)=>{if(e)return{status:429};{const r=new ec(n);return wn.push(r),r.promise}},Ct=async(e,t,n=0,r=!1,o=!1)=>{const i={url:e,options:t,attempt:n,shouldDropOnRateLimit:r};if(xn&&!o)return rs(r,o,i);const s={ok:!1,reportError:!1};if(ts)return console.info(`UserLeap - ${ns}`),s;try{t.headers=Object.assign(ic(),t.headers);const a=await fetch(e,t);if(a.status===429)if(!xn&&!r||o){xn=!0;const c=a.headers.has("ratelimit-reset")?Number(a.headers.get("ratelimit-reset")):tc.RATELIMIT_RESET_DEFAULT;return await Li(c*1e3),Ct(e,t,0,r,!0)}else return rs(r,!1,i);if(xn=!1,wn.length&&(wn.map(l=>{const{url:c,options:d,attempt:u,shouldDropOnRateLimit:h}=l.payload;Ct(c,d,u,h).then(p=>{l.resolveRequest(p)})}),wn=[]),a.ok){if(a.status===249)return oc(),s;const l=await a.text();try{return l&&l!=="OK"&&(a.json=JSON.parse(l)),a}catch{return{ok:!1,reportError:!1,error:new Error(`failed parsing response json for ${e} - ${l}`)}}}return a}catch(a){const l=n+1;return l>5||nc?{ok:!1,reportError:!1,error:a}:(await Li(Math.pow(2,n)*1e3),Ct(e,t,l))}};Xi(fetch);const K=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Y=Object.keys,oe=Array.isArray;function se(e,t){return typeof t!="object"||Y(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||K.Promise||(K.Promise=Promise);const Ft=Object.getPrototypeOf,sc={}.hasOwnProperty;function de(e,t){return sc.call(e,t)}function St(e,t){typeof t=="function"&&(t=t(Ft(e))),(typeof Reflect>"u"?Y:Reflect.ownKeys)(t).forEach(n=>{Le(e,n,t[n])})}const os=Object.defineProperty;function Le(e,t,n,r){os(e,t,se(n&&de(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Et(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Le(e.prototype,"constructor",e),{extend:St.bind(null,e.prototype)}}}}const ac=Object.getOwnPropertyDescriptor;function yr(e,t){let n;return ac(e,t)||(n=Ft(e))&&yr(n,t)}const lc=[].slice;function kn(e,t,n){return lc.call(e,t,n)}function is(e,t){return t(e)}function Ht(e){if(!e)throw new Error("Assertion Failed")}function ss(e){K.setImmediate?setImmediate(e):setTimeout(e,0)}function as(e,t){return e.reduce((n,r,o)=>{var i=t(r,o);return i&&(n[i[0]]=i[1]),n},{})}function Ae(e,t){if(de(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,o=t.length;r<o;++r){var i=Ae(e,t[r]);n.push(i)}return n}var s=t.indexOf(".");if(s!==-1){var a=e[t.substr(0,s)];return a===void 0?void 0:Ae(a,t.substr(s+1))}}function _e(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Ht(typeof n!="string"&&"length"in n);for(var r=0,o=t.length;r<o;++r)_e(e,t[r],n[r])}else{var i=t.indexOf(".");if(i!==-1){var s=t.substr(0,i),a=t.substr(i+1);if(a==="")n===void 0?oe(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=n;else{var l=e[s];l&&de(e,s)||(l=e[s]={}),_e(l,a,n)}}else n===void 0?oe(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function ls(e){var t={};for(var n in e)de(e,n)&&(t[n]=e[n]);return t}const cc=[].concat;function cs(e){return cc.apply([],e)}const us="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(cs([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>K[e]),uc=us.map(e=>K[e]);as(us,e=>[e,!0]);let qe=null;function qt(e){qe=typeof WeakMap<"u"&&new WeakMap;const t=_r(e);return qe=null,t}function _r(e){if(!e||typeof e!="object")return e;let t=qe&&qe.get(e);if(t)return t;if(oe(e)){t=[],qe&&qe.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(_r(e[n]))}else if(uc.indexOf(e.constructor)>=0)t=e;else{const i=Ft(e);for(var o in t=i===Object.prototype?{}:Object.create(i),qe&&qe.set(e,t),e)de(e,o)&&(t[o]=_r(e[o]))}return t}const{toString:dc}={};function br(e){return dc.call(e).slice(8,-1)}const xr=typeof Symbol<"u"?Symbol.iterator:"@@iterator",hc=typeof xr=="symbol"?function(e){var t;return e!=null&&(t=e[xr])&&t.apply(e)}:function(){return null},Pt={};function Ne(e){var t,n,r,o;if(arguments.length===1){if(oe(e))return e.slice();if(this===Pt&&typeof e=="string")return[e];if(o=hc(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const wr=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Ee=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ds(e,t){Ee=e,hs=t}var hs=()=>!0;const pc=!new Error("").stack;function rt(){if(pc)try{throw rt.arguments,new Error}catch(e){return e}return new Error}function kr(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(hs).map(r=>`
`+r).join("")):""}var ps=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Cr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ps),fc={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Tt(e,t){this._e=rt(),this.name=e,this.message=t}function fs(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,o)=>o.indexOf(n)===r).join(`
`)}function Cn(e,t,n,r){this._e=rt(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=fs(e,t)}function Kt(e,t){this._e=rt(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=fs(e,t)}Et(Tt).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+kr(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Et(Cn).from(Tt),Et(Kt).from(Tt);var Sr=Cr.reduce((e,t)=>(e[t]=t+"Error",e),{});const mc=Tt;var $=Cr.reduce((e,t)=>{var n=t+"Error";function r(o,i){this._e=rt(),this.name=n,o?typeof o=="string"?(this.message=`${o}${i?`
 `+i:""}`,this.inner=i||null):typeof o=="object"&&(this.message=`${o.name} ${o.message}`,this.inner=o):(this.message=fc[t]||n,this.inner=null)}return Et(r).from(mc),e[t]=r,e},{});$.Syntax=SyntaxError,$.Type=TypeError,$.Range=RangeError;var ms=ps.reduce((e,t)=>(e[t+"Error"]=$[t],e),{}),Sn=Cr.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=$[t]),e),{});function q(){}function zt(e){return e}function gc(e,t){return e==null||e===zt?t:function(n){return t(e(n))}}function ot(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function vc(e,t){return e===q?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?ot(r,this.onsuccess):r),o&&(this.onerror=this.onerror?ot(o,this.onerror):o),i!==void 0?i:n}}function yc(e,t){return e===q?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?ot(n,this.onsuccess):n),r&&(this.onerror=this.onerror?ot(r,this.onerror):r)}}function _c(e,t){return e===q?t:function(n){var r=e.apply(this,arguments);se(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?ot(o,this.onsuccess):o),i&&(this.onerror=this.onerror?ot(i,this.onerror):i),r===void 0?s===void 0?void 0:s:se(r,s)}}function bc(e,t){return e===q?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function Er(e,t){return e===q?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then(function(){return t.apply(r,i)})}return t.apply(this,arguments)}}Sn.ModifyError=Cn,Sn.DexieError=Tt,Sn.BulkError=Kt;var Wt={};const gs=100,[Pr,En,Tr]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Ft(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Ft(t),e]})(),vs=En&&En.then,Pn=Pr&&Pr.constructor,Ir=!!Tr;var jr=!1,xc=Tr?()=>{Tr.then(On)}:K.setImmediate?setImmediate.bind(null,On):K.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{On(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(On,0)},Gt=function(e,t){Zt.push([e,t]),Tn&&(xc(),Tn=!1)},Or=!0,Tn=!0,it=[],In=[],Rr=null,Dr=zt,It={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ps,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{Ps(e[0],e[1])}catch{}})}},N=It,Zt=[],st=0,jn=[];function O(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=q,this._lib=!1;var t=this._PSD=N;if(Ee&&(this._stackHolder=rt(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==Wt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Ar(this,this._value))}this._state=null,this._value=null,++t.ref,_s(this,e)}const Lr={get:function(){var e=N,t=Ln;function n(r,o){var i=!e.global&&(e!==N||t!==Ln);const s=i&&!Me();var a=new O((l,c)=>{Nr(this,new ys(Nn(r,e,i,s),Nn(o,e,i,s),l,c,e))});return Ee&&ws(a,this),a}return n.prototype=Wt,n},set:function(e){Le(this,"then",e&&e.prototype===Wt?Lr:{get:function(){return e},set:Lr.set})}};function ys(e,t,n,r,o){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=o}function _s(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&Yt();n&&typeof n.then=="function"?_s(e,(o,i)=>{n instanceof O?n._then(o,i):n.then(o,i)}):(e._state=!0,e._value=n,bs(e)),r&&Qt()}},Ar.bind(null,e))}catch(n){Ar(e,n)}}function Ar(e,t){if(In.push(t),e._state===null){var n=e._lib&&Yt();t=Dr(t),e._state=!1,e._value=t,Ee&&t!==null&&typeof t=="object"&&!t._promise&&function(r,o,i){try{r.apply(null,i)}catch(s){o&&o(s)}}(()=>{var r=yr(t,"stack");t._promise=e,Le(t,"stack",{get:()=>jr?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){it.some(o=>o._value===r._value)||it.push(r)}(e),bs(e),n&&Qt()}}function bs(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Nr(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),st===0&&(++st,Gt(()=>{--st==0&&Mr()},[]))}function Nr(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++st,Gt(wc,[n,e,t])}else e._listeners.push(t)}function wc(e,t,n){try{Rr=t;var r,o=t._value;t._state?r=e(o):(In.length&&(In=[]),r=e(o),In.indexOf(o)===-1&&function(i){for(var s=it.length;s;)if(it[--s]._value===i._value)return void it.splice(s,1)}(t)),n.resolve(r)}catch(i){n.reject(i)}finally{Rr=null,--st==0&&Mr(),--n.psd.ref||n.psd.finalize()}}function xs(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var o,i,s=e._value;s!=null?(o=s.name||"Error",i=s.message||s,r=kr(s,0)):(o=s,i=""),t.push(o+(i?": "+i:"")+r)}return Ee&&((r=kr(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&xs(e._prev,t,n)),t}function ws(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function On(){Yt()&&Qt()}function Yt(){var e=Or;return Or=!1,Tn=!1,e}function Qt(){var e,t,n;do for(;Zt.length>0;)for(e=Zt,Zt=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(Zt.length>0);Or=!0,Tn=!0}function Mr(){var e=it;it=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=jn.slice(0),n=t.length;n;)t[--n]()}function Rn(e){return new O(Wt,!1,e)}function W(e,t){var n=N;return function(){var r=Yt(),o=N;try{return ze(n,!0),e.apply(this,arguments)}catch(i){t&&t(i)}finally{ze(o,!1),r&&Qt()}}}St(O.prototype,{then:Lr,_then:function(e,t){Nr(this,new ys(null,null,e,t,N))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):Rn(r)):this.then(null,r=>r&&r.name===t?n(r):Rn(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),Rn(t)))},stack:{get:function(){if(this._stack)return this._stack;try{jr=!0;var e=xs(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{jr=!1}}},timeout:function(e,t){return e<1/0?new O((n,r)=>{var o=setTimeout(()=>r(new $.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,o))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Le(O.prototype,Symbol.toStringTag,"Dexie.Promise"),It.env=ks(),St(O,{all:function(){var e=Ne.apply(null,arguments).map(An);return new O(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((o,i)=>O.resolve(o).then(s=>{e[i]=s,--r||t(e)},n))})},resolve:e=>{if(e instanceof O)return e;if(e&&typeof e.then=="function")return new O((n,r)=>{e.then(n,r)});var t=new O(Wt,!0,e);return ws(t,Rr),t},reject:Rn,race:function(){var e=Ne.apply(null,arguments).map(An);return new O((t,n)=>{e.map(r=>O.resolve(r).then(t,n))})},PSD:{get:()=>N,set:e=>N=e},totalEchoes:{get:()=>Ln},newPSD:Ke,usePSD:Ot,scheduler:{get:()=>Gt,set:e=>{Gt=e}},rejectionMapper:{get:()=>Dr,set:e=>{Dr=e}},follow:(e,t)=>new O((n,r)=>Ke((o,i)=>{var s=N;s.unhandleds=[],s.onunhandled=i,s.finalize=ot(function(){(function(a){function l(){a(),jn.splice(jn.indexOf(l),1)}jn.push(l),++st,Gt(()=>{--st==0&&Mr()},[])})(()=>{this.unhandleds.length===0?o():i(this.unhandleds[0])})},s.finalize),e()},t,n,r))}),Pn&&(Pn.allSettled&&Le(O,"allSettled",function(){const e=Ne.apply(null,arguments).map(An);return new O(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((o,i)=>O.resolve(o).then(s=>r[i]={status:"fulfilled",value:s},s=>r[i]={status:"rejected",reason:s}).then(()=>--n||t(r)))})}),Pn.any&&typeof AggregateError<"u"&&Le(O,"any",function(){const e=Ne.apply(null,arguments).map(An);return new O((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const o=new Array(r);e.forEach((i,s)=>O.resolve(i).then(a=>t(a),a=>{o[s]=a,--r||n(new AggregateError(o))}))})}));const ie={awaits:0,echoes:0,id:0};var kc=0,Dn=[],$r=0,Ln=0,Cc=0;function Ke(e,t,n,r){var o=N,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++Cc;var s=It.env;i.env=Ir?{Promise:O,PromiseProp:{value:O,configurable:!0,writable:!0},all:O.all,race:O.race,allSettled:O.allSettled,any:O.any,resolve:O.resolve,reject:O.reject,nthen:Ss(s.nthen,i),gthen:Ss(s.gthen,i)}:{},t&&se(i,t),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=Ot(i,e,n,r);return i.ref===0&&i.finalize(),a}function jt(){return ie.id||(ie.id=++kc),++ie.awaits,ie.echoes+=gs,ie.id}function Me(){return!!ie.awaits&&(--ie.awaits==0&&(ie.id=0),ie.echoes=ie.awaits*gs,!0)}function An(e){return ie.echoes&&e&&e.constructor===Pn?(jt(),e.then(t=>(Me(),t),t=>(Me(),X(t)))):e}function Sc(e){++Ln,ie.echoes&&--ie.echoes!=0||(ie.echoes=ie.id=0),Dn.push(N),ze(e,!0)}function Ec(){var e=Dn[Dn.length-1];Dn.pop(),ze(e,!1)}function ze(e,t){var n=N;if((t?!ie.echoes||$r++&&e===N:!$r||--$r&&e===N)||Cs(t?Sc.bind(null,e):Ec),e!==N&&(N=e,n===It&&(It.env=ks()),Ir)){var r=It.env.Promise,o=e.env;En.then=o.nthen,r.prototype.then=o.gthen,(n.global||e.global)&&(Object.defineProperty(K,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}}function ks(){var e=K.Promise;return Ir?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(K,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:En.then,gthen:e.prototype.then}:{}}function Ot(e,t,n,r,o){var i=N;try{return ze(e,!0),t(n,r,o)}finally{ze(i,!1)}}function Cs(e){vs.call(Pr,e)}function Nn(e,t,n,r){return typeof e!="function"?e:function(){var o=N;n&&jt(),ze(t,!0);try{return e.apply(this,arguments)}finally{ze(o,!1),r&&Cs(Me)}}}function Ss(e,t){return function(n,r){return e.call(this,Nn(n,t),Nn(r,t))}}(""+vs).indexOf("[native code]")===-1&&(jt=Me=q);const Es="unhandledrejection";function Ps(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,o={promise:t,reason:e};if(K.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(Es,!0,!0),se(r,o)):K.CustomEvent&&se(r=new CustomEvent(Es,{detail:o}),o),r&&K.dispatchEvent&&(dispatchEvent(r),!K.PromiseRejectionEvent&&K.onunhandledrejection))try{K.onunhandledrejection(r)}catch{}Ee&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var X=O.reject;function Br(e,t,n,r){if(e.idbdb&&(e._state.openComplete||N.letThrough||e._vip)){var o=e._createTransaction(t,n,e._dbSchema);try{o.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===Sr.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Br(e,t,n,r))):X(i)}return o._promise(t,(i,s)=>Ke(()=>(N.trans=o,r(i,s,o)))).then(i=>o._completion.then(()=>i))}if(e._state.openComplete)return X(new $.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return X(new $.DatabaseClosed);e.open().catch(q)}return e._state.dbReadyPromise.then(()=>Br(e,t,n,r))}const Ts="3.2.4",at="￿",Ur=-1/0,$e="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Is="String expected.",Jt=[],Mn=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Pc=Mn,Tc=Mn,js=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),$n="__dbnames",Vr="readonly",Fr="readwrite";function lt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Os={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Bn(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=qt(t))[e],t)}class Ic{_trans(t,n,r){const o=this._tx||N.trans,i=this.name;function s(l,c,d){if(!d.schema[i])throw new $.NotFound("Table "+i+" not part of transaction");return n(d.idbtrans,d)}const a=Yt();try{return o&&o.db===this.db?o===N.trans?o._promise(t,s,r):Ke(()=>o._promise(t,s,r),{trans:o,transless:N.transless||N}):Br(this.db,t,[this.name],s)}finally{a&&Qt()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(o=>this.hook.reading.fire(o))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(oe(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=Y(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(c=>c.compound&&n.every(d=>c.keyPath.indexOf(d)>=0)&&c.keyPath.every(d=>n.indexOf(d)>=0))[0];if(r&&this.db._maxKey!==at)return this.where(r.name).equals(r.keyPath.map(c=>t[c]));!r&&Ee&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:o}=this.schema,i=this.db._deps.indexedDB;function s(c,d){try{return i.cmp(c,d)===0}catch{return!1}}const[a,l]=n.reduce(([c,d],u)=>{const h=o[u],p=t[u];return[c||h,c||!h?lt(d,h&&h.multi?y=>{const f=Ae(y,u);return oe(f)&&f.some(_=>s(p,_))}:y=>s(p,Ae(y,u))):d]},[null,null]);return a?this.where(a.name).equals(t[a.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,oe(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const o=Object.create(t.prototype);for(var i in r)if(de(r,i))try{o[i]=r[i]}catch{}return o};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){se(this,t)})}add(t,n){const{auto:r,keyPath:o}=this.schema.primKey;let i=t;return o&&r&&(i=Bn(o)(t)),this._trans("readwrite",s=>this.core.mutate({trans:s,type:"add",keys:n!=null?[n]:null,values:[i]})).then(s=>s.numFailures?O.reject(s.failures[0]):s.lastResult).then(s=>{if(o)try{_e(t,o,s)}catch{}return s})}update(t,n){if(typeof t!="object"||oe(t))return this.where(":id").equals(t).modify(n);{const r=Ae(t,this.schema.primKey.keyPath);if(r===void 0)return X(new $.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?Y(n).forEach(o=>{_e(t,o,n[o])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:o}=this.schema.primKey;let i=t;return o&&r&&(i=Bn(o)(t)),this._trans("readwrite",s=>this.core.mutate({trans:s,type:"put",values:[i],keys:n!=null?[n]:null})).then(s=>s.numFailures?O.reject(s.failures[0]):s.lastResult).then(s=>{if(o)try{_e(t,o,s)}catch{}return s})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?O.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:Os})).then(t=>t.numFailures?O.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(o=>this.hook.reading.fire(o))))}bulkAdd(t,n,r){const o=Array.isArray(n)?n:void 0,i=(r=r||(o?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",s=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&o)throw new $.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new $.InvalidArgument("Arguments objects and keys must have the same length");const c=t.length;let d=l&&a?t.map(Bn(l)):t;return this.core.mutate({trans:s,type:"add",keys:o,values:d,wantResults:i}).then(({numFailures:u,results:h,lastResult:p,failures:y})=>{if(u===0)return i?h:p;throw new Kt(`${this.name}.bulkAdd(): ${u} of ${c} operations failed`,y)})})}bulkPut(t,n,r){const o=Array.isArray(n)?n:void 0,i=(r=r||(o?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",s=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&o)throw new $.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new $.InvalidArgument("Arguments objects and keys must have the same length");const c=t.length;let d=l&&a?t.map(Bn(l)):t;return this.core.mutate({trans:s,type:"put",keys:o,values:d,wantResults:i}).then(({numFailures:u,results:h,lastResult:p,failures:y})=>{if(u===0)return i?h:p;throw new Kt(`${this.name}.bulkPut(): ${u} of ${c} operations failed`,y)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:o,failures:i})=>{if(r===0)return o;throw new Kt(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,i)})}}function Xt(e){var t={},n=function(s,a){if(a){for(var l=arguments.length,c=new Array(l-1);--l;)c[l-1]=arguments[l];return t[s].subscribe.apply(null,c),e}if(typeof s=="string")return t[s]};n.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return n;function i(s,a,l){if(typeof s!="object"){var c;a||(a=bc),l||(l=q);var d={subscribers:[],fire:l,subscribe:function(u){d.subscribers.indexOf(u)===-1&&(d.subscribers.push(u),d.fire=a(d.fire,u))},unsubscribe:function(u){d.subscribers=d.subscribers.filter(function(h){return h!==u}),d.fire=d.subscribers.reduce(a,l)}};return t[s]=n[s]=d,d}Y(c=s).forEach(function(u){var h=c[u];if(oe(h))i(u,c[u][0],c[u][1]);else{if(h!=="asap")throw new $.InvalidArgument("Invalid event config");var p=i(u,zt,function(){for(var y=arguments.length,f=new Array(y);y--;)f[y]=arguments[y];p.subscribers.forEach(function(_){ss(function(){_.apply(null,f)})})})}})}}function en(e,t){return Et(t).from({prototype:e}),t}function Rt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Hr(e,t){e.filter=lt(e.filter,t)}function qr(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>lt(r(),t()):t,e.justLimit=n&&!r}function Un(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new $.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Rs(e,t,n){const r=Un(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function Vn(e,t,n,r){const o=e.replayFilter?lt(e.filter,e.replayFilter()):e.filter;if(e.or){const i={},s=(a,l,c)=>{if(!o||o(l,c,h=>l.stop(h),h=>l.fail(h))){var d=l.primaryKey,u=""+d;u==="[object ArrayBuffer]"&&(u=""+new Uint8Array(d)),de(i,u)||(i[u]=!0,t(a,l,c))}};return Promise.all([e.or._iterate(s,n),Ds(Rs(e,r,n),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}return Ds(Rs(e,r,n),lt(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)}function Ds(e,t,n,r){var o=W(r?(i,s,a)=>n(r(i),s,a):n);return e.then(i=>{if(i)return i.start(()=>{var s=()=>i.continue();t&&!t(i,a=>s=a,a=>{i.stop(a),s=q},a=>{i.fail(a),s=q})||o(i.value,i,a=>s=a),s()})})}function ae(e,t){try{const n=Ls(e),r=Ls(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(o,i){const s=o.length,a=i.length,l=s<a?s:a;for(let c=0;c<l;++c)if(o[c]!==i[c])return o[c]<i[c]?-1:1;return s===a?0:s<a?-1:1}(As(e),As(t));case"Array":return function(o,i){const s=o.length,a=i.length,l=s<a?s:a;for(let c=0;c<l;++c){const d=ae(o[c],i[c]);if(d!==0)return d}return s===a?0:s<a?-1:1}(e,t)}}catch{}return NaN}function Ls(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=br(e);return n==="ArrayBuffer"?"binary":n}function As(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class jc{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,X.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,X.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=lt(n.algorithm,t)}_iterate(t,n){return Vn(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&se(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>Vn(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,o=r.table.core;if(Rt(r,!0))return o.count({trans:n,query:{index:Un(r,o.schema),range:r.range}}).then(s=>Math.min(s,r.limit));var i=0;return Vn(r,()=>(++i,!1),n,o).then(()=>i)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),o=r[0],i=r.length-1;function s(c,d){return d?s(c[r[d]],d-1):c[o]}var a=this._ctx.dir==="next"?1:-1;function l(c,d){var u=s(c,i),h=s(d,i);return u<h?-a:u>h?a:0}return this.toArray(function(c){return c.sort(l)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Rt(r,!0)&&r.limit>0){const{valueMapper:o}=r,i=Un(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:i,range:r.range}}).then(({result:s})=>o?s.map(o):s)}{const o=[];return Vn(r,i=>o.push(i),n,r.table.core).then(()=>o)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,Rt(n)?qr(n,()=>{var r=t;return(o,i)=>r===0||(r===1?(--r,!1):(i(()=>{o.advance(r),r=0}),!1))}):qr(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),qr(this._ctx,()=>{var n=t;return function(r,o,i){return--n<=0&&o(i),n>=0}},!0),this}until(t,n){return Hr(this._ctx,function(r,o,i){return!t(r.value)||(o(i),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return Hr(this._ctx,function(o){return t(o.value)}),n=this._ctx,r=t,n.isMatch=lt(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,o){t(o.key,o)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,o){t(o.primaryKey,o)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(o,i){r.push(i.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&Rt(n,!0)&&n.limit>0)return this._read(o=>{var i=Un(n,n.table.core.schema);return n.table.core.query({trans:o,values:!1,limit:n.limit,query:{index:i,range:n.range}})}).then(({result:o})=>o).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(o,i){r.push(i.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return Hr(this._ctx,function(o){var i=o.primaryKey.toString(),s=de(r,i);return r[i]=!0,!s}),this}modify(t){var n=this._ctx;return this._write(r=>{var o;if(typeof t=="function")o=t;else{var i=Y(t),s=i.length;o=function(f){for(var _=!1,g=0;g<s;++g){var v=i[g],x=t[v];Ae(f,v)!==x&&(_e(f,v,x),_=!0)}return _}}const a=n.table.core,{outbound:l,extractKey:c}=a.schema.primaryKey,d=this.db._options.modifyChunkSize||200,u=[];let h=0;const p=[],y=(f,_)=>{const{failures:g,numFailures:v}=_;h+=f-v;for(let x of Y(g))u.push(g[x])};return this.clone().primaryKeys().then(f=>{const _=g=>{const v=Math.min(d,f.length-g);return a.getMany({trans:r,keys:f.slice(g,g+v),cache:"immutable"}).then(x=>{const C=[],w=[],k=l?[]:null,S=[];for(let b=0;b<v;++b){const T=x[b],I={value:qt(T),primKey:f[g+b]};o.call(I,I.value,I)!==!1&&(I.value==null?S.push(f[g+b]):l||ae(c(T),c(I.value))===0?(w.push(I.value),l&&k.push(f[g+b])):(S.push(f[g+b]),C.push(I.value)))}const E=Rt(n)&&n.limit===1/0&&(typeof t!="function"||t===Kr)&&{index:n.index,range:n.range};return Promise.resolve(C.length>0&&a.mutate({trans:r,type:"add",values:C}).then(b=>{for(let T in b.failures)S.splice(parseInt(T),1);y(C.length,b)})).then(()=>(w.length>0||E&&typeof t=="object")&&a.mutate({trans:r,type:"put",keys:k,values:w,criteria:E,changeSpec:typeof t!="function"&&t}).then(b=>y(w.length,b))).then(()=>(S.length>0||E&&t===Kr)&&a.mutate({trans:r,type:"delete",keys:S,criteria:E}).then(b=>y(S.length,b))).then(()=>f.length>g+v&&_(g+d))})};return _(0).then(()=>{if(u.length>0)throw new Cn("Error modifying one or more objects",u,h,p);return f.length})})})}delete(){var t=this._ctx,n=t.range;return Rt(t)&&(t.isPrimKey&&!Tc||n.type===3)?this._write(r=>{const{primaryKey:o}=t.table.core.schema,i=n;return t.table.core.count({trans:r,query:{index:o,range:i}}).then(s=>t.table.core.mutate({trans:r,type:"deleteRange",range:i}).then(({failures:a,lastResult:l,results:c,numFailures:d})=>{if(d)throw new Cn("Could not delete some values",Object.keys(a).map(u=>a[u]),s-d);return s-d}))}):this.modify(Kr)}}const Kr=(e,t)=>t.value=null;function Oc(e,t){return e<t?-1:e===t?0:1}function Rc(e,t){return e>t?-1:e===t?0:1}function he(e,t,n){var r=e instanceof Ms?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Dt(e){return new e.Collection(e,()=>Ns("")).limit(0)}function Dc(e,t,n,r,o,i){for(var s=Math.min(e.length,r.length),a=-1,l=0;l<s;++l){var c=t[l];if(c!==r[l])return o(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):o(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;o(e[l],c)<0&&(a=l)}return s<r.length&&i==="next"?e+n.substr(e.length):s<e.length&&i==="prev"?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function Fn(e,t,n,r){var o,i,s,a,l,c,d,u=n.length;if(!n.every(f=>typeof f=="string"))return he(e,Is);function h(f){o=function(g){return g==="next"?v=>v.toUpperCase():v=>v.toLowerCase()}(f),i=function(g){return g==="next"?v=>v.toLowerCase():v=>v.toUpperCase()}(f),s=f==="next"?Oc:Rc;var _=n.map(function(g){return{lower:i(g),upper:o(g)}}).sort(function(g,v){return s(g.lower,v.lower)});a=_.map(function(g){return g.upper}),l=_.map(function(g){return g.lower}),c=f,d=f==="next"?"":r}h("next");var p=new e.Collection(e,()=>We(a[0],l[u-1]+r));p._ondirectionchange=function(f){h(f)};var y=0;return p._addAlgorithm(function(f,_,g){var v=f.key;if(typeof v!="string")return!1;var x=i(v);if(t(x,l,y))return!0;for(var C=null,w=y;w<u;++w){var k=Dc(v,x,a[w],l[w],s,c);k===null&&C===null?y=w+1:(C===null||s(C,k)>0)&&(C=k)}return _(C!==null?function(){f.continue(C+d)}:g),!1}),p}function We(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Ns(e){return{type:1,lower:e,upper:e}}class Ms{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,o){r=r!==!1,o=o===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||o)&&(!r||!o)?Dt(this):new this.Collection(this,()=>We(t,n,!r,!o))}catch{return he(this,$e)}}equals(t){return t==null?he(this,$e):new this.Collection(this,()=>Ns(t))}above(t){return t==null?he(this,$e):new this.Collection(this,()=>We(t,void 0,!0))}aboveOrEqual(t){return t==null?he(this,$e):new this.Collection(this,()=>We(t,void 0,!1))}below(t){return t==null?he(this,$e):new this.Collection(this,()=>We(void 0,t,!1,!0))}belowOrEqual(t){return t==null?he(this,$e):new this.Collection(this,()=>We(void 0,t))}startsWith(t){return typeof t!="string"?he(this,Is):this.between(t,t+at,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):Fn(this,(n,r)=>n.indexOf(r[0])===0,[t],at)}equalsIgnoreCase(t){return Fn(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=Ne.apply(Pt,arguments);return t.length===0?Dt(this):Fn(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=Ne.apply(Pt,arguments);return t.length===0?Dt(this):Fn(this,(n,r)=>r.some(o=>n.indexOf(o)===0),t,at)}anyOf(){const t=Ne.apply(Pt,arguments);let n=this._cmp;try{t.sort(n)}catch{return he(this,$e)}if(t.length===0)return Dt(this);const r=new this.Collection(this,()=>We(t[0],t[t.length-1]));r._ondirectionchange=i=>{n=i==="next"?this._ascending:this._descending,t.sort(n)};let o=0;return r._addAlgorithm((i,s,a)=>{const l=i.key;for(;n(l,t[o])>0;)if(++o,o===t.length)return s(a),!1;return n(l,t[o])===0||(s(()=>{i.continue(t[o])}),!1)}),r}notEqual(t){return this.inAnyRange([[Ur,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=Ne.apply(Pt,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return he(this,$e)}const n=t.reduce((r,o)=>r?r.concat([[r[r.length-1][1],o]]):[[Ur,o]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,o=this._ascending,i=this._descending,s=this._min,a=this._max;if(t.length===0)return Dt(this);if(!t.every(v=>v[0]!==void 0&&v[1]!==void 0&&o(v[0],v[1])<=0))return he(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",$.InvalidArgument);const l=!n||n.includeLowers!==!1,c=n&&n.includeUppers===!0;let d,u=o;function h(v,x){return u(v[0],x[0])}try{d=t.reduce(function(v,x){let C=0,w=v.length;for(;C<w;++C){const k=v[C];if(r(x[0],k[1])<0&&r(x[1],k[0])>0){k[0]=s(k[0],x[0]),k[1]=a(k[1],x[1]);break}}return C===w&&v.push(x),v},[]),d.sort(h)}catch{return he(this,$e)}let p=0;const y=c?v=>o(v,d[p][1])>0:v=>o(v,d[p][1])>=0,f=l?v=>i(v,d[p][0])>0:v=>i(v,d[p][0])>=0;let _=y;const g=new this.Collection(this,()=>We(d[0][0],d[d.length-1][1],!l,!c));return g._ondirectionchange=v=>{v==="next"?(_=y,u=o):(_=f,u=i),d.sort(h)},g._addAlgorithm((v,x,C)=>{for(var w=v.key;_(w);)if(++p,p===d.length)return x(C),!1;return!!function(k){return!y(k)&&!f(k)}(w)||(this._cmp(w,d[p][1])===0||this._cmp(w,d[p][0])===0||x(()=>{u===o?v.continue(d[p][0]):v.continue(d[p][1])}),!1)}),g}startsWithAnyOf(){const t=Ne.apply(Pt,arguments);return t.every(n=>typeof n=="string")?t.length===0?Dt(this):this.inAnyRange(t.map(n=>[n,n+at])):he(this,"startsWithAnyOf() only works with strings")}}function Pe(e){return W(function(t){return tn(t),e(t.target.error),!1})}function tn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const nn="storagemutated",Ge="x-storagemutated-1",Ze=Xt(null,nn);class Lc{_lock(){return Ht(!N.global),++this._reculock,this._reculock!==1||N.global||(N.lockOwnerFor=this),this}_unlock(){if(Ht(!N.global),--this._reculock==0)for(N.global||(N.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Ot(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&N.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Ht(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new $.DatabaseClosed(r);case"MissingAPIError":throw new $.MissingAPI(r.message,r);default:throw new $.OpenFailed(r)}if(!this.active)throw new $.TransactionInactive;return Ht(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=W(o=>{tn(o),this._reject(t.error)}),t.onabort=W(o=>{tn(o),this.active&&this._reject(new $.Abort(t.error)),this.active=!1,this.on("abort").fire(o)}),t.oncomplete=W(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Ze.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return X(new $.ReadOnly("Transaction is readonly"));if(!this.active)return X(new $.TransactionInactive);if(this._locked())return new O((i,s)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(i,s)},N])});if(r)return Ke(()=>{var i=new O((s,a)=>{this._lock();const l=n(s,a,this);l&&l.then&&l.then(s,a)});return i.finally(()=>this._unlock()),i._lib=!0,i});var o=new O((i,s)=>{var a=n(i,s,this);a&&a.then&&a.then(i,s)});return o._lib=!0,o}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=O.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var o=n.idbtrans.objectStore(n.storeNames[0]);(function s(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(o.get(-1/0).onsuccess=s)})()}var i=n._waitingFor;return new O((s,a)=>{r.then(l=>n._waitingQueue.push(W(s.bind(null,l))),l=>n._waitingQueue.push(W(a.bind(null,l)))).finally(()=>{n._waitingFor===i&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new $.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(de(n,t))return n[t];const r=this.schema[t];if(!r)throw new $.NotFound("Table "+t+" not part of transaction");const o=new this.db.Table(t,r,this);return o.core=this.db.core.table(t),n[t]=o,o}}function zr(e,t,n,r,o,i,s){return{name:e,keyPath:t,unique:n,multi:r,auto:o,compound:i,src:(n&&!s?"&":"")+(r?"*":"")+(o?"++":"")+$s(t)}}function $s(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Bs(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:as(n,r=>[r.name,r])}}let rn=e=>{try{return e.only([[]]),rn=()=>[[]],[[]]}catch{return rn=()=>at,at}};function Wr(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?r=>r[t]:r=>Ae(r,t)}(e):t=>Ae(t,e)}function Us(e){return[].slice.call(e)}let Ac=0;function on(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function Nc(e,t,n){function r(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:c,upper:d,lowerOpen:u,upperOpen:h}=l;return c===void 0?d===void 0?null:t.upperBound(d,!!h):d===void 0?t.lowerBound(c,!!u):t.bound(c,d,!!u,!!h)}const{schema:o,hasGetAll:i}=function(l,c){const d=Us(l.objectStoreNames);return{schema:{name:l.name,tables:d.map(u=>c.objectStore(u)).map(u=>{const{keyPath:h,autoIncrement:p}=u,y=oe(h),f=h==null,_={},g={name:u.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:f,compound:y,keyPath:h,autoIncrement:p,unique:!0,extractKey:Wr(h)},indexes:Us(u.indexNames).map(v=>u.index(v)).map(v=>{const{name:x,unique:C,multiEntry:w,keyPath:k}=v,S={name:x,compound:oe(k),keyPath:k,unique:C,multiEntry:w,extractKey:Wr(k)};return _[on(k)]=S,S}),getIndexByKeyPath:v=>_[on(v)]};return _[":id"]=g.primaryKey,h!=null&&(_[on(h)]=g.primaryKey),g})},hasGetAll:d.length>0&&"getAll"in c.objectStore(d[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),s=o.tables.map(l=>function(c){const d=c.name;return{name:d,schema:c,mutate:function({trans:u,type:h,keys:p,values:y,range:f}){return new Promise((_,g)=>{_=W(_);const v=u.objectStore(d),x=v.keyPath==null,C=h==="put"||h==="add";if(!C&&h!=="delete"&&h!=="deleteRange")throw new Error("Invalid operation type: "+h);const{length:w}=p||y||{length:1};if(p&&y&&p.length!==y.length)throw new Error("Given keys array must have same length as given values array.");if(w===0)return _({numFailures:0,failures:{},results:[],lastResult:void 0});let k;const S=[],E=[];let b=0;const T=D=>{++b,tn(D)};if(h==="deleteRange"){if(f.type===4)return _({numFailures:b,failures:E,results:[],lastResult:void 0});f.type===3?S.push(k=v.clear()):S.push(k=v.delete(r(f)))}else{const[D,A]=C?x?[y,p]:[y,null]:[p,null];if(C)for(let F=0;F<w;++F)S.push(k=A&&A[F]!==void 0?v[h](D[F],A[F]):v[h](D[F])),k.onerror=T;else for(let F=0;F<w;++F)S.push(k=v[h](D[F])),k.onerror=T}const I=D=>{const A=D.target.result;S.forEach((F,L)=>F.error!=null&&(E[L]=F.error)),_({numFailures:b,failures:E,results:h==="delete"?p:S.map(F=>F.result),lastResult:A})};k.onerror=D=>{T(D),I(D)},k.onsuccess=I})},getMany:({trans:u,keys:h})=>new Promise((p,y)=>{p=W(p);const f=u.objectStore(d),_=h.length,g=new Array(_);let v,x=0,C=0;const w=S=>{const E=S.target;g[E._pos]=E.result,++C===x&&p(g)},k=Pe(y);for(let S=0;S<_;++S)h[S]!=null&&(v=f.get(h[S]),v._pos=S,v.onsuccess=w,v.onerror=k,++x);x===0&&p(g)}),get:({trans:u,key:h})=>new Promise((p,y)=>{p=W(p);const f=u.objectStore(d).get(h);f.onsuccess=_=>p(_.target.result),f.onerror=Pe(y)}),query:function(u){return h=>new Promise((p,y)=>{p=W(p);const{trans:f,values:_,limit:g,query:v}=h,x=g===1/0?void 0:g,{index:C,range:w}=v,k=f.objectStore(d),S=C.isPrimaryKey?k:k.index(C.name),E=r(w);if(g===0)return p({result:[]});if(u){const b=_?S.getAll(E,x):S.getAllKeys(E,x);b.onsuccess=T=>p({result:T.target.result}),b.onerror=Pe(y)}else{let b=0;const T=_||!("openKeyCursor"in S)?S.openCursor(E):S.openKeyCursor(E),I=[];T.onsuccess=D=>{const A=T.result;return A?(I.push(_?A.value:A.primaryKey),++b===g?p({result:I}):void A.continue()):p({result:I})},T.onerror=Pe(y)}})}(i),openCursor:function({trans:u,values:h,query:p,reverse:y,unique:f}){return new Promise((_,g)=>{_=W(_);const{index:v,range:x}=p,C=u.objectStore(d),w=v.isPrimaryKey?C:C.index(v.name),k=y?f?"prevunique":"prev":f?"nextunique":"next",S=h||!("openKeyCursor"in w)?w.openCursor(r(x),k):w.openKeyCursor(r(x),k);S.onerror=Pe(g),S.onsuccess=W(E=>{const b=S.result;if(!b)return void _(null);b.___id=++Ac,b.done=!1;const T=b.continue.bind(b);let I=b.continuePrimaryKey;I&&(I=I.bind(b));const D=b.advance.bind(b),A=()=>{throw new Error("Cursor not stopped")};b.trans=u,b.stop=b.continue=b.continuePrimaryKey=b.advance=()=>{throw new Error("Cursor not started")},b.fail=W(g),b.next=function(){let F=1;return this.start(()=>F--?this.continue():this.stop()).then(()=>this)},b.start=F=>{const L=new Promise((Z,ke)=>{Z=W(Z),S.onerror=Pe(ke),b.fail=ke,b.stop=Je=>{b.stop=b.continue=b.continuePrimaryKey=b.advance=A,Z(Je)}}),ne=()=>{if(S.result)try{F()}catch(Z){b.fail(Z)}else b.done=!0,b.start=()=>{throw new Error("Cursor behind last entry")},b.stop()};return S.onsuccess=W(Z=>{S.onsuccess=ne,ne()}),b.continue=T,b.continuePrimaryKey=I,b.advance=D,ne(),L},_(b)},g)})},count({query:u,trans:h}){const{index:p,range:y}=u;return new Promise((f,_)=>{const g=h.objectStore(d),v=p.isPrimaryKey?g:g.index(p.name),x=r(y),C=x?v.count(x):v.count();C.onsuccess=W(w=>f(w.target.result)),C.onerror=Pe(_)})}}}(l)),a={};return s.forEach(l=>a[l.name]=l),{stack:"dbcore",transaction:e.transaction.bind(e),table(l){if(!a[l])throw new Error(`Table '${l}' not found`);return a[l]},MIN_KEY:-1/0,MAX_KEY:rn(t),schema:o}}function Gr({_novip:e},t){const n=t.db,r=function(o,i,{IDBKeyRange:s,indexedDB:a},l){return{dbcore:function(d,u){return u.reduce((h,{create:p})=>({...h,...p(h)}),d)}(Nc(i,s,l),o.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(o=>{const i=o.name;e.core.schema.tables.some(s=>s.name===i)&&(o.core=e.core.table(i),e[i]instanceof e.Table&&(e[i].core=o.core))})}function Hn({_novip:e},t,n,r){n.forEach(o=>{const i=r[o];t.forEach(s=>{const a=yr(s,o);(!a||"value"in a&&a.value===void 0)&&(s===e.Transaction.prototype||s instanceof e.Transaction?Le(s,o,{get(){return this.table(o)},set(l){os(this,o,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):s[o]=new e.Table(o,i))})})}function Zr({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function Mc(e,t){return e._cfg.version-t._cfg.version}function $c(e,t,n,r){const o=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,o);i.create(n),i._completion.catch(r);const s=i._reject.bind(i),a=N.transless||N;Ke(()=>{N.trans=i,N.transless=a,t===0?(Y(o).forEach(l=>{Yr(n,l,o[l].primKey,o[l].indexes)}),Gr(e,n),O.follow(()=>e.on.populate.fire(i)).catch(s)):function({_novip:l},c,d,u){const h=[],p=l._versions;let y=l._dbSchema=Jr(l,l.idbdb,u),f=!1;const _=p.filter(v=>v._cfg.version>=c);function g(){return h.length?O.resolve(h.shift()(d.idbtrans)).then(g):O.resolve()}return _.forEach(v=>{h.push(()=>{const x=y,C=v._cfg.dbschema;Xr(l,x,u),Xr(l,C,u),y=l._dbSchema=C;const w=Vs(x,C);w.add.forEach(S=>{Yr(u,S[0],S[1].primKey,S[1].indexes)}),w.change.forEach(S=>{if(S.recreate)throw new $.Upgrade("Not yet support for changing primary key");{const E=u.objectStore(S.name);S.add.forEach(b=>Qr(E,b)),S.change.forEach(b=>{E.deleteIndex(b.name),Qr(E,b)}),S.del.forEach(b=>E.deleteIndex(b))}});const k=v._cfg.contentUpgrade;if(k&&v._cfg.version>c){Gr(l,u),d._memoizedTables={},f=!0;let S=ls(C);w.del.forEach(I=>{S[I]=x[I]}),Zr(l,[l.Transaction.prototype]),Hn(l,[l.Transaction.prototype],Y(S),S),d.schema=S;const E=wr(k);let b;E&&jt();const T=O.follow(()=>{if(b=k(d),b&&E){var I=Me.bind(null,null);b.then(I,I)}});return b&&typeof b.then=="function"?O.resolve(b):T.then(()=>b)}}),h.push(x=>{(!f||!Pc)&&function(C,w){[].slice.call(w.db.objectStoreNames).forEach(k=>C[k]==null&&w.db.deleteObjectStore(k))}(v._cfg.dbschema,x),Zr(l,[l.Transaction.prototype]),Hn(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),d.schema=l._dbSchema})}),g().then(()=>{var v,x;x=u,Y(v=y).forEach(C=>{x.db.objectStoreNames.contains(C)||Yr(x,C,v[C].primKey,v[C].indexes)})})}(e,t,i,n).catch(s)})}function Vs(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const o=e[r],i=t[r];if(o){const s={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto&&!Mn)s.recreate=!0,n.change.push(s);else{const a=o.idxByName,l=i.idxByName;let c;for(c in a)l[c]||s.del.push(c);for(c in l){const d=a[c],u=l[c];d?d.src!==u.src&&s.change.push(u):s.add.push(u)}(s.del.length>0||s.add.length>0||s.change.length>0)&&n.change.push(s)}}else n.add.push([r,i])}return n}function Yr(e,t,n,r){const o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(i=>Qr(o,i)),o}function Qr(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Jr(e,t,n){const r={};return kn(t.objectStoreNames,0).forEach(o=>{const i=n.objectStore(o);let s=i.keyPath;const a=zr($s(s),s||"",!1,!1,!!i.autoIncrement,s&&typeof s!="string",!0),l=[];for(let d=0;d<i.indexNames.length;++d){const u=i.index(i.indexNames[d]);s=u.keyPath;var c=zr(u.name,s,!!u.unique,!!u.multiEntry,!1,s&&typeof s!="string",!1);l.push(c)}r[o]=Bs(o,a,l)}),r}function Xr({_novip:e},t,n){const r=n.db.objectStoreNames;for(let o=0;o<r.length;++o){const i=r[o],s=n.objectStore(i);e._hasGetAll="getAll"in s;for(let a=0;a<s.indexNames.length;++a){const l=s.indexNames[a],c=s.index(l).keyPath,d=typeof c=="string"?c:"["+kn(c).join("+")+"]";if(t[i]){const u=t[i].idxByName[d];u&&(u.name=l,delete t[i].idxByName[d],t[i].idxByName[l]=u)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&K.WorkerGlobalScope&&K instanceof K.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class Bc{_parseStoresSpec(t,n){Y(t).forEach(r=>{if(t[r]!==null){var o=t[r].split(",").map((s,a)=>{const l=(s=s.trim()).replace(/([&*]|\+\+)/g,""),c=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return zr(l,c||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),oe(c),a===0)}),i=o.shift();if(i.multi)throw new $.Schema("Primary key cannot be multi-valued");o.forEach(s=>{if(s.auto)throw new $.Schema("Only primary key can be marked as autoIncrement (++)");if(!s.keyPath)throw new $.Schema("Index must have a name and cannot be an empty string")}),n[r]=Bs(r,i,o)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?se(this._cfg.storesSource,t):t;const r=n._versions,o={};let i={};return r.forEach(s=>{se(o,s._cfg.storesSource),i=s._cfg.dbschema={},s._parseStoresSpec(o,i)}),n._dbSchema=i,Zr(n,[n._allTables,n,n.Transaction.prototype]),Hn(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],Y(i),i),n._storeNames=Y(i),this}upgrade(t){return this._cfg.contentUpgrade=Er(this._cfg.contentUpgrade||q,t),this}}function eo(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new ct($n,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function to(e){return e&&typeof e.databases=="function"}function no(e){return Ke(function(){return N.letThrough=!0,e()})}function Uc(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function Vc(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?X(t.dbOpenError):e);Ee&&(t.openCanceller._stackHolder=rt()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function o(){if(t.openCanceller!==r)throw new $.DatabaseClosed("db.open() was cancelled")}let i=t.dbReadyResolve,s=null,a=!1;return O.race([r,(typeof navigator>"u"?O.resolve():Uc()).then(()=>new O((l,c)=>{if(o(),!n)throw new $.MissingAPI;const d=e.name,u=t.autoSchema?n.open(d):n.open(d,Math.round(10*e.verno));if(!u)throw new $.MissingAPI;u.onerror=Pe(c),u.onblocked=W(e._fireOnBlocked),u.onupgradeneeded=W(h=>{if(s=u.transaction,t.autoSchema&&!e._options.allowEmptyDB){u.onerror=tn,s.abort(),u.result.close();const y=n.deleteDatabase(d);y.onsuccess=y.onerror=W(()=>{c(new $.NoSuchDatabase(`Database ${d} doesnt exist`))})}else{s.onerror=Pe(c);var p=h.oldVersion>Math.pow(2,62)?0:h.oldVersion;a=p<1,e._novip.idbdb=u.result,$c(e,p/10,s,c)}},c),u.onsuccess=W(()=>{s=null;const h=e._novip.idbdb=u.result,p=kn(h.objectStoreNames);if(p.length>0)try{const f=h.transaction((y=p).length===1?y[0]:y,"readonly");t.autoSchema?function({_novip:_},g,v){_.verno=g.version/10;const x=_._dbSchema=Jr(0,g,v);_._storeNames=kn(g.objectStoreNames,0),Hn(_,[_._allTables],Y(x),x)}(e,h,f):(Xr(e,e._dbSchema,f),function(_,g){const v=Vs(Jr(0,_.idbdb,g),_._dbSchema);return!(v.add.length||v.change.some(x=>x.add.length||x.change.length))}(e,f)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Gr(e,f)}catch{}var y;Jt.push(e),h.onversionchange=W(f=>{t.vcFired=!0,e.on("versionchange").fire(f)}),h.onclose=W(f=>{e.on("close").fire(f)}),a&&function({indexedDB:f,IDBKeyRange:_},g){!to(f)&&g!==$n&&eo(f,_).put({name:g}).catch(q)}(e._deps,d),l()},c)}))]).then(()=>(o(),t.onReadyBeingFired=[],O.resolve(no(()=>e.on.ready.fire(e.vip))).then(function l(){if(t.onReadyBeingFired.length>0){let c=t.onReadyBeingFired.reduce(Er,q);return t.onReadyBeingFired=[],O.resolve(no(()=>c(e.vip))).then(l)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(l=>{t.dbOpenError=l;try{s&&s.abort()}catch{}return r===t.openCanceller&&e._close(),X(l)}).finally(()=>{t.openComplete=!0,i()})}function ro(e){var t=i=>e.next(i),n=o(t),r=o(i=>e.throw(i));function o(i){return s=>{var a=i(s),l=a.value;return a.done?l:l&&typeof l.then=="function"?l.then(n,r):oe(l)?Promise.all(l).then(n,r):n(l)}}return o(t)()}function Fc(e,t,n){var r=arguments.length;if(r<2)throw new $.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];return n=o.pop(),[e,cs(o),n]}function Fs(e,t,n,r,o){return O.resolve().then(()=>{const i=N.transless||N,s=e._createTransaction(t,n,e._dbSchema,r),a={trans:s,transless:i};if(r)s.idbtrans=r.idbtrans;else try{s.create(),e._state.PR1398_maxLoop=3}catch(u){return u.name===Sr.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Fs(e,t,n,null,o))):X(u)}const l=wr(o);let c;l&&jt();const d=O.follow(()=>{if(c=o.call(s,s),c)if(l){var u=Me.bind(null,null);c.then(u,u)}else typeof c.next=="function"&&typeof c.throw=="function"&&(c=ro(c))},a);return(c&&typeof c.then=="function"?O.resolve(c).then(u=>s.active?u:X(new $.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):d.then(()=>c)).then(u=>(r&&s._resolve(),s._completion.then(()=>u))).catch(u=>(s._reject(u),X(u)))})}function qn(e,t,n){const r=oe(e)?e.slice():[e];for(let o=0;o<n;++o)r.push(t);return r}const Hc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,o={},i=[];function s(d,u,h){const p=on(d),y=o[p]=o[p]||[],f=d==null?0:typeof d=="string"?1:d.length,_=u>0,g={...h,isVirtual:_,keyTail:u,keyLength:f,extractKey:Wr(d),unique:!_&&h.unique};return y.push(g),g.isPrimaryKey||i.push(g),f>1&&s(f===2?d[0]:d.slice(0,f-1),u+1,h),y.sort((v,x)=>v.keyTail-x.keyTail),g}const a=s(r.primaryKey.keyPath,0,r.primaryKey);o[":id"]=[a];for(const d of r.indexes)s(d.keyPath,0,d);function l(d){const u=d.query.index;return u.isVirtual?{...d,query:{index:u,range:(h=d.query.range,p=u.keyTail,{type:h.type===1?2:h.type,lower:qn(h.lower,h.lowerOpen?e.MAX_KEY:e.MIN_KEY,p),lowerOpen:!0,upper:qn(h.upper,h.upperOpen?e.MIN_KEY:e.MAX_KEY,p),upperOpen:!0})}}:d;var h,p}return{...n,schema:{...r,primaryKey:a,indexes:i,getIndexByKeyPath:function(d){const u=o[on(d)];return u&&u[0]}},count:d=>n.count(l(d)),query:d=>n.query(l(d)),openCursor(d){const{keyTail:u,isVirtual:h,keyLength:p}=d.query.index;return h?n.openCursor(l(d)).then(y=>y&&function(f){return Object.create(f,{continue:{value:function(g){g!=null?f.continue(qn(g,d.reverse?e.MAX_KEY:e.MIN_KEY,u)):d.unique?f.continue(f.key.slice(0,p).concat(d.reverse?e.MIN_KEY:e.MAX_KEY,u)):f.continue()}},continuePrimaryKey:{value(g,v){f.continuePrimaryKey(qn(g,e.MAX_KEY,u),v)}},primaryKey:{get:()=>f.primaryKey},key:{get(){const g=f.key;return p===1?g[0]:g.slice(0,p)}},value:{get:()=>f.value}})}(y)):n.openCursor(d)}}}}}};function oo(e,t,n,r){return n=n||{},r=r||"",Y(e).forEach(o=>{if(de(t,o)){var i=e[o],s=t[o];if(typeof i=="object"&&typeof s=="object"&&i&&s){const a=br(i);a!==br(s)?n[r+o]=t[o]:a==="Object"?oo(i,s,n,r+o+"."):i!==s&&(n[r+o]=t[o])}else i!==s&&(n[r+o]=t[o])}else n[r+o]=void 0}),Y(t).forEach(o=>{de(e,o)||(n[r+o]=t[o])}),n}const qc={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(i){const s=N.trans,{deleting:a,creating:l,updating:c}=s.table(t).hook;switch(i.type){case"add":if(l.fire===q)break;return s._promise("readwrite",()=>d(i),!0);case"put":if(l.fire===q&&c.fire===q)break;return s._promise("readwrite",()=>d(i),!0);case"delete":if(a.fire===q)break;return s._promise("readwrite",()=>d(i),!0);case"deleteRange":if(a.fire===q)break;return s._promise("readwrite",()=>function(h){return u(h.trans,h.range,1e4)}(i),!0)}return n.mutate(i);function d(h){const p=N.trans,y=h.keys||function(f,_){return _.type==="delete"?_.keys:_.keys||_.values.map(f.extractKey)}(r,h);if(!y)throw new Error("Keys missing");return(h=h.type==="add"||h.type==="put"?{...h,keys:y}:{...h}).type!=="delete"&&(h.values=[...h.values]),h.keys&&(h.keys=[...h.keys]),function(f,_,g){return _.type==="add"?Promise.resolve([]):f.getMany({trans:_.trans,keys:g,cache:"immutable"})}(n,h,y).then(f=>{const _=y.map((g,v)=>{const x=f[v],C={onerror:null,onsuccess:null};if(h.type==="delete")a.fire.call(C,g,x,p);else if(h.type==="add"||x===void 0){const w=l.fire.call(C,g,h.values[v],p);g==null&&w!=null&&(g=w,h.keys[v]=g,r.outbound||_e(h.values[v],r.keyPath,g))}else{const w=oo(x,h.values[v]),k=c.fire.call(C,w,g,x,p);if(k){const S=h.values[v];Object.keys(k).forEach(E=>{de(S,E)?S[E]=k[E]:_e(S,E,k[E])})}}return C});return n.mutate(h).then(({failures:g,results:v,numFailures:x,lastResult:C})=>{for(let w=0;w<y.length;++w){const k=v?v[w]:y[w],S=_[w];k==null?S.onerror&&S.onerror(g[w]):S.onsuccess&&S.onsuccess(h.type==="put"&&f[w]?h.values[w]:k)}return{failures:g,results:v,numFailures:x,lastResult:C}}).catch(g=>(_.forEach(v=>v.onerror&&v.onerror(g)),Promise.reject(g)))})}function u(h,p,y){return n.query({trans:h,values:!1,query:{index:r,range:p},limit:y}).then(({result:f})=>d({type:"delete",keys:f,trans:h}).then(_=>_.numFailures>0?Promise.reject(_.failures[0]):f.length<y?{failures:[],numFailures:0,lastResult:void 0}:u(h,{...p,lower:f[f.length-1],lowerOpen:!0},y)))}}}}})};function Hs(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let o=0,i=0;o<t.keys.length&&i<e.length;++o)ae(t.keys[o],e[i])===0&&(r.push(n?qt(t.values[o]):t.values[o]),++i);return r.length===e.length?r:null}catch{return null}}const Kc={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const o=Hs(r.keys,r.trans._cache,r.cache==="clone");return o?O.resolve(o):n.getMany(r).then(i=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?qt(i):i},i))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function io(e){return!("from"in e)}const Be=function(e,t){if(!this){const n=new Be;return e&&"d"in e&&se(n,e),n}se(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function sn(e,t,n){const r=ae(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(io(e))return se(e,{from:t,to:n,d:1});const o=e.l,i=e.r;if(ae(n,e.from)<0)return o?sn(o,t,n):e.l={from:t,to:n,d:1,l:null,r:null},qs(e);if(ae(t,e.to)>0)return i?sn(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},qs(e);ae(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),ae(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const s=!e.r;o&&!e.l&&Kn(e,o),i&&s&&Kn(e,i)}function Kn(e,t){io(t)||function n(r,{from:o,to:i,l:s,r:a}){sn(r,o,i),s&&n(r,s),a&&n(r,a)}(e,t)}function zc(e,t){const n=so(t);let r=n.next();if(r.done)return!1;let o=r.value;const i=so(e);let s=i.next(o.from),a=s.value;for(;!r.done&&!s.done;){if(ae(a.from,o.to)<=0&&ae(a.to,o.from)>=0)return!0;ae(o.from,a.from)<0?o=(r=n.next(a.from)).value:a=(s=i.next(o.from)).value}return!1}function so(e){let t=io(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&ae(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||ae(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function qs(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),o=r>1?"r":r<-1?"l":"";if(o){const i=o==="r"?"l":"r",s={...e},a=e[o];e.from=a.from,e.to=a.to,e[o]=a[o],s[o]=a[i],e[i]=s,s.d=Ks(s)}e.d=Ks(e)}function Ks({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}St(Be.prototype,{add(e){return Kn(this,e),this},addKey(e){return sn(this,e,e),this},addKeys(e){return e.forEach(t=>sn(this,t,t)),this},[xr](){return so(this)}});const Wc={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new Be(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const o=e.table(r),{schema:i}=o,{primaryKey:s}=i,{extractKey:a,outbound:l}=s,c={...o,mutate:h=>{const p=h.trans,y=p.mutatedParts||(p.mutatedParts={}),f=k=>{const S=`idb://${t}/${r}/${k}`;return y[S]||(y[S]=new Be)},_=f(""),g=f(":dels"),{type:v}=h;let[x,C]=h.type==="deleteRange"?[h.range]:h.type==="delete"?[h.keys]:h.values.length<50?[[],h.values]:[];const w=h.trans._cache;return o.mutate(h).then(k=>{if(oe(x)){v!=="delete"&&(x=k.results),_.addKeys(x);const S=Hs(x,w);S||v==="add"||g.addKeys(x),(S||C)&&function(E,b,T,I){function D(A){const F=E(A.name||"");function L(Z){return Z!=null?A.extractKey(Z):null}const ne=Z=>A.multiEntry&&oe(Z)?Z.forEach(ke=>F.addKey(ke)):F.addKey(Z);(T||I).forEach((Z,ke)=>{const Je=T&&L(T[ke]),Xe=I&&L(I[ke]);ae(Je,Xe)!==0&&(Je!=null&&ne(Je),Xe!=null&&ne(Xe))})}b.indexes.forEach(D)}(f,i,S,C)}else if(x){const S={from:x.lower,to:x.upper};g.add(S),_.add(S)}else _.add(n),g.add(n),i.indexes.forEach(S=>f(S.name).add(n));return k})}},d=({query:{index:h,range:p}})=>{var y,f;return[h,new Be((y=p.lower)!==null&&y!==void 0?y:e.MIN_KEY,(f=p.upper)!==null&&f!==void 0?f:e.MAX_KEY)]},u={get:h=>[s,new Be(h.key)],getMany:h=>[s,new Be().addKeys(h.keys)],count:d,query:d,openCursor:d};return Y(u).forEach(h=>{c[h]=function(p){const{subscr:y}=N;if(y){const f=C=>{const w=`idb://${t}/${r}/${C}`;return y[w]||(y[w]=new Be)},_=f(""),g=f(":dels"),[v,x]=u[h](p);if(f(v.name||"").add(x),!v.isPrimaryKey){if(h!=="count"){const C=h==="query"&&l&&p.values&&o.query({...p,values:!1});return o[h].apply(this,arguments).then(w=>{if(h==="query"){if(l&&p.values)return C.then(({result:S})=>(_.addKeys(S),w));const k=p.values?w.result.map(a):w.result;p.values?_.addKeys(k):g.addKeys(k)}else if(h==="openCursor"){const k=w,S=p.values;return k&&Object.create(k,{key:{get:()=>(g.addKey(k.primaryKey),k.key)},primaryKey:{get(){const E=k.primaryKey;return g.addKey(E),E}},value:{get:()=>(S&&_.addKey(k.primaryKey),k.value)}})}return w})}g.add(n)}}return o[h].apply(this,arguments)}}),c}}}};class ct{constructor(t,n){this._middlewares={},this.verno=0;const r=ct.dependencies;this._options=n={addons:ct.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:o}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:q,dbReadyPromise:null,cancelOpen:q,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var s;i.dbReadyPromise=new O(a=>{i.dbReadyResolve=a}),i.openCanceller=new O((a,l)=>{i.cancelOpen=l}),this._state=i,this.name=t,this.on=Xt(this,"populate","blocked","versionchange","close",{ready:[Er,q]}),this.on.ready.subscribe=is(this.on.ready.subscribe,a=>(l,c)=>{ct.vip(()=>{const d=this._state;if(d.openComplete)d.dbOpenError||O.resolve().then(l),c&&a(l);else if(d.onReadyBeingFired)d.onReadyBeingFired.push(l),c&&a(l);else{a(l);const u=this;c||a(function h(){u.on.ready.unsubscribe(l),u.on.ready.unsubscribe(h)})}})}),this.Collection=(s=this,en(jc.prototype,function(a,l){this.db=s;let c=Os,d=null;if(l)try{c=l()}catch(y){d=y}const u=a._ctx,h=u.table,p=h.hook.reading.fire;this._ctx={table:h,index:u.index,isPrimKey:!u.index||h.schema.primKey.keyPath&&u.index===h.schema.primKey.name,range:c,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:d,or:u.or,valueMapper:p!==zt?p:null}})),this.Table=function(a){return en(Ic.prototype,function(l,c,d){this.db=a,this._tx=d,this.name=l,this.schema=c,this.hook=a._allTables[l]?a._allTables[l].hook:Xt(null,{creating:[vc,q],reading:[gc,zt],updating:[_c,q],deleting:[yc,q]})})}(this),this.Transaction=function(a){return en(Lc.prototype,function(l,c,d,u,h){this.db=a,this.mode=l,this.storeNames=c,this.schema=d,this.chromeTransactionDurability=u,this.idbtrans=null,this.on=Xt(this,"complete","error","abort"),this.parent=h||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new O((p,y)=>{this._resolve=p,this._reject=y}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},p=>{var y=this.active;return this.active=!1,this.on.error.fire(p),this.parent?this.parent._reject(p):y&&this.idbtrans&&this.idbtrans.abort(),X(p)})})}(this),this.Version=function(a){return en(Bc.prototype,function(l){this.db=a,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(a){return en(Ms.prototype,function(l,c,d){this.db=a,this._ctx={table:l,index:c===":id"?null:c,or:d};const u=a._deps.indexedDB;if(!u)throw new $.MissingAPI;this._cmp=this._ascending=u.cmp.bind(u),this._descending=(h,p)=>u.cmp(p,h),this._max=(h,p)=>u.cmp(h,p)>0?h:p,this._min=(h,p)=>u.cmp(h,p)<0?h:p,this._IDBKeyRange=a._deps.IDBKeyRange})}(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=rn(n.IDBKeyRange),this._createTransaction=(a,l,c,d)=>new this.Transaction(a,l,c,this._options.chromeTransactionDurability,d),this._fireOnBlocked=a=>{this.on("blocked").fire(a),Jt.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(a))},this.use(Hc),this.use(qc),this.use(Wc),this.use(Kc),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach(a=>a(this))}version(t){if(isNaN(t)||t<.1)throw new $.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new $.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(o=>o._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(Mc),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||N.letThrough||this._vip)?t():new O((n,r)=>{if(this._state.openComplete)return r(new $.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new $.DatabaseClosed);this.open().catch(q)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:o}){o&&this.unuse({stack:t,name:o});const i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:n,level:r??10,name:o}),i.sort((s,a)=>s.level-a.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(o=>r?o.create!==r:!!n&&o.name!==n)),this}open(){return Vc(this)}_close(){const t=this._state,n=Jt.indexOf(this);if(n>=0&&Jt.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new O(r=>{t.dbReadyResolve=r}),t.openCanceller=new O((r,o)=>{t.cancelOpen=o})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new $.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new O((r,o)=>{const i=()=>{this.close();var s=this._deps.indexedDB.deleteDatabase(this.name);s.onsuccess=W(()=>{(function({indexedDB:a,IDBKeyRange:l},c){!to(a)&&c!==$n&&eo(a,l).delete(c).catch(q)})(this._deps,this.name),r()}),s.onerror=Pe(o),s.onblocked=this._fireOnBlocked};if(t)throw new $.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Y(this._allTables).map(t=>this._allTables[t])}transaction(){const t=Fc.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let o=N.trans;o&&o.db===this&&t.indexOf("!")===-1||(o=null);const i=t.indexOf("?")!==-1;let s,a;t=t.replace("!","").replace("?","");try{if(a=n.map(c=>{var d=c instanceof this.Table?c.name:c;if(typeof d!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return d}),t=="r"||t===Vr)s=Vr;else{if(t!="rw"&&t!=Fr)throw new $.InvalidArgument("Invalid transaction mode: "+t);s=Fr}if(o){if(o.mode===Vr&&s===Fr){if(!i)throw new $.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&a.forEach(c=>{if(o&&o.storeNames.indexOf(c)===-1){if(!i)throw new $.SubTransaction("Table "+c+" not included in parent transaction.");o=null}}),i&&o&&!o.active&&(o=null)}}catch(c){return o?o._promise(null,(d,u)=>{u(c)}):X(c)}const l=Fs.bind(null,this,s,a,o,r);return o?o._promise(s,l,"lock"):N.trans?Ot(N.transless,()=>this._whenReady(l)):this._whenReady(l)}table(t){if(!de(this._allTables,t))throw new $.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const Gc=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Zc{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[Gc](){return this}}function zs(e,t){return Y(t).forEach(n=>{Kn(e[n]||(e[n]=new Be),t[n])}),e}function Yc(e){let t,n=!1;const r=new Zc(o=>{const i=wr(e);let s=!1,a={},l={};const c={get closed(){return s},unsubscribe:()=>{s=!0,Ze.storagemutated.unsubscribe(p)}};o.start&&o.start(c);let d=!1,u=!1;function h(){return Y(l).some(f=>a[f]&&zc(a[f],l[f]))}const p=f=>{zs(a,f),h()&&y()},y=()=>{if(d||s)return;a={};const f={},_=function(g){i&&jt();const v=()=>Ke(e,{subscr:g,trans:null}),x=N.trans?Ot(N.transless,v):v();return i&&x.then(Me,Me),x}(f);u||(Ze(nn,p),u=!0),d=!0,Promise.resolve(_).then(g=>{n=!0,t=g,d=!1,s||(h()?y():(a={},l=f,o.next&&o.next(g)))},g=>{d=!1,n=!1,o.error&&o.error(g),c.unsubscribe()})};return y(),c});return r.hasValue=()=>n,r.getValue=()=>t,r}let ao;try{ao={indexedDB:K.indexedDB||K.mozIndexedDB||K.webkitIndexedDB||K.msIndexedDB,IDBKeyRange:K.IDBKeyRange||K.webkitIDBKeyRange}}catch{ao={indexedDB:null,IDBKeyRange:null}}const ut=ct;function zn(e){let t=Ue;try{Ue=!0,Ze.storagemutated.fire(e)}finally{Ue=t}}St(ut,{...Sn,delete:e=>new ut(e,{addons:[]}).delete(),exists:e=>new ut(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return to(t)?Promise.resolve(t.databases()).then(r=>r.map(o=>o.name).filter(o=>o!==$n)):eo(t,n).toCollection().primaryKeys()}(ut.dependencies).then(e)}catch{return X(new $.MissingAPI)}},defineClass:()=>function(e){se(this,e)},ignoreTransaction:e=>N.trans?Ot(N.transless,e):e(),vip:no,async:function(e){return function(){try{var t=ro(e.apply(this,arguments));return t&&typeof t.then=="function"?t:O.resolve(t)}catch(n){return X(n)}}},spawn:function(e,t,n){try{var r=ro(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:O.resolve(r)}catch(o){return X(o)}},currentTransaction:{get:()=>N.trans||null},waitFor:function(e,t){const n=O.resolve(typeof e=="function"?ut.ignoreTransaction(e):e).timeout(t||6e4);return N.trans?N.trans.waitFor(n):n},Promise:O,debug:{get:()=>Ee,set:e=>{ds(e,e==="dexie"?()=>!0:js)}},derive:Et,extend:se,props:St,override:is,Events:Xt,on:Ze,liveQuery:Yc,extendObservabilitySet:zs,getByKeyPath:Ae,setByKeyPath:_e,delByKeyPath:function(e,t){typeof t=="string"?_e(e,t,void 0):"length"in t&&[].map.call(t,function(n){_e(e,n,void 0)})},shallowClone:ls,deepClone:qt,getObjectDiff:oo,cmp:ae,asap:ss,minKey:Ur,addons:[],connections:Jt,errnames:Sr,dependencies:ao,semVer:Ts,version:Ts.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),ut.maxKey=rn(ut.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ze(nn,e=>{if(!Ue){let t;Mn?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Ge,!0,!0,e)):t=new CustomEvent(Ge,{detail:e}),Ue=!0,dispatchEvent(t),Ue=!1}}),addEventListener(Ge,({detail:e})=>{Ue||zn(e)}));let Ue=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(Ge);typeof e.unref=="function"&&e.unref(),Ze(nn,t=>{Ue||e.postMessage(t)}),e.onmessage=t=>{t.data&&zn(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Ze(nn,t=>{try{Ue||(typeof localStorage<"u"&&localStorage.setItem(Ge,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:Ge,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===Ge){const n=JSON.parse(t.newValue);n&&zn(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===Ge&&zn(t.changedParts)})}O.rejectionMapper=function(e,t){if(!e||e instanceof Tt||e instanceof TypeError||e instanceof SyntaxError||!e.name||!ms[e.name])return e;var n=new ms[e.name](t||e.message,e);return"stack"in e&&Le(n,"stack",{get:function(){return this.inner.stack}}),n},ds(Ee,js);const lo="sprig.sessionId",Qc="sprig.disableReplayRecording",Jc=()=>{Vt.setItem(Qc,"disabled")},Ws=(()=>{const e=Vt.getItem(lo);if(e)return kt(`Found saved session id: ${e}`),Vt.removeItem(lo),e;const t=_n();return kt(`Generating new uuid: ${t}`),t})();window.addEventListener("beforeunload",()=>{kt(`Before page unload saving session id: ${Ws}`),Vt.setItem(lo,Ws)});class Xc extends ct{constructor(){super("replayStorage",{autoOpen:!1});pe(this,"events");pe(this,"chunkUploads");pe(this,"pendingCaptures")}}const Gs=new Xc;Gs.version(1).stores({events:"uuid, timestamp, [sessionId+timestamp]",chunkUploads:"uuid, timestamp, [sessionId+status], [uploadId+status], [sessionId+status+uploadId]",pendingCaptures:"uuid, timestamp, [sessionId+targetTimestamp]"}),Gs.open().catch(e=>{Yl(`Error opening replay storage: ${JSON.stringify(e)}`),Jc()}),Vt.getItem("sprig.pendingCount");const eu=e=>{};var P=(e=>(e.ConsentLegal="consentlegal",e.Likert="likert",e.Matrix="matrix",e.MultipleChoice="multiplechoice",e.MultipleSelect="multipleselect",e.NPS="nps",e.Open="open",e.RecordedTask="recordedtask",e.TextUrlPrompt="texturlprompt",e.Thanks="thanks",e.Uploading="uploading",e.VideoVoice="videovoice",e))(P||{}),be=(e=>(e.Answered="answered",e.Contains="contains",e.DoesNotContain="notcontains",e.DoesNotInclude="list_dni",e.Equal="eq",e.GivenUp="given_up",e.GreaterThan="gt",e.GreaterThanOrEqual="gte",e.LessThan="lt",e.LessThanOrEqual="lte",e.ListAll="list_all",e.ListAtLeastOne="list_alo",e.ListExact="list_exact",e.NotEqual="neq",e.Partial="partial",e.Skipped="skipped",e))(be||{}),Lt=(e=>(e.Camera="camera",e.Microphone="microphone",e.Screen="screen",e))(Lt||{}),me=(e=>(e.AvPermission="av_permission",e.ScreenPermission="screen_permission",e.StartTask="start_task",e.CompleteTask="complete_task",e))(me||{}),dt=(e=>(e.Number="number",e.Smiley="smiley",e.Star="star",e))(dt||{});window.UserLeap&&window.Sprig&&(window.Sprig._gtm?window.Sprig=window.UserLeap:window.UserLeap=window.Sprig),window.UserLeap||(window.UserLeap=window.Sprig),window.Sprig||(window.Sprig=window.UserLeap);const tu="360px";Ce.SurveyFadingOut+"";var co=(e=>(e[e.And=1]="And",e[e.Or=2]="Or",e))(co||{});const Zs=1,uo={eq(e,t){return e==t},neq(e,t){return!this.eq(e,t)},gt(e,t){return e>t},gte(e,t){return e>=t},lt(e,t){return e<t},lte(e,t){return e<=t},list_exact(e,t){return!Array.isArray(e)||!Array.isArray(t)?!1:e.slice().sort().join(",")===t.slice().sort().join(",")},list_all(e,t){return!Array.isArray(e)||!Array.isArray(t)?!1:!t.some(n=>e.indexOf(n)===-1)},list_alo(e,t){if(!Array.isArray(t))return!1;const n=Array.isArray(e)?e:[e],r=new Set(n);return t.some(o=>r.has(o))},list_dni(e,t){if(!Array.isArray(t))return!1;const n=Array.isArray(e)?e:[e],r=new Set(n);return t.every(o=>!r.has(o))},contains(e,t){const n=e.toLowerCase(),r=t.toLowerCase();return n.includes(r)},notcontains(e,t){return!this.contains(e,t)}},nu=(e,t,n)=>{switch(t){case P.VideoVoice:return!!(e&&e.value);case P.Open:return!!n;case P.MultipleSelect:return!!(n&&Object.keys(n).length);case P.RecordedTask:return(n==null?void 0:n.taskStatus)===fe.Completed;case P.TextUrlPrompt:return!e.value;case P.ConsentLegal:return n!==null;case P.MultipleChoice:return n!==void 0;case P.Matrix:return!!(n&&Object.values(n).every(r=>r!==null));case P.NPS:return n!==null;case P.Likert:return n!==null;default:return!0}},Ys=(e,t)=>{if(t===P.Matrix){const n=Object.keys(e).length,r=Object.values(e).filter(o=>o!==null).length;return r>0&&r<n}return!1},Qs=({cards:e,index:t,hasEndCard:n,allResponses:r,uploadProgress:o={}})=>{if(t>=e.length||t<0)return null;const i=e[t];let s=t+1;const a=i.props.routingOptions||[];for(let d=0;d<a.length;d++){const{group:u,target:h}=a[d];if(!(u!=null&&u.length))continue;const p=u[0];if(p.questionIndex===void 0||p.questionIndex>r.length)continue;let y=Js({comparator:p.comparator,response:r[p.questionIndex],type:i.type,value:p.value});for(let f=1;f<u.length;f+=2){const _=u[f],g=u[f+1],v=Js({comparator:g.comparator,response:r[g.questionIndex],type:e[g.questionIndex].type,value:g.value});_===co.And?y&&(y=v):_===co.Or&&(y||(y=v))}if(y){s=h===-1&&n?e.length-1:h;break}}const l=e.findIndex(d=>d.type===P.Uploading);let c;return l>0?c=n?e.length-3:e.length-2:c=e.length-1,t>=c||s===-1||s!==null&&s>c?l>0&&Object.values(o).some(u=>u.isSubmitted&&!u.isComplete)?l:n?e.length-1:null:s===-1?null:s},Js=({comparator:e,response:t,type:n,value:r})=>{if(e===be.Answered)switch(n){case P.TextUrlPrompt:return t===void 0;case P.ConsentLegal:return t&&t.submitted===!0;case P.RecordedTask:return"taskStatus"in t&&t.taskStatus===fe.Completed;case P.Likert:return Number.isInteger(t);case P.Open:return t&&t.length>0;case P.MultipleChoice:case P.MultipleSelect:return Object.keys(t).length>0;case P.Matrix:return Object.values(t).every(o=>o!==null);case P.NPS:return Number.isInteger(t);case P.VideoVoice:return!!(t!=null&&t.mediaRecordingUid);default:return!1}if(e===be.GivenUp)return n===P.RecordedTask?"taskStatus"in t&&t.taskStatus===fe.GivenUp:!0;if(e===be.Partial)return n===P.Matrix?Ys(t,n):!1;if(e===be.Skipped)switch(n){case P.TextUrlPrompt:return t==null?void 0:t.skipped;case P.ConsentLegal:return t===null;case P.RecordedTask:return"taskStatus"in t&&t.taskStatus===fe.Abandoned;case P.Likert:return t===null;case P.Open:return(t==null?void 0:t.length)===0;case P.MultipleChoice:return t===void 0;case P.MultipleSelect:return(t==null?void 0:t.length)===0;case P.Matrix:return Object.values(t).every(o=>o===null);case P.NPS:return t===null;case P.VideoVoice:return t===null;default:return!1}return uo[e](t,r)},ru=13,ou=(e,t)=>e.reduce((n,r)=>n.concat(n.map(o=>[...o,r])),[[]]).filter(n=>t||n.length>0),iu=e=>{var t,n,r;switch(e.type){case P.MultipleSelect:return!e||!e.props||!e.props.options?null:e.props.options.length>ru?e.props.options.map(o=>[o.value]):ou(e.props.options.map(o=>o.value),!e.props.properties.required);case P.MultipleChoice:{if(!e||!e.props||!e.props.options)return null;const o=e.props.options.map(i=>i.value);return e.props.properties.required||o.push(void 0),o}case P.Matrix:{if(!((t=e==null?void 0:e.props)!=null&&t.options))return null;const o=e.props.properties.matrixColumn,i=e.props.options,s=i.reduce((d,u)=>(d[u.id]=null,d),{}),a={...s,[i[0].id]:o[0].value},l=i.reduce((d,u)=>(d[u.id]=o[0].value,d),{}),c=[a,l];return e.props.properties.required||c.push(s),c}case P.Likert:{const o=Number((r=(n=e.props)==null?void 0:n.properties)==null?void 0:r.range)||5;return[...Array.from(Array(o).keys()).map(s=>s+1),...e.props.properties.required?[]:[null]]}case P.NPS:return[0,1,2,3,4,5,6,7,8,9,10,...e.props.properties.required?[]:[null]];case P.VideoVoice:case P.Open:return["1",...e.props.properties.required?[]:[""]];case P.RecordedTask:return[{taskStatus:fe.Completed},{taskStatus:fe.GivenUp},...e.props.properties.required?[]:[{taskStatus:fe.Abandoned}]];case P.TextUrlPrompt:return[void 0,...e.props.properties.required?[]:[{skipped:!0}]];case P.ConsentLegal:return[Zs,...e.props.properties.required?[]:[null]];default:return[Zs]}},su=e=>e in uo,au=e=>typeof e=="object"&&e!==null&&"taskStatus"in e,lu=(e,t=[])=>t.reduce((n,r)=>{const{group:o,target:i}=r;if(!(o!=null&&o.length))return[...n];const s=o.filter(a=>Number(a)?!0:typeof a=="object"?a.questionIndex===e:!1).map(a=>{const{comparator:l,value:c}=a;return{comparator:l,target:i,value:c}});return[...n,...s]},[]),cu=(e,t)=>{const n=new Set([P.Thanks,P.Uploading]);if(t>=e.length||t<0||n.has(e[t].type))return 0;const r=e.filter(i=>!n.has(i.type));if(t===r.length-1)return 1;const o={[r.length-1]:1,[-1]:0};for(let i=r.length-2;i>=t;i--){const s=r[i],a=lu(i,s.props.routingOptions);if(a.length===0){o[i]=o[i+1]+1;continue}let l=0,c=iu(s);if(c===null)return r.length-1-t;for(let d=0;d<a.length&&c.length!==0;d++){const{comparator:u,target:h,value:p}=a[d],y=c.filter(f=>{const _=nu({value:f},s.type,f),g=Ys(f,s.type);return!(_&&u===be.Answered||g&&u===be.Partial||!_&&!g&&u===be.Skipped||u===be.GivenUp&&au(f)&&f.taskStatus===fe.GivenUp||_&&s.type===P.Open&&(u===be.Contains||u===be.DoesNotContain)||_&&su(u)&&uo[u](f,p))});if(y.length<c.length){const f=parseInt(String(h),10);if(f!==-1&&f<=i||f>=r.length)return r.length-1-t;l=Math.max(o[f]+1,l)}c=y}c.length>0&&(l=Math.max(o[i+1]+1,l)),o[i]=l}return o[t]},uu=e=>!(e.type===P.Thanks||e.type===P.Uploading),z=qi()((e,t)=>({allResponses:[],answers:void 0,apiURL:"",border:"#000000",cards:[],close:async(n=yt)=>{const r=t(),{fadeout:o,remove:i,trackHistory:s}=r;await o(n),ho(r)||s({event:"closed"}),kt(`Closing survey: ${r.surveyId}`),Qi.enable(),i({initiator:gr.Closed})},configureExitOnOverlayClick:()=>{},customMetadata:{},destroy:async n=>{const{eventEmitFn:r,fadeout:o,remove:i}=t();r(Se.SurveyComplete),await o(n),Qi.enable(),i({initiator:gr.Complete})},endCard:{headline:""},envId:"",eventEmitFn:vn.emit.bind(vn),fadeout:async n=>{const{eventEmitFn:r,headers:o,viewDocument:i}=t();return mn(o)?Promise.resolve():(r(Ce.SurveyFadingOut),new Promise(s=>{const a=i.getElementById(n);a?(a.addEventListener("transitionend",()=>{s()}),a.classList.remove("ul-app--visible")):s()}))},forceBrandedLogo:!1,frame:document.createElement("iframe"),handleClickEmbedButton:n=>{const{cards:r,eventEmitFn:o,index:i}=t();o(n,{[wt.QuestionId]:r[i].name,[wt.Props]:r[i].props}),e(()=>({hasViewedEmbed:!0}))},handleUploadUpdate:({mediaRecordingUid:n,isComplete:r,progressPct:o,isSubmitted:i})=>{var p,y,f;const{cards:s,destroy:a,index:l,uploadProgress:c}=t(),d=r||((p=c[n])==null?void 0:p.isComplete),u={...c,[n]:{progressPct:d?100:o||((y=c[n])==null?void 0:y.progressPct),isComplete:d,isSubmitted:i||((f=c[n])==null?void 0:f.isSubmitted)}};if(e({uploadProgress:u}),s[l].type!==P.Uploading)return;const h=Object.entries(c).every(([_,g])=>!g.isSubmitted||g.isComplete||n==_&&r);if(h&&l>=s.length-1)return a(yt);e({index:h?l+1:l,uploadingCardViewed:!0})},hasViewedEmbed:!1,headers:{Authorization:"","Content-Type":"","userleap-platform":_t.Web,"x-ul-environment-id":"","x-ul-installation-method":bt.Snippet,"x-ul-sdk-version":"","x-ul-visitor-id":""},index:0,isPreview:!1,marketingUrl:"https://sprig.com",meta:{ch:0,cw:0,l:"",mode:null,p:"",sh:0,sw:0},mode:void 0,next:n=>{const{allResponses:r,cards:o,eventEmitFn:i,index:s,responseGroupUid:a,submit:l,trackHistory:c,uploadProgress:d,viewedCardCount:u}=t(),h=Date.now(),p=[...o],y=p[s],{type:f}=n.data,_={...n.data},g=_.value;uu(y)&&(y.value=g),_.answeredAt=h,delete _.type;const v={response:_,responseGroupUid:a,questionIndex:s};let x=f===P.MultipleChoice?Object.values(g).find(E=>E!==!1):g;f===P.MultipleSelect&&(x=p[s].props.options.reduce((E,b)=>(g[b.id]&&E.push(b.value),E),[]));const C=r.slice(0);C[s]=x,e({allResponses:C});const w=Qs({cards:p,index:s,hasEndCard:!!n.endCard,uploadProgress:d,allResponses:C});if(w===null){v.completedAt=h,l(v),n.completeSurvey();return}else[P.Thanks,P.Uploading].includes(p[w].type)&&(v.completedAt=h);const k=l(v);[P.Thanks,P.Uploading].includes(p[w].type)||k.finally(()=>{c({event:"seen",index:w})});const S=p[w];p[w]&&i&&i(Se.CurrentQuestion,{[wt.QuestionId]:S.name,[wt.Props]:S.props}),e({cards:p,hasViewedEmbed:!1,index:w,viewedCardCount:u+1})},pendingRemoveIframeReason:null,previewKey:null,recorder:()=>{},recorderEventEmitter:vn,resolveTrackedPromise:()=>{const{removeIframeIfReady:n}=t();e(r=>({unresolvedRequestCount:r.unresolvedRequestCount-1})),n()},responseGroupUid:"",remove:({initiator:n})=>{const{removeIframeIfReady:r}=t();e({pendingRemoveIframeReason:n}),r()},removeIframeIfReady:()=>{const{eventEmitFn:n,pendingRemoveIframeReason:r,unresolvedRequestCount:o}=t();r&&o===0&&(n(Ce.SurveyWillClose,{name:Ce.SurveyWillClose,initiator:r}),e({pendingRemoveIframeReason:null}))},seen:async()=>{const{trackHistory:n}=t();return n({event:"seen",isNew:!0})},slugName:null,showStripes:!1,showSurveyBrand:!1,styleNonce:"",submit:async({completedAt:n,questionIndex:r,response:o,responseGroupUid:i})=>{const s=t();if(!i||ho(s))return;const a={responseGroupUid:i,meta:s.meta,customMetadata:s.customMetadata,responses:[o],completedAt:n,previewKey:s.previewKey};kt(`Submitting response: ${JSON.stringify(o.value,null,2)} for survey: ${s.surveyId}`),n&&(kt("Survey complete"),eu({id:s.surveyId,userAgent:window.navigator.userAgent}));const l=await s.trackPromise(Ct(`${s.apiURL}/sdk/1/environments/${s.envId}/visitors/${s.userId}/responses/submit`,{body:JSON.stringify(a),headers:s.headers,method:"POST"}));if(!l.ok){l.reportError&&(console.warn("[Sprig] (ERR-427) Failed to submit response",l.error),await s.trackPromise(Xs(s,"submitResponse",l.error)));return}s.eventEmitFn(Ce.QuestionAnswered,{...o,questionIndex:r})},surveyId:0,tabTitle:"",trackHistory:async({event:n,index:r,isNew:o=!1})=>{const i=t();if(ho(i))return;const{cards:s,index:a}=i,l=r!==void 0?s[r]:s[a],c={sid:i.surveyId,qid:l.name,action:n,vid:i.userId,eid:i.envId,isNew:o,responseGroupUid:i.responseGroupUid,previewKey:i.previewKey},d=await i.trackPromise(Ct(`${i.apiURL}/sdk/1/visitors/${i.userId}/surveys/${i.surveyId}/history`,{body:JSON.stringify(c),headers:i.headers,method:"POST"}));!d.ok&&d.reportError&&(console.warn("[Sprig] (ERR-428) Failed to track survey event",d.error),await i.trackPromise(Xs(i,"trackHistory",d.error)))},trackPromise:async n=>{let{resolveTrackedPromise:r}=t();return e(o=>({unresolvedRequestCount:o.unresolvedRequestCount+1})),n.then(o=>(r(),o)).catch(o=>{throw r(),o})},unresolvedRequestCount:0,update:()=>{const{cards:n,index:r,headers:o,eventEmitFn:i,frame:s,useMobileStyling:a,viewDocument:l}=t(),d=n[r].type===P.Matrix;setTimeout(()=>{var p,y;const[u,h]=Vl(l);mn(o)?i(Ce.SurveyHeight,{name:Ce.SurveyHeight,contentFrameHeight:u}):((p=s.setHeight)==null||p.call(s,u),a||(y=s.setWidth)==null||y.call(s,d?h:parseInt(tu)))},100)},uploadingCardViewed:!1,uploadProgress:{},useDesktopPrototype:void 0,useMobileStyling:!1,userId:"",viewDocument:window.document,viewedCardCount:0})),ho=e=>!e.userId||e.meta&&e.meta.mode==="test"||e.isPreview,Xs=async(e,t,n)=>{const{mode:r,userId:o,envId:i,apiURL:s,headers:a,viewDocument:l}=e,c=l.documentElement,d={mode:r,screenWidth:window.screen.width,screenHeight:window.screen.height,clientWidth:c.clientWidth,clientHeight:c.clientHeight,location:window.location.href,language:window.navigator.language},u={action:t,err:{message:n==null?void 0:n.message,stack:n==null?void 0:n.stack},meta:d,vid:o,envId:i},h=await Ct(`${s}/sdk/1/errors`,{method:"POST",headers:Object.assign({"x-ul-error":window.btoa(`userleap-${Date.now()}-error`)},a),body:JSON.stringify(u)});if(!h.ok)console.warn("[Sprig] (ERR-444) Failed to report error to API",n);else{const{presignedUrl:p}=h.json;Xl(p)}};var du=0;function m(e,t,n,r,o,i){var s,a,l={};for(a in t)a=="ref"?s=t[a]:l[a]=t[a];var c={type:e,props:l,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--du,__i:-1,__u:0,__source:o,__self:i};if(typeof e=="function"&&(s=e.defaultProps))for(a in s)l[a]===void 0&&(l[a]=s[a]);return j.vnode&&j.vnode(c),c}const ce=e=>m("button",{...e,className:B("ul-card-text__button",e.className),id:"ul-card-text__button"}),xe=({message:e,properties:t})=>{const n=t==null?void 0:t.captionText;return m(le,{children:[e&&m("h1",{className:R.QuestionHeader,id:R.QuestionHeader,...n?{}:{style:{marginBottom:"15px"}},children:e}),n&&m("p",{className:R.Caption,id:R.Caption,children:n})]})},ea=({buttonText:e="View Prototype",handleClick:t})=>m("button",{className:"prototype-button",onClick:t,children:e},"prototype-btn"),Ve=({defaultBody:e,embeddedType:t="prototype",properties:n})=>{var u;const{handleClickEmbedButton:r,hasViewedEmbed:o,headers:i,useDesktopPrototype:s}=z(h=>({handleClickEmbedButton:h.handleClickEmbedButton,hasViewedEmbed:h.hasViewedEmbed,headers:h.headers,useDesktopPrototype:h.useDesktopPrototype})),a=(n==null?void 0:n.conceptUrl)||((u=n==null?void 0:n.consentDocument)==null?void 0:u.url),l=window.innerWidth<nl,c=i["userleap-platform"],d=(h,p)=>{h.preventDefault(),r(p)};if(!s&&l&&!o&&a&&["email","link"].includes(c)){if(t==="prototype")return m(ea,{handleClick:h=>{d(h,Se.ViewPrototypeClick)}});if(t==="pdf")return m(ea,{buttonText:(n==null?void 0:n.viewDocumentText)||"View Document",handleClick:h=>{d(h,Se.ViewAgreementClick)}})}return e()},ta=(e,t)=>{const n=De(0),r=()=>{if(e.current){const o=e.current;o.style.height="1px";const i=o.scrollHeight,s=o.offsetHeight-o.clientHeight,a=i+s,l=parseInt(window.getComputedStyle(o).getPropertyValue("max-height")),c=a<=l?a:l;n.current!==c&&t(),n.current=c,o.style.height=`${c}px`}};return ue(r,[]),r},po=({ariaLabel:e,border:t,choiceStyle:n={},label:r,isSelected:o,value:i,text:s,id:a,isRadio:l,useMobileStyling:c,error:d,allowTextEntry:u,noneOfTheAbove:h,promptText:p,onUserInputChanged:y})=>{const{styleNonce:f,viewDocument:_}=z(A=>({styleNonce:A.styleNonce,viewDocument:A.viewDocument})),[g,v]=Q(!1);fu(_,t,f);const x=({isSelected:A,userText:F})=>{y&&y({id:a||"",selected:A,value:i,userText:F,noneOfTheAbove:h})},C=A=>{A.stopPropagation(),x({isSelected:l||!o,userText:s}),v(!1)},w=()=>{g||v(!0)},k=()=>{g&&v(!1)},S=A=>{(A.key==="Enter"||A.key===" ")&&C(A)},E={onClick:A=>C(A),onKeyPress:A=>S(A)};"ontouchstart"in _.documentElement?(E.onTouchStart=k,E.onTouchCancel=k,E.onTouchEnd=k):(E.onMouseDown=w,E.onMouseLeave=k);const b=l?`radio-${a}`:`checkbox-${a}`,T=o||g?[Wn]:[],I=[...d?[ra]:[],...T],D=r?{"aria-labelledby":`label-${a}`}:{"aria-label":e};return m("div",{className:B([...J(R.Choice,c),...I]),id:`choice-div-${a}`,style:{...n,...d?{borderColor:Ut}:{}},...E,children:[m("div",{className:B([R.ChoiceLabelContainer]),children:[l?m("div",{...D,className:B([R.ChoiceRadio,...T]),id:b,role:"radio",tabIndex:0}):m("div",{"aria-checked":o,"aria-labelledby":`label-${a}`,className:R.ChoiceCheckbox,id:b,role:"checkbox",style:o?{backgroundColor:t,borderColor:t,boxShadow:"none"}:{},tabIndex:0,children:o&&m("svg",{fill:"none",height:"10",viewBox:"0 0 10 10",width:"10",xmlns:"http://www.w3.org/2000/svg",children:m("path",{d:"M9.15377 1.30774L4.07685 8.23082L1.30762 5.00005",stroke:"white",strokeLinecap:"round",strokeWidth:"2"})})}),r&&m("label",{className:B(J(R.ChoiceLabel,c)),htmlFor:b,id:`label-${a}`,children:r})]}),u&&o&&m("div",{className:B([R.ChoiceTextEntryContainer,...T]),children:m(hu,{onTextChange:A=>x({isSelected:o,userText:A}),promptText:p||"Please specify",textValue:s,useMobileStyling:c})})]})},hu=({promptText:e,textValue:t,onTextChange:n,useMobileStyling:r})=>{const o=De(null),{update:i}=z(a=>({update:a.update})),s=ta(o,()=>i());return ue(()=>{o.current&&o.current.focus()},[]),m("textarea",{"aria-label":e,"aria-multiline":"true","aria-placeholder":e,className:B(J(R.ChoiceTextInput,r)),"data-gramm":"false",maxLength:5e3,name:"text",onChange:a=>{s(),a.stopPropagation(),n(a.currentTarget.value)},onClick:a=>{a.stopPropagation()},onKeyPress:a=>{a.stopPropagation()},placeholder:e,ref:o,role:"textbox",rows:1,value:t})},na="ul-select-style-element",Wn="ul-select-active-dynamic-style",ra="ul-select-error-dynamic-style",pu=e=>e.tagName.toLowerCase()==="style",fu=(e,t,n)=>{let r=e.getElementById(na),o=!1;r||(r=e.createElement("style"),o=!0),pu(r)&&(r.id=na,n&&(r.nonce=n),r.textContent=mu(t),o&&e.head.appendChild(r))},mu=e=>`
    .${Wn} {
      border-color: ${e};
    }
    .${Wn} .${R.ChoiceRadio}, .${Wn}.${R.ChoiceRadio} {
      border: 6px solid ${e};
      box-shadow: none;
    }
    .${ra} {
      border-color: ${Ut};
    }
  `,ht=e=>(e==null?void 0:e.buttonText)||"Next",fo=e=>(e==null?void 0:e.skipButtonText)||"Skip",gu=({className:e,message:t,next:n,properties:r,questionId:o,type:i})=>{const{useMobileStyling:s,border:a}=z(b=>({useMobileStyling:b.useMobileStyling,border:b.border})),[l,c]=Q(!1),[d,u]=Q(""),[h,p]=Q(!1),y=r==null?void 0:r.collectName,f=(r==null?void 0:r.nameLabelText)||"Full Name",_=(r==null?void 0:r.consentText)||"I agree to the stated conditions",g=(r==null?void 0:r.submitButtonText)||"Submit",v=!!d.trim(),x=l&&(!y||v),C=(b,T=!1)=>{b.preventDefault(),b.stopPropagation();let I=null;if(!T){if(!x){p(!0);return}I={submitted:!0},y&&(I.name=d)}n({value:I,questionId:o,type:i})},w=b=>{b.preventDefault(),b.stopPropagation(),u(b.currentTarget.value)},k=b=>{b.currentTarget.style.borderColor=h&&!v?Ut:a},S=b=>{b.currentTarget.style.borderColor=h&&!v?Ut:fr},E=()=>m("div",{children:[m(po,{allowTextEntry:!1,border:a,error:h&&!l,isRadio:!1,isSelected:l,label:_,onUserInputChanged:({selected:b})=>{b!==l&&c(!l)},useMobileStyling:s}),y&&m("input",{"aria-label":f,"aria-placeholder":f,className:B(J(R.ConsentLegalNameInput,s)),"data-gramm":"false",maxLength:250,name:"name",onBlur:S,onFocus:k,onInput:w,placeholder:f,style:h&&!v?{borderColor:Ut}:{},tabIndex:0,value:d}),m("div",{className:"ul-card__button-wrapper ul-card-vertical__button-wrapper",children:[m(ce,{className:x?"":R.ButtonDisabled,onClick:C,children:g}),r.required===!1&&m("button",{className:R.SkipButton,onClick:b=>C(b,!0),children:fo(r)})]})]});return m("div",{className:B([e,"ul-card__consent-legal",R.FadeInTransition]),children:[m(xe,{message:t}),m("div",{className:"ul-rich-text-body",dangerouslySetInnerHTML:r!=null&&r.richTextBody?{__html:r.richTextBody}:void 0,id:"ul-card__consent-legal-body-container"}),m(Ve,{properties:r,defaultBody:E,embeddedType:"pdf"})]},o)},vu=({activeValue:e,border:t,icon:n,isPressed:r,onSubmit:o,range:i,scaleLabelType:s,setActiveValue:a,setIsPressed:l,useMobileStyling:c,value:d})=>{const u=`option-${d}`,h=s===dt.Number,p=s===dt.Star,y=h&&d===e,[f,_]=d<=e&&p||d===e?r?[t,1]:[t,.3]:["",1],g=()=>{switch(s){case dt.Star:return B([...J(R.LikertStar,c),...J(`${R.LikertStar}-${d}`,c)]);case dt.Smiley:return B([...J(R.LikertSmiley,c),...J(`${R.LikertSmiley}-${d}`,c)]);default:return B(d===i?[...J(R.LikertNumber,c),...J(`${R.LikertNumber}-${d}`,c),...J("likert-last-option",c)]:[...J(R.LikertNumber,c),...J(`${R.LikertNumber}-${d}`,c)])}},v=()=>{a(-1),l(!1)};return m("div",{"aria-label":h?void 0:String(d),className:g(),dangerouslySetInnerHTML:{__html:n},id:u,onClick:()=>o(),onPointerDown:()=>l(!0),onPointerEnter:()=>a(d),onPointerLeave:v,role:"radio",style:{color:h?"":f,borderColor:y?f:"",fillOpacity:y?"":_,zIndex:y?3:"auto"},tabIndex:0})},yu=({className:e,labels:t,message:n,next:r,properties:o,questionId:i,type:s})=>{const{border:a,useMobileStyling:l}=z(E=>({border:E.border,useMobileStyling:E.useMobileStyling})),[c,d]=Q(-1),[u,h]=Q(!1),p=t&&t.left,y=t&&t.right;let f;const{range:_,scaleLabelType:g,ratingIcons:v}=o;_&&(f=Number(_));const x=f||5,C=E=>{var b,T;switch(g){case dt.Star:return(b=v[0])==null?void 0:b.svg;case dt.Smiley:return(T=v[E])==null?void 0:T.svg;default:return String(E+1)}},w=[...Array(x)].map((E,b)=>{const T=b+1;return m(vu,{activeValue:c,border:a,icon:C(b),isPressed:u,onSubmit:()=>r({value:T,questionId:i,type:s}),range:x,scaleLabelType:g,setActiveValue:d,setIsPressed:h,useMobileStyling:l,value:T},b)}),k=E=>{E.preventDefault(),E.stopPropagation(),r({value:null,questionId:i,type:s})},S=()=>m(le,{children:[m("div",{"aria-label":`Rating (1 - ${x})`,className:"ul-card--likert__numbers",role:"radiogroup",children:w}),m("div",{className:"ul-card--likert__labels",children:[m("span",{children:p}),m("span",{children:y})]}),!o.required&&m("div",{className:"ul-vertical-centered-container",children:m(ce,{onClick:k,children:ht(o)})})]});return m("form",{className:B([e,"ul-card--likert",R.FadeInTransition]),children:[m(xe,{message:n,properties:o}),m(Ve,{properties:o,defaultBody:S})]},i)},_u=({className:e,message:t,next:n,options:r,properties:o,questionId:i,type:s})=>{const{border:a,useMobileStyling:l}=z(b=>({border:b.border,useMobileStyling:b.useMobileStyling})),c=o.matrixColumn,d=r.length,u=c.length,h=o.required,p=De(null),[y,f]=Q(!1),_=()=>{const b=p.current;b&&f(b.clientWidth+Math.abs(b.scrollLeft)<b.scrollWidth)};ue(()=>{let b;if(p.current){b=p.current;const T=new ResizeObserver(I=>{f(Math.round(I[0].contentRect.width)<b.scrollWidth)});return T.observe(b),()=>{b&&T.unobserve(b)}}},[]);const g=b=>{b.preventDefault(),b.stopPropagation(),n({value:x,questionId:i,type:s})},v=r.reduce((b,T)=>(b[T.id]=null,b),{}),[x,C]=Q(v),w=(b,T)=>{C(I=>({...I,[b]:T}))},k=h&&Object.values(x).every(b=>b==null),S=r.map(b=>m(le,{children:[m("div",{"aria-label":b.label,className:"ul-matrix-row-label",children:b.label},b.label),m("div",{className:"ul-matrix-row-options",role:"radiogroup",children:c.map((T,I)=>{const D=I===u-1;return m("div",{className:B("ul-matrix-option-wrapper",D&&"ul-matrix-last-option"),children:m(po,{allowTextEntry:!1,ariaLabel:`${b.label}-${T.label}`,border:a,choiceStyle:{background:"transparent",border:"none",marginBottom:"0",padding:"0"},error:!1,id:`${b.id}-${T.value}`,isRadio:!0,isSelected:x[b.id]===T.value,onUserInputChanged:()=>w(b.id,T.value),useMobileStyling:l})},T.value)})})]})),E=()=>m("div",{className:"ul-card--matrix_question_container",children:[m("div",{className:B(["ul-card--matrix_container",y&&"ul-matrix-scroll-gradient"]),onScroll:()=>{_()},ref:p,children:m("div",{className:"ul-card--matrix_grid",style:`--numColumns: ${u}; --numRows: ${d+1}`,children:[m("div",{})," ",c.map(b=>m("div",{className:"ul-matrix-column-label",children:b.label},b.label)),S]})}),y&&m("button",{className:"ul-matrix-scroll-arrow",onClick:b=>{b.preventDefault();const T=p.current;if(T){const I=getComputedStyle(T).direction==="rtl";T.scrollLeft=I?T.clientWidth-T.scrollWidth:T.scrollWidth}},children:m("svg",{fill:"currentColor",height:"32",viewBox:"0 0 256 256",width:"32",xmlns:"http://www.w3.org/2000/svg",children:m("path",{d:"M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"})})}),m("div",{className:"ul-card__button-wrapper",children:m(ce,{disabled:k,children:ht(o)})})]});return m("form",{className:B([e,R.FadeInTransition,"ul-card__matrix"]),id:"text-form",onSubmit:g,children:[m(xe,{message:t,properties:o}),m(Ve,{properties:o,defaultBody:E})]},i)},oa=({className:e,message:t,onSubmit:n,options:r=[],properties:o,questionId:i,type:s})=>{const{border:a,useMobileStyling:l}=z(k=>({border:k.border,useMobileStyling:k.useMobileStyling})),c=r.reduce((k,S)=>(k[S.id]={isSelected:!1},k),{}),[d,u]=Q(c),h=s===P.MultipleChoice,p=o.required,y=r.find(k=>{var S;return(S=k.optionProperties)==null?void 0:S.noneOfTheAbove}),f=Object.entries(d).some(([k,S])=>{var T;const E=r.find(I=>`${I.id}`===k),b=S.userText===void 0||S.userText.trim()==="";return((T=E==null?void 0:E.optionProperties)==null?void 0:T.allowsTextEntry)&&b&&S.isSelected}),_=Object.values(d).some(k=>k.isSelected),g=f||p&&!_,v=r.map(({id:k,label:S,value:E,optionProperties:b})=>{var A,F;const T=`${k}`,{allowsTextEntry:I,noneOfTheAbove:D}={allowsTextEntry:!1,noneOfTheAbove:!1,...b};return m(po,{allowTextEntry:I,border:a,error:!1,id:T,isRadio:h,noneOfTheAbove:D,isSelected:!!((A=d[T])!=null&&A.isSelected),label:S,onUserInputChanged:L=>C(L.id,L.selected,L.userText,L.noneOfTheAbove),promptText:"Please specify",text:(F=d[k])==null?void 0:F.userText,useMobileStyling:l,value:E},T)}),x=k=>{k.preventDefault(),k.stopPropagation(),n(d)},C=(k,S,E,b)=>{const T=Object.assign({},d);if((h||b)&&S)for(const I of Object.values(T))I.isSelected=!1,delete I.userText;else y&&!b&&d[y.id].isSelected&&(T[y.id].isSelected=!1);T[k]={isSelected:S,userText:E},u(T)},w=()=>m("div",{children:[m("div",{className:B(J(R.ChoiceGroup,l)),role:h?"radiogroup":"group",children:v}),m("div",{className:"ul-card__button-wrapper",children:m(ce,{disabled:g,onClick:x,children:ht(o)})})]});return m("form",{className:B([e,"ul-card--multiple",R.FadeInTransition]),id:"text-form",onSubmit:x,children:[m(xe,{message:t,properties:o}),m(Ve,{properties:o,defaultBody:w})]},i)},bu=e=>{const{questionId:t,type:n,next:r,options:o}=e;return m(oa,{...e,onSubmit:s=>{const a=Object.entries(s).find(([,h])=>h.isSelected)||[void 0,void 0],[l,c]=a,d=o.find(h=>`${h.id}`===l),u=c!=null&&c.userText?{[l]:{userText:c.userText}}:null;r({value:d&&l?{[l]:d.value}:{},secondaryValue:u,questionId:t,type:n})}})},xu=e=>{const{questionId:t,type:n,next:r}=e;return m(oa,{...e,onSubmit:i=>{const s={},a=Object.entries(i).reduce((c,[d,u])=>(c[d]=u.isSelected,c),s),l=Object.entries(i).reduce((c,[d,u])=>{if(!u.userText)return c;const h=c||{};return h[d]={userText:u.userText},h},null);r({value:a,secondaryValue:l,questionId:t,type:n})}})},wu=({className:e,props:{labels:t,message:n,properties:r},next:o,questionId:i,type:s})=>{const{border:a,useMobileStyling:l}=z(y=>({border:y.border,useMobileStyling:y.useMobileStyling})),c=t&&t.left,d=t&&t.right,u=[...Array(11)].map((y,f)=>m("div",{className:B([...J(R.NPSNumber,l),...J(`${R.NPSNumber}-${f}`,l)]),id:`option-${f}`,onClick:()=>o({value:f,questionId:i,type:s}),onKeyPress:_=>{_.preventDefault(),(_.key==="Enter"||_.key===" ")&&o({value:f,questionId:i,type:s})},onPointerDown:_=>{_.currentTarget.style.zIndex="2",_.currentTarget.style.borderColor=a},onPointerLeave:_=>{_.currentTarget.style.zIndex="auto",_.currentTarget.style.borderColor=fr},role:"radio",tabIndex:0,children:f},f)),h=y=>{y.preventDefault(),y.stopPropagation(),o({value:null,questionId:i,type:s})},p=()=>m("div",{children:[m("div",{className:"ul-card--nps__numbers",children:u}),m("div",{className:"ul-card--nps__labels",children:[m("span",{children:c}),m("span",{children:d})]}),!r.required&&m("div",{className:"ul-vertical-centered-container",children:m(ce,{onClick:h,children:ht(r)})})]});return m("form",{className:B([e,"ul-card--nps",R.FadeInTransition]),children:[m(xe,{message:n,properties:r}),m(Ve,{properties:r,defaultBody:p})]},i)},ku=({className:e,message:t,next:n,properties:r,questionId:o,type:i})=>{const{border:s,useMobileStyling:a,update:l}=z(w=>({border:w.border,useMobileStyling:w.useMobileStyling,update:w.update})),[c,d]=Q(""),u=De(null),h=c.trim(),p=r.required===!0&&!h,y=ta(u,()=>l()),f=w=>{y(),w.preventDefault(),w.stopPropagation(),d(w.currentTarget.value)},_=w=>{w.preventDefault(),w.stopPropagation(),n({value:c,questionId:o,type:i})},g=r&&r.openTextPlaceholder?r.openTextPlaceholder:"",v=w=>{w.currentTarget.style.borderColor=s},x=w=>{w.currentTarget.style.borderColor=fr},C=()=>m("div",{className:"ul-card-text",children:[m("div",{className:"ul-card-text__container",children:m("textarea",{"aria-label":g,"aria-labelledby":R.QuestionHeader,"aria-multiline":"true","aria-placeholder":g,className:B(J(R.OpenTextInput,a)),"data-gramm":"false",maxLength:5e3,name:"text",onBlur:x,onChange:f,onFocus:v,placeholder:g,ref:u,role:"textbox",tabIndex:0})}),m(ce,{disabled:p,onClick:_,style:{backgroundColor:p?"":s},children:ht(r)})]});return m("form",{className:B([e,"ul-card--text",R.FadeInTransition]),id:"text-form",children:[m(xe,{message:t,properties:r}),m(Ve,{defaultBody:C,properties:r})]},o)};var Ye=(e=>(e[e.RequestNeeded=1]="RequestNeeded",e[e.TryAgain=2]="TryAgain",e[e.Ready=3]="Ready",e))(Ye||{});const Gn=e=>e.type===me.AvPermission,ia=e=>e.type===me.ScreenPermission,Cu=(e,t)=>!(Gn(t)?t.permissionDescriptors:[]).includes(Lt.Camera)||e.getVideoTracks().length>0,sa=(e,t)=>{if(e===void 0)return Ye.RequestNeeded;if(e){if(!Cu(e,t))return Ye.RequestNeeded}else return Ye.TryAgain;return Ye.Ready},aa={avStream:null,currentPage:null,mediaRecordingUids:null,nextQuestion:()=>{},passthroughData:void 0,recordingMediaTypes:void 0,screenPermissionRequested:!1,type:void 0},Te=qi(e=>({...aa,reset:()=>{e(aa)},updatePage:t=>{e(t)}}));function mo({currentPage:e,pages:t}){const{avStream:n,recordingMediaTypes:r,updatePage:o}=Te.getState(),{recorderEventEmitter:i}=z.getState();i.emit(re.AvPermission,{[V.PermissionDescriptors]:e.permissionDescriptors,[V.StreamReadyCallback]:(s,a)=>{if(n===s)return;let l=e;if(s&&!e.permissionDescriptors.includes(Lt.Camera)){const c=t.indexOf(e),d=a!=null&&a.active?c+2:c+1;a!=null&&a.active&&r&&i.emit(re.BeginRecording,{[V.RecordingMediaTypes]:r,[V.StartRecordingCallback]:u=>o({mediaRecordingUids:u})}),l=t[d]}o({currentPage:l,avStream:s})}})}function Su({pages:e,userId:t,responseGroupUid:n,surveyId:r,questionId:o,next:i}){const{updatePage:s}=Te.getState(),{eventEmitFn:a,recorderEventEmitter:l}=z.getState(),c={questionId:o,surveyId:r,visitorId:t,responseGroupUid:n};let d=0;l.emit(Se.RecordedTaskPermissionScreen),a(Se.RecordedTaskPermissionScreen),l.emit(re.PermissionStatus,{[V.PermissionStatusCallback]:(h,p,y,f)=>{const _=e[d],{type:g}=_,v=[ye.Screen];if(Gn(_)){const{permissionDescriptors:x}=_,C=x==null?void 0:x.includes(Lt.Microphone),w=x==null?void 0:x.includes(Lt.Camera);C&&v.push(ye.Audio),w&&v.push(ye.Video);const k=(h==null?void 0:h.active)&&!w,S=(h==null?void 0:h.active)&&p;(k||S)&&d++}ia(e[d])&&y&&(d++,l.emit(re.BeginRecording,{[V.RecordingMediaTypes]:v,[V.StartRecordingCallback]:x=>s({mediaRecordingUids:x})})),s({currentPage:e[d],avStream:h,screenPermissionRequested:y,nextQuestion:i,type:g,passthroughData:c,recordingMediaTypes:v,captureStream:f})}});const u=e[d];return u.type===me.AvPermission&&mo({currentPage:u,pages:e}),u}function go({status:e}){const{nextQuestion:t,passthroughData:n,mediaRecordingUids:r,reset:o}=Te.getState(),{recorderEventEmitter:i,handleUploadUpdate:s,index:a}=z.getState(),l={value:{taskStatus:e},type:P.RecordedTask,questionId:(n==null?void 0:n.questionId)||1};n&&i.emit(re.FinishTask,{[V.BeginCallback]:c=>{s({mediaRecordingUid:c,isSubmitted:!0,progressPct:0,isComplete:!1})},[V.ProgressCallback]:(c,d)=>{s({mediaRecordingUid:c,progressPct:d.detail,isSubmitted:!1,isComplete:!1})},[V.UploadCallback]:c=>{c&&s({mediaRecordingUid:c,isComplete:!0,isSubmitted:!0,progressPct:100})},[V.PassthroughData]:n,[V.CurrentIndex]:a,[V.TaskResponse]:l,[V.TaskCompleteCallback]:c=>{l.value.taskDurationMillisecond=c,r&&(l.value.mediaRecordingUids=r),o(),t(l)}})}function vo({pages:e,setIsRequestingPermission:t}){const{recorderEventEmitter:n,eventEmitFn:r}=z.getState(),{updatePage:o,currentPage:i,recordingMediaTypes:s,screenPermissionRequested:a}=Te.getState();if(!i)return;const l=e.indexOf(i);switch(i.type){case me.AvPermission:{const c=a?l+2:l+1;a&&s&&n.emit(re.BeginRecording,{[V.RecordingMediaTypes]:s,[V.StartRecordingCallback]:d=>{o({mediaRecordingUids:d})}}),o({currentPage:e[c]});return}case me.ScreenPermission:n.emit(re.ScreenPermission,{[V.ScreenPermissionRequested]:t,[V.StreamReadyCallback]:(c,d)=>{const u=d?e[l+1]:i;d&&s&&n.emit(re.BeginRecording,{[V.RecordingMediaTypes]:s,[V.StartRecordingCallback]:h=>{o({captureStream:d,mediaRecordingUids:h})}}),o({currentPage:u,screenPermissionRequested:!0,captureStream:d})}});return;case me.StartTask:r(Se.RecordedTaskStart),n.emit(Se.RecordedTaskStart),n.emit(re.StartTask),o({currentPage:e[l+1],screenPermissionRequested:!0});return;case me.CompleteTask:return}}const la="ul-permission-graphics-container",ca="ul-permission-body",ua=B([la,"ul_recorded-task-inset-spacing"]),Zn=B(["ul-horizontal-button-container","ul-horizontal-button-container-left"]),da=({richTextBody:e})=>m("div",{className:"ul-rich-text-body",dangerouslySetInnerHTML:{__html:e},id:"ul-task-detail-container"}),Yn=({required:e,skipButtonText:t,bottom:n=!1})=>e?null:m(ce,{className:B([n&&"ul-skip-button-below",R.InactiveButton]),onClick:go.bind(null,{status:fe.Abandoned}),children:t||"Skip"}),yo=e=>{const{avStream:t,captureStream:n,recordingMediaTypes:r,updatePage:o}=Te.getState(),i=(r==null?void 0:r.includes(ye.Audio))||(r==null?void 0:r.includes(ye.Video));ue(()=>{const s=setInterval(()=>{i&&t&&!t.active?o({avStream:null,currentPage:e[0]}):(!n||!n.active)&&o({captureStream:void 0,currentPage:e[i?1:0]})},1e3);return()=>clearInterval(s)},[t,n,i,e,r,o])},Eu=({content:e,pages:t,required:n})=>{const{buttonText:r,skipButtonText:o,taskDetail:i}=e;return yo(t),m("div",{className:"ul-task-page",children:[i&&m(da,{richTextBody:i}),m("div",{className:Zn,children:[m(ce,{onClick:vo.bind(null,{pages:t}),children:r}),m(Yn,{required:n,skipButtonText:o})]})]},"start-task")},Pu=({content:e,pages:t,properties:n})=>{const{buttonText:r,skipButtonText:o}=e;yo(t);const s=m(Ve,{properties:n,defaultBody:()=>m("div",{className:Zn,children:[m(ce,{className:"ul-complete-task-button",onClick:go.bind(null,{status:fe.Completed}),children:r}),m(ce,{className:B([R.InactiveButton]),onClick:go.bind(null,{status:fe.GivenUp}),children:o})]})});return m("div",{className:"ul-task-page",children:[e.taskDetail&&m(da,{richTextBody:e.taskDetail}),s]},"complete-task")},Tu=({content:e,pages:t,required:n})=>{const{buttonText:r,skipButtonText:o}=e,[i]=z(l=>[l.tabTitle]),[s,a]=Q(!1);return m("div",{children:[m("div",{className:ua,children:[m("p",{style:{marginTop:"auto"},children:e.selectTabText}),m("div",{className:"ul-select-tab-container",children:m("p",{className:ca,children:i})})]}),m("div",{className:n?"":Zn,children:[m(ce,{disabled:s,onClick:vo.bind(null,{pages:t,setIsRequestingPermission:a}),children:r}),m(Yn,{required:n,skipButtonText:o})]})]})},Iu=({content:e})=>m("div",{className:B([la,"ul_permission_svg_container","ul_recorded-task-inset-spacing","ul-center-horizontally"]),dangerouslySetInnerHTML:{__html:e.svg}},"ul-permission-request-graphic"),ju=({content:e,pages:t,required:n})=>{const{permissionDeniedHeadline:r,permissionDeniedBody:o,skipButtonText:i,tryAgainButtonText:s}=e,a=Gn(t[0])?t[0]:null;return ue(()=>{const l=setInterval(()=>{a!==null&&mo({currentPage:a,pages:t})},1e3);return()=>clearInterval(l)},[a,t]),a?m("div",{children:[m("div",{className:ua,children:m("p",{className:"ul-av-permission-denied-paragraph",children:[m("span",{className:"ul-av-permission-denied-headline",children:r}),m("span",{className:ca,children:o})]})}),m("div",{className:Zn,children:[m(ce,{onClick:mo.bind(null,{currentPage:a,pages:t}),children:s}),m(Yn,{required:n,skipButtonText:i})]})]}):null},Ou=({stream:e})=>m("video",{autoPlay:!0,className:B(["ul_recorded-task-inset-spacing"]),id:"ul-record-task-video-preview",muted:!0,ref:t=>{t&&(t.srcObject=e||null)}}),Ru=({content:e,pages:t,required:n})=>{const{skipButtonText:r}=e,{avStream:o}=Te.getState();return yo(t),m("div",{children:[m(Ou,{stream:o}),m("div",{className:"ul-vertical-button-container-center",children:[m(ce,{onClick:vo.bind(null,{pages:t}),children:e.buttonText}),m(Yn,{bottom:!0,required:n,skipButtonText:r})]})]})},Du=({properties:e})=>{const{pages:t,required:n}=e,{avStream:r,currentPage:o}=Te.getState();if(o===void 0)return null;switch(o==null?void 0:o.type){case me.AvPermission:{const i=sa(r,o);return i===Ye.RequestNeeded?m(Iu,{content:o}):i===Ye.TryAgain?m(ju,{content:o,pages:t,required:n}):m(Ru,{content:o,pages:t,required:n})}case me.ScreenPermission:return m(Tu,{content:o,pages:t,required:n});case me.StartTask:return m(Eu,{content:o,pages:t,required:n});case me.CompleteTask:return m(Pu,{content:o,pages:t,properties:e});default:return null}},Lu=({className:e,properties:t,next:n,questionId:r})=>{const o=z(),{surveyId:i,responseGroupUid:s,userId:a}=o,l=Te(),{screenPermissionRequested:c}=l,d=Te(f=>f.avStream);let u=Te(f=>f.currentPage);u||(u=Su({questionId:r,surveyId:i,next:f=>{n(f)},pages:t.pages,responseGroupUid:s,userId:a}));let h=u.headline,p=u.captionText;const y=sa(d,u);return ia(u)&&c&&(h=u.permissionDeniedHeadline,p=u.permissionDeniedCaptionText),Gn(u)&&y===Ye.Ready&&(h=u.permissionGrantedHeadline,p=u.permissionGrantedCaptionText),m("div",{className:B([e,"ul-center-horizontally",R.FadeInTransition]),children:[m(xe,{message:h,properties:{captionText:p}}),m(Du,{properties:t})]})},Au={"{{user_id}}":"externalUserId","{{email}}":"email"},Nu=(e=void 0,t={})=>{if(!e)return e;let n=e;const r=[];for(const[l,c]of Object.entries(Au))if(n.toLowerCase().includes(l))if(t[c]){const d=new RegExp(l,"gi");n=n.replace(d,t[c])}else r.push(l);if(r.length===0||!n.includes("?"))return n;const o=n.slice(0,n.indexOf("?")),s=n.slice(n.indexOf("?")+1).split("&").map(l=>l.split("=")).filter(l=>!r.includes(l[1]));if(s.length===0)return o;const a=s.map(l=>l.join("=")).join("&");return`${o}?${a}`},Mu=({className:e,message:t,next:n,properties:r,questionId:o,type:i})=>{const{visitorAttributes:s}=z(u=>({visitorAttributes:u.visitorAttributes})),a=(u,h=!1)=>{n({value:h?{skipped:!0}:void 0,questionId:o,type:i})},l=u=>{(u.key==="Enter"||u.key===" ")&&n({value:void 0,questionId:o,type:i})},c=()=>{const u=Nu(r&&r.buttonUrl,s);return m("div",{className:"ul-card-button-group",children:[m("a",{className:"ul-card-text__button ul-card__text-url-prompt-button",href:u,id:"ul-card-text__button",onClick:a,onKeyPress:l,rel:"noreferrer",role:u?"link":"button",tabIndex:0,target:"_blank",children:ht(r)}),r.required===!1&&m("button",{className:R.SkipButton,onClick:h=>a(h,!0),children:fo(r)})]})},d=(u,h)=>u?m("div",{className:"ul-rich-text-body",dangerouslySetInnerHTML:{__html:u},id:"ul-card__text-url-body-container"}):m("div",{className:"ul-rich-text-body",id:"ul-card__text-url-body-container",children:(h?h.split(/\n\s*\n/g):[]).map((p,y)=>m("p",{children:p},y))});return m("div",{className:B([e,"ul-card__text-url-prompt",R.FadeInTransition]),children:[m(xe,{message:t}),d(r==null?void 0:r.richTextBody,r==null?void 0:r.body),m(Ve,{defaultBody:c,properties:r})]},o)},$u=({className:e,questionId:t})=>{const{border:n,destroy:r,endCard:o,forceBrandedLogo:i}=z(l=>({border:l.border,destroy:l.destroy,endCard:l.endCard,forceBrandedLogo:l.forceBrandedLogo}));ue(()=>{setTimeout(()=>{r(yt)},i?4e3:2e3)},[r,i]);const s=o&&o.subheader?m("p",{className:R.Caption,children:o.subheader}):null,a=o&&o.headline?o.headline:"";return m("div",{className:B([e,"ul-card--thanks",R.FadeInTransition]),children:m("div",{children:m("div",{className:"ul-card--thanks-content",children:[m("div",{className:"ul-thanks-check",children:m("svg",{"aria-labelledby":"title",fill:"none",height:"99",viewBox:"0 0 81 99",width:"81",xmlns:"http://www.w3.org/2000/svg",children:[m("path",{clipRule:"evenodd",d:"M40.5 77C60.9345 77 77.5 60.4345 77.5 40C77.5 19.5655 60.9345 3 40.5 3C20.0655 3 3.5 19.5655 3.5 40C3.5 60.4345 20.0655 77 40.5 77ZM80.5 40C80.5 62.0914 62.5914 80 40.5 80C18.4086 80 0.5 62.0914 0.5 40C0.5 17.9086 18.4086 0 40.5 0C62.5914 0 80.5 17.9086 80.5 40Z",fill:n,fillRule:"evenodd"}),m("path",{clipRule:"evenodd",d:"M55.025 22.9046C55.6299 23.4705 55.6616 24.4198 55.0956 25.0247C54.8724 25.2634 54.6109 25.5285 54.3157 25.8277C52.2547 27.9168 48.5549 31.667 44.8135 39.6658C43.2818 42.9406 42.0864 45.8386 41.0823 48.2729C40.6539 49.3116 40.2603 50.2659 39.8902 51.129C39.287 52.5359 38.7248 53.7508 38.1744 54.625C37.8997 55.0613 37.5806 55.4905 37.2017 55.8245C36.8201 56.1607 36.2613 56.5 35.5457 56.5C34.6742 56.5 34.0892 55.9692 33.7774 55.6083C33.4502 55.2296 33.1752 54.7511 32.9396 54.301C32.7305 53.9013 32.5088 53.4367 32.2797 52.9565C32.2429 52.8794 32.2059 52.8019 32.1688 52.7243C31.8942 52.1499 31.5959 51.534 31.2537 50.8868C29.8886 48.305 27.8539 45.2878 24.2343 43.1382C23.522 42.7152 23.2875 41.7949 23.7105 41.0826C24.1335 40.3703 25.0539 40.1358 25.7662 40.5588C30.0556 43.1062 32.4149 46.6647 33.9058 49.4845C34.2776 50.1876 34.5973 50.8487 34.8753 51.4302C34.9147 51.5124 34.9529 51.5926 34.9902 51.6707C35.2222 52.1567 35.4164 52.5637 35.5978 52.9102C35.6151 52.9434 35.6321 52.9754 35.6485 53.0061C36.0565 52.3531 36.5341 51.3434 37.133 49.9468C37.4781 49.1418 37.8572 48.2229 38.2761 47.2074C39.2886 44.7532 40.5339 41.7347 42.0961 38.3948C46.0591 29.9221 50.0641 25.8648 52.1535 23.7482C52.4423 23.4556 52.6944 23.2002 52.9048 22.9753C53.4708 22.3703 54.42 22.3387 55.025 22.9046ZM35.1994 53.5892C35.1994 53.5892 35.2 53.5888 35.2012 53.5879C35.2 53.5889 35.1994 53.5893 35.1994 53.5892ZM36.0666 53.6682C36.0732 53.674 36.0765 53.6775 36.0765 53.6777C36.0765 53.678 36.0732 53.6751 36.0666 53.6682Z",fill:n,fillRule:"evenodd"}),m("path",{d:"M69.5 97C69.5 98.1046 56.2924 99 40 99C23.7076 99 10.5 98.1046 10.5 97C10.5 95.8954 23.7076 95 40 95C56.2924 95 69.5 95.8954 69.5 97Z",fill:"black",fillOpacity:"0.2"})]})}),m(xe,{message:a}),s]})})},t)},pt="https://cdn.sprig.com",M={document:void 0,videojs:void 0},Bu=`/* progress control styles */
.video-js .vjs-control {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
}

.video-js .vjs-progress-control .vjs-progress-holder {
  margin: 0 0px;
}

.video-js .vjs-progress-control {
  position: absolute;
  height: 3px;
  width: 100%;
}
/* position and align the buttons and button texts */
.ul-control-panel {
  bottom: 0;
  width: 100%;
  flex-direction: column;
  background-color: white;
  height: fit-content;
  z-index: 2;
}

.ul-buttons-panel {
  color: black;
  display: flex;
  gap: 20px;
  height: 50px;
  justify-content: center;
  margin: 10px;
  padding: 2px 14px 0;
}

.video-js .vjs-volume-panel {
  height: 30px;
  width: 40px;
}

.ul-inactive {
  opacity: 0.3;
  cursor: default;
  pointer-events: none;
}

/* buttons */
.ul-buttons-panel > .vjs-button {
  background-color: rgba(0, 0, 0, 0.05);
  border-radius: 50%;
  display: flex;
  height: 3em;
  justify-content: center;
  width: 3em;
}

.vjs-button>.vjs-icon-placeholder:before {
  align-items: center;
  display: flex;
  font-size: unset;
  line-height: 0.5;
  justify-content: center;
}

span.ul-button-text {
  align-self: flex-end;
  position: relative;
  top: 14px;
}

#ul-camera-button {
  white-space: nowrap;
}

.video-js .vjs-volume-control.vjs-volume-horizontal {
  background-color: #fff;
  z-index: 1;
}

.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level {
  background-color: black;
}

.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,
.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,
.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active {
  width: 40px;
}

.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active,
.video-js .vjs-volume-panel .vjs-volume-control:active,
.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control ~ .vjs-volume-control,
.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control,
.video-js .vjs-volume-panel:active .vjs-volume-control,
.video-js .vjs-volume-panel:focus .vjs-volume-control {
  visibility: visible;
  left: 40px;
  position: absolute;
  transition: visibility 0.1s, opacity 0.1s, height 0.1s, width 0.1s, left 0s, top 0s;
}

/* play button customization */
.video-js .vjs-play-control {
  color: black;
}

.video-js .vjs-play-control .vjs-icon-placeholder:before {
  content: url("data:image/svg+xml,%3Csvg width='12' height='12' viewBox='0 0 12 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5363 6.40226L1.93958 10.7006C1.64037 10.8502 1.28833 10.6326 1.28833 10.2981V1.7014C1.28833 1.36688 1.64037 1.14931 1.93958 1.29891L10.5363 5.59727C10.868 5.76311 10.868 6.23642 10.5363 6.40226Z' stroke='black' stroke-width='1.5' stroke-linecap='round'/%3E%3C/svg%3E");
}

/* position and style the current timer */
.ul-time-panel {
  position: absolute;
  bottom: 80px;
  left: 10px;
  height: 22px;
  color: black;
  border: 1px solid #e0e0eb;
  border-radius: 23px;
  background-color: white;
  width: fit-content;
}

.video-js .vjs-current-time,
.vjs-no-flex .vjs-current-time {
  display: flex;
  align-items: center;
  text-align: center;
}

/* remove the dot progress indicator */
.video-js .vjs-play-progress:before,
.video-js .vjs-volume-level:before,
.vjs-icon-circle:before,
.vjs-seek-to-live-control .vjs-icon-placeholder:before {
  content: none;
}

.video-js .vjs-mute-control .vjs-icon-placeholder:before {
  content: url("data:image/svg+xml,%3Csvg width='19' height='14' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M8.825.324A.75.75 0 019.25 1v11.667a.75.75 0 01-1.219.585l-3.96-3.169H1a.75.75 0 01-.75-.75v-5a.75.75 0 01.75-.75h3.07L8.031.414a.75.75 0 01.794-.09zM7.75 2.56L4.802 4.92a.75.75 0 01-.469.164H1.75v3.5h2.583a.75.75 0 01.469.165l2.948 2.358V2.56zM14.911.47a.75.75 0 011.061 0 9.084 9.084 0 010 12.844.75.75 0 01-1.06-1.06 7.584 7.584 0 000-10.724.75.75 0 010-1.06zM11.97 3.41a.75.75 0 011.06 0 4.917 4.917 0 010 6.953.75.75 0 11-1.06-1.06 3.417 3.417 0 000-4.832.75.75 0 010-1.06z' fill='%23262136'/%3E%3C/svg%3E");
}

.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before {
  content: url("data:image/svg+xml,%3Csvg width='19' height='14' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.5 1.167L4.333 4.5H1v5h3.333L8.5 12.833V1.167zM17.17 4.5l-5 5M12.17 4.5l5 5' stroke='%23262136' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
}

.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before {
  content: url("data:image/svg+xml,%3Csvg width='19' height='14' viewBox='0 0 19 14' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M8.82489 0.32403C9.08474 0.44892 9.25 0.711703 9.25 1.00001V12.6667C9.25 12.955 9.08474 13.2178 8.82489 13.3427C8.56504 13.4675 8.25661 13.4324 8.03148 13.2523L4.07025 10.0833H1C0.585786 10.0833 0.25 9.74755 0.25 9.33334V4.33334C0.25 3.91913 0.585786 3.58334 1 3.58334H4.07025L8.03148 0.414355C8.25661 0.234253 8.56504 0.19914 8.82489 0.32403ZM7.75 2.56048L4.80185 4.91899C4.66887 5.02538 4.50364 5.08334 4.33333 5.08334H1.75V8.58334H4.33333C4.50364 8.58334 4.66887 8.6413 4.80185 8.74769L7.75 11.1062V2.56048Z' fill='%23262136'/%3E%3C/svg%3E%0A");
}

.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before {
  content: url("data:image/svg+xml,%3Csvg width='19' height='14' viewBox='0 0 19 14' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M8.82489 0.32403C9.08474 0.44892 9.25 0.711703 9.25 1.00001V12.6667C9.25 12.955 9.08474 13.2178 8.82489 13.3427C8.56504 13.4675 8.25661 13.4324 8.03148 13.2523L4.07025 10.0833H1C0.585786 10.0833 0.25 9.74755 0.25 9.33334V4.33334C0.25 3.91913 0.585786 3.58334 1 3.58334H4.07025L8.03148 0.414355C8.25661 0.234253 8.56504 0.19914 8.82489 0.32403ZM7.75 2.56048L4.80185 4.91899C4.66887 5.02538 4.50364 5.08334 4.33333 5.08334H1.75V8.58334H4.33333C4.50364 8.58334 4.66887 8.6413 4.80185 8.74769L7.75 11.1062V2.56048Z' fill='%23262136'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M11.9698 3.41124C12.2627 3.11839 12.7376 3.11846 13.0304 3.4114C13.9521 4.33341 14.4699 5.58376 14.4699 6.88748C14.4699 8.19121 13.9521 9.44156 13.0304 10.3636C12.7376 10.6565 12.2627 10.6566 11.9698 10.3637C11.6768 10.0709 11.6767 9.596 11.9696 9.30307C12.6101 8.66235 12.9699 7.79346 12.9699 6.88748C12.9699 5.98151 12.6101 5.11262 11.9696 4.4719C11.6767 4.17896 11.6768 3.70409 11.9698 3.41124Z' fill='%23262136'/%3E%3C/svg%3E%0A");
}

.video-js .vjs-volume-control:hover .vjs-mouse-display {
  display: none !important;
}

.video-js .vjs-play-progress {
  background-color: black;
}

/* position video player inside the container */
.video-js .vjs-tech {
  position: static;
}

.video-js .vjs-time-tooltip {
  padding: 0.25em 0.75em;
  align-items: center;
  color: #333;
  background: #FCFCFD;
  border-radius: 99px;
  text-align: center;
  border: 1px solid #E0E0EB;
  display: flex;
  align-items: center;
  justify-content: center;
  top: -25px;
  font-size: 12px !important;
  width: 50px !important;
}

.video-js .vjs-play-progress.vjs-slider-bar .vjs-time-tooltip {
  visibility: hidden !important;
}

.video-js .vjs-progress-control .vjs-mouse-display {
  z-index: 2;
}

.ul-video-player {
  width: 100%;
  display: flex;
  flex-direction: column;
  height: auto;
  border: 1px solid #E6E6E6;
  background-color: white;
  box-sizing: border-box;
  border-radius: 4px;
  background-clip: border-box;
  overflow: hidden;
}

.video-js.vjs-fullscreen:not(.vjs-ios-native-fs) {
  border: none;
}

#video-response-player-secondary-video-player {
  max-width: 200px;
  margin-right: 20px;
  background-color: transparent;
}

#ul-card-video__player_recorder-video-recorder.vjs-fullscreen {
  display: table;
}

.video-js div.vjs-progress-control {
  margin-top: -3px;
}

.video-js .vjs-progress-control .vjs-slider {
  background-color: #B2BBBD;
}

.vjs-record.video-js .vjs-control.vjs-button.vjs-fullscreen-control {
  position:relative;
}

.video-js .vjs-fullscreen-control .vjs-icon-placeholder:before {
  content: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9.82143 2.54004L12.2614 2.54004C12.9242 2.54004 13.4614 3.0773 13.4614 3.74004L13.4614 6.18004' stroke='black' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M6.17955 13.46L3.73955 13.46C3.07681 13.46 2.53955 12.9227 2.53955 12.26L2.53955 9.81996' stroke='black' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M12.7772 3.22266L9.36475 6.63516' stroke='black' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M6.29434 9.70605L2.88184 13.1186' stroke='black' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
}

.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before {
  content: url("data:image/svg+xml,%3Csvg width='16' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1.583 9.813H5.25a1 1 0 011 1v3.666M5.375 10.688L1 15.061M14.917 5.813H11.25a1 1 0 01-1-1V1.146M15.063 1l-4.376 4.375' stroke='%23262136' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
}

.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before, .video-js .vjs-icon-replay:before {
  content: url("data:image/svg+xml,%3Csvg width='12' height='12' viewBox='0 0 12 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5363 6.40226L1.93958 10.7006C1.64037 10.8502 1.28833 10.6326 1.28833 10.2981V1.7014C1.28833 1.36688 1.64037 1.14931 1.93958 1.29891L10.5363 5.59727C10.868 5.76311 10.868 6.23642 10.5363 6.40226Z' stroke='black' stroke-width='1.5' stroke-linecap='round'/%3E%3C/svg%3E");
}

.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before, .vjs-icon-pause:before {
  content: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='3.61885' y='2.06074' width='3.16185' height='11.88' rx='0.9' fill='black' stroke='%23EDEDED' stroke-width='0.6' stroke-linecap='round'/%3E%3Crect x='9.21797' y='2.06074' width='3.16185' height='11.88' rx='0.9' fill='black' stroke='%23EDEDED' stroke-width='0.6' stroke-linecap='round'/%3E%3C/svg%3E%0A");
  padding: 2px;
}

.vjs-error-display {
  display: none;
}

.ul-video-player-video {
  position: relative;
  top: 0;
  left: 0;
  width: 100%;
}

.ul-video-container {
  width: 100%;
  height: auto;
  left: 0px;
  top: 0px;

  background-color: transparent;
  border-radius: 4px;

  align-items: start;
  display: flex;
  flex-direction: column;

  /* Inside Auto Layout */

  flex: none;
  order: 0;
  flex-grow: 0;
  margin: 10px 0px;
  position: relative;
}

.vjs-record button.vjs-device-button.vjs-control {
  background: rgba(255, 255, 255, 96);
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
  margin: 0;
  border-radius: 0;
  line-height: 0.6;
  padding: 10px;
  display: flex;
  align-items: center;
  flex-direction: column;
  justify-content: center;
  z-index: 3;
}

.vjs-record .vjs-device-button.vjs-control:before {
  font-size: 14px !important;
  color: #333;
  content: "Your browser needs to access your camera and microphone for video recording";
  line-height: 135%;
}

.vjs-record .vjs-device-button.vjs-control.permission-denied:before {
  font-size: 16px !important;
  color: #262136;
  content: "Unable to access your camera and microphone";
}

.vjs-record .vjs-device-button.vjs-control:after {
  display: inline-block;
  background: #F0F0F5;
  font-size: 13px;
  border-radius: 4px;
  content: "Request Permissions";
  padding: 1em 2em;
  color: #333;
  margin-top: 20px;
}

.vjs-record .vjs-device-button.vjs-control.permission-denied:after {
  display: inline-block;
  background: white;
  font-size: 13px;
  content: "Please go to your browser settings and update permissions to enable recording";
  padding: 1em;
  color: #4B575D;
  margin: 5px;
  line-height: 135%;
  text-align: center;
}

.vjs-control.vjs-button.ul-video-recorder-delete-button, .vjs-control.vjs-button.ul-video-recorder-toggle-button, .vjs-control.vjs-button.ul-video-recorder-camera-off-button-audio-only, .vjs-control.vjs-button.ul-video-recorder-camera-off-button {
  cursor: pointer;
}

.ul-video-recorder-delete-button .vjs-icon-placeholder:before {
  content: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9.21234 7.37549V11.1193M2.53931 4.25595H13.4593H2.53931ZM5.57234 4.25595V3.00833C5.57222 2.84433 5.60354 2.68192 5.6645 2.53038C5.72546 2.37884 5.81488 2.24115 5.92762 2.12519C6.04037 2.00922 6.17424 1.91726 6.32158 1.85456C6.46892 1.79185 6.62683 1.75964 6.78628 1.75977H9.21234C9.37179 1.75964 9.5297 1.79185 9.67703 1.85456C9.82437 1.91726 9.95824 2.00922 10.071 2.12519C10.1837 2.24115 10.2732 2.37884 10.3341 2.53038C10.3951 2.68192 10.4264 2.84433 10.4263 3.00833V4.25595H5.57234ZM12.2463 4.25595V12.9912C12.2463 13.3223 12.1184 13.6399 11.8907 13.8741C11.6631 14.1082 11.3543 14.2398 11.0323 14.2398H4.96628C4.64432 14.2398 4.33555 14.1082 4.10789 13.8741C3.88023 13.6399 3.75234 13.3223 3.75234 12.9912V4.25595H12.2463ZM6.78628 7.37549V11.1193V7.37549Z' stroke='black' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E%0A");
}

.ul-video-recorder-toggle-button .vjs-icon-placeholder:before {
  content: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0Z' fill='%23D15153'/%3E%3C/svg%3E");
}

.ul-video-recorder-toggle-button.ul-recording-in-session .vjs-icon-placeholder:before {
  content: url("data:image/svg+xml,%3Csvg width='12' height='12' viewBox='0 0 12 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 10L12 2C12 0.89543 11.1046 -4.85396e-07 10 -4.37114e-07L2 -8.74228e-08C0.89543 -3.91405e-08 -4.85396e-07 0.895431 -4.37114e-07 2L-8.74228e-08 10C-3.91405e-08 11.1046 0.895431 12 2 12L10 12C11.1046 12 12 11.1046 12 10Z' fill='%23D15153'/%3E%3C/svg%3E%0A");
}

.ul-video-recorder-camera-off-button .vjs-icon-placeholder:before {
  content: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_2645_4654)'%3E%3Cpath d='M15.1491 4.75L10.5991 8L15.1491 11.25V4.75Z' stroke='black' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M9.29912 3.4502H2.14912C1.43115 3.4502 0.849121 4.03223 0.849121 4.7502V11.2502C0.849121 11.9682 1.43115 12.5502 2.14912 12.5502H9.29912C10.0171 12.5502 10.5991 11.9682 10.5991 11.2502V4.7502C10.5991 4.03223 10.0171 3.4502 9.29912 3.4502Z' stroke='black' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_2645_4654'%3E%3Crect width='15.6' height='15.6' fill='white' transform='translate(0.199951 0.200195)'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E");
}

.ul-video-recorder-camera-off-button-audio-only .vjs-icon-placeholder:before {
  content: url("data:image/svg+xml,%3Csvg width='22' height='15' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M.75 3A2.75 2.75 0 013.5.25h9.081A2.75 2.75 0 0115.331 3v9a2.75 2.75 0 01-2.75 2.75H3.5A2.75 2.75 0 01.75 12V3zM3.5 1.75c-.69 0-1.25.56-1.25 1.25v9c0 .69.56 1.25 1.25 1.25h9.081c.69 0 1.25-.56 1.25-1.25V3c0-.69-.56-1.25-1.25-1.25H3.5z' fill='%23262136'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M14.53 2.03l-12 12-1.06-1.06 12-12 1.06 1.06zM20.87 1.525a.75.75 0 01.38.652v10.588a.75.75 0 01-1.134.644l-5.92-3.53a.75.75 0 01-.365-.643v-3.53a.75.75 0 01.366-.644l5.919-3.53a.75.75 0 01.754-.007zm-5.539 4.607V8.81l4.419 2.635V3.497l-4.419 2.635z' fill='%23262136'/%3E%3C/svg%3E");
  transform: scale(0.75);
}

.ul-upload-progress-label {
  padding: 0.15em 0.75em;
  align-items: center;
  font-size: 12px;
  color: #333;
  background: #FCFCFD;
  border-radius: 99px;
  text-align: center;
  border: 1px solid #E0E0EB;
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  bottom: 75px;
  left: calc(50% - 65px);
  width: 130px;
  z-index: 5;
}

.ul-upload-progress-label__time {
  display: inline-flex;
  margin-left: 0.8em;
  align-items: center;
}

.ul-upload-progress-label__time:before {
  content: "";
  display: inline-flex;
  width: 1px;
  height: 12px;
  background-color: #E0E0EB;
  margin-right: 0.8em;
}

@keyframes grow {
  0% {
    transform: scale(1);
    background-color: #EEECFC;
  }
  50%  {
    transform: scale(1.2);
    background-color: #E1DFF4;
  }
  100% {
    transform: scale(1);
    background-color: #EEECFC;
  }
}

.ul-audio-recorder-placeholder:before {
  width: 80px;
  height: 80px;
  border-radius: 120px;
  background-color: #EEECFC;
  content: "";
  position: absolute;
  left: calc(50% - 40px);
  top: calc(50% - 40px);
  animation: 6s infinite grow;
  transform-origin: 50% 60%;
}

.ul-audio-recorder-placeholder:after {
  content: url("data:image/svg+xml,%3Csvg width='98' height='98' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cmask id='a' maskUnits='userSpaceOnUse' x='0' y='0' width='98' height='98'%3E%3Ccircle cx='49' cy='49' r='49' fill='%23EDECF8'/%3E%3C/mask%3E%3Cg mask='url(%23a)'%3E%3Ccircle cx='49' cy='49' r='50' fill='%23645CC2'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M11.422 81.812c5.405-15.547 20.187-26.706 37.576-26.706 17.39 0 32.172 11.159 37.577 26.707-9.164 10.43-22.601 17.013-37.576 17.013-14.976 0-28.414-6.583-37.577-17.014z' fill='%23fff' fill-opacity='.6'/%3E%3Ccircle cx='49' cy='29' r='17' fill='%23fff' fill-opacity='.7'/%3E%3C/g%3E%3C/svg%3E");
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform: translate(-50%, -50%) scale(0.6);
}

.ul-audio-recorder-placeholder {
  min-height: 150px;
  width: 100%;
  background-color: #fcfcfd;
  display: block;
  position: relative;
}

.vjs-fullscreen .ul-audio-recorder-placeholder {
  vertical-align: middle;
  display: table-cell;
}

.vjs-fullscreen .ul-control-panel {
  height: 80px;
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  max-width: 100%;
  background-color: #F8F8F8;
}

.vjs-playback-rate .vjs-playback-rate-value {
  align-items: center;
  display: flex;
  font-size: 12px;
  justify-content: center;
}

.vjs-playback-rate .vjs-menu {
  left: -5px;
  bottom: 3px;
}

.vjs-menu-button-popup .vjs-menu .vjs-menu-content {
  background-color: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-sizing: border-box;
  border-radius: 4px;
}

.vjs-menu li {
  font-size: 12px;
  padding: 5px 0;
}

.vjs-menu li.vjs-selected {
  color: lightgray;
}

.vjs-menu li.vjs-menu-item:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

.vjs-fullscreen .ul-buttons-panel {
  top: calc(50% - 30px);
  position: relative;
}

.vjs-fullscreen .vjs-record-indicator.vjs-control {
  bottom: 90px !important;
}

.vjs-record.video-js div.vjs-control.vjs-record-indicator {
  padding: 0.3em 0.75em 0.15em 15px;
  align-items: center;
  font-size: 12px;
  color: #333;
  background: #FCFCFD;
  border-radius: 99px;
  text-align: center;
  border: 1px solid #E0E0EB;
  display: flex;
  justify-content: center;
  align-items: center;
  position: absolute;
  bottom: 75px;
  top: auto;
  left: calc(50% - 21px);
  width: 43px;
  height: 16px;
  z-index: 4;
}

.vjs-record.video-js div.vjs-control.vjs-record-indicator:after {
  content: "";
  background-color: #EB5757;
  width: 6px;
  height: 6px;
  border-radius: 8px;
  animation: none;
  top: 4px;
  left: 5px;
}

.vjs-record.video-js div.vjs-control.vjs-record-indicator:before {
  position: relative;
  font-size: 9px;
  animation: none;
  opacity: 1;
  color: #333;
  top: auto;
  left: auto;
}

.ul-video-player-loading {
  display: inline-block;
  position: relative;
  width: 6rem;
  height: 6rem;

}
.ul-video-player-loading div {
  box-sizing: border-box;
  position: absolute;
  display: block;
  width: 80%;
  height: 80%;
  margin: 5px;
  border: 5px solid #666;
  border-radius: 50%;
  animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
  border-color: #666 transparent transparent transparent;
}

.first {
  animation-delay: -0.45s;
}
.second {
  animation-delay: -0.3s;
}
.third {
  animation-delay: -0.15s;
}

@keyframes lds-ring {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

.ul-video-btn {
  width: 100%;
  border: 1px solid #E6E6E6;
  border-radius: 4px;
  background-color: rgba(0, 0, 0, 0.02);
  padding: 8px;
  font-weight: 500;
  font-size: 15px;
}

.ul-record-response-btn:before, .ul-record-response-btn:after, .ul-back-question-btn:before, .ul-back-question-btn:after {
  margin: 0 5px;
  vertical-align: middle;
}

.ul-record-response-btn:before {
  content: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_2645_4654)'%3E%3Cpath d='M15.1491 4.75L10.5991 8L15.1491 11.25V4.75Z' stroke='black' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M9.29912 3.4502H2.14912C1.43115 3.4502 0.849121 4.03223 0.849121 4.7502V11.2502C0.849121 11.9682 1.43115 12.5502 2.14912 12.5502H9.29912C10.0171 12.5502 10.5991 11.9682 10.5991 11.2502V4.7502C10.5991 4.03223 10.0171 3.4502 9.29912 3.4502Z' stroke='black' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_2645_4654'%3E%3Crect width='15.6' height='15.6' fill='white' transform='translate(0.199951 0.200195)'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E");
  display: inline-block;
  transform: translate(0px, 2px);
}

.ul-record-response-btn:after {
  content: 'Record your Response';
}

.ul-back-question-btn:before {
  content: url("data:image/svg+xml,%3Csvg width='15' height='16' viewBox='0 0 15 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M13.8757 8.22361L1.1118 14.6056C0.945578 14.6887 0.75 14.5678 0.75 14.382V1.61803C0.75 1.43219 0.945579 1.31131 1.1118 1.39443L13.8757 7.77639C14.06 7.86852 14.06 8.13148 13.8757 8.22361Z' stroke='black' stroke-width='1.5' stroke-linecap='round'/%3E%3C/svg%3E");
  display: inline-block;
  transform: scale(0.85) translate(0, 1px);
  -moz-transform: scale(0.85) translate(0, 2px);
}

.ul-back-question-btn:after {
  content: 'Back to Question';
}

.hidden {
  display: none !important;
  opacity: 0;
  visibility: hidden;
}

.visible {
  visibility: visible;
  opacity: 1;
  animation: fade 0.3s;
}

@keyframes fade {
  0% {
      opacity: 0;
  }

  100% {
      opacity: 1;
  }
}

#ul-recording-countdown-screen {
  width: 100%;
  height: 100%;
  color: black;
  background-color: rgba(255, 255, 255, 0.8);
  position: absolute;
  text-align: center;
  font-size: 15px;
  z-index: 1;
  display: table;
}

.ul-countdown-text {
  vertical-align: middle;
  display: table-cell;
  transform: translate(0, -25px);
}

.vjs-fullscreen > #ul-recording-countdown-screen {
  font-size: 25px;
  transform: unset;
}

.vjs-poster {
  background-size: cover;
}
`,Uu=e=>{const t=M.document.createElement("div");return t.className="ul-video-player-loading",t.id=_o(e),["first","second","third","fourth"].map(n=>{const r=M.document.createElement("div");r.className=n,t.appendChild(r)}),t},_o=e=>e+"-loading-spiner",ee="hidden",ha=".m3u8",bo="questionId",xo="ul-video-recorder-camera-off-button",wo="ul-recording-in-session",Vu=[{type:"link",content:`${pt}/dependencies/videojs-record-4.5.0.min.css`},{type:"script",content:`${pt}/dependencies/RecordRTC-5.6.2.js`},{type:"script",content:`${pt}/dependencies/adapter.8.0.0.min.js`},{type:"script",content:`${pt}/dependencies/videojs-record-4.5.0.min.js`},{type:"script",content:`${pt}/userleap-web-upchunk-v2.2.2.js`}],pa=[{type:"link",content:`${pt}/dependencies/video-js-7.18.0.min.css`},{type:"script",content:`${pt}/dependencies/video-js-7.18.0.min.js`},{type:"style",content:Bu}],fa="-video-player",ma="-secondary-video-player",ga="-video-recorder";let Ie,va;const Qe=async({event:e,apiBase:t,headers:n,visitorId:r,envId:o,metadata:i})=>{const s=M.document.documentElement;if(!r||!o)return;const a={event:`SDK - ${e}`,visitorId:r,environmentId:o,metadata:{...i||{},screenWidth:window.screen.width,screenHeight:window.screen.height,clientWidth:s.clientWidth,clientHeight:s.clientHeight,location:window.location.href,language:navigator.language}};(await fetch(`${t}/sdk/1/visitors/${r}/analytics`,{method:"POST",cache:"no-cache",headers:n,body:JSON.stringify(a)})).ok||console.warn("[Sprig] (ERR-444) Failed to track analytics",e)},Fe=async(e,t,n,r,o,i)=>{Qe({event:`Video Error ${t}`,apiBase:n,headers:r,visitorId:o,envId:i,metadata:{errorMessage:e.message}});const s=M.document.documentElement,a={screenWidth:window.screen.width,screenHeight:window.screen.height,clientWidth:s.clientWidth,clientHeight:s.clientHeight,location:window.location.href,language:navigator.language},l={action:t,err:{message:e.message,stack:e.stack},meta:a,vid:o,envId:i};(await fetch(`${n}/sdk/1/errors`,{method:"POST",cache:"no-cache",headers:{...r,"userleap-platform":"video_recorder","x-ul-error":window.btoa(`userleap-${Date.now()}-error`)},body:JSON.stringify(l)})).ok||console.warn("[Sprig] (ERR-444) Failed to report error to API",e)},Fu=(e,{type:t,content:n})=>new Promise(function(r,o){let i;t==="script"?(i=M.document.createElement("script"),i.src=n):t==="link"?(i=M.document.createElement("link"),i.rel="stylesheet",i.href=n,i.type="text/css"):(i=M.document.createElement("style"),i.innerHTML=n),i.onload=function(){r(n)},i.onerror=function(){o(n)},i.async=!1,i.id=btoa(n),e.appendChild(i)}),ya=(e,t)=>{if(e.length===0)return t&&t();Promise.all(e.reduce((n,r)=>(n.push(Fu(M.document.head,r)),n),[])).then(()=>{M.videojs=M.document.defaultView.videojs,t&&t()}).catch(function(n){console.log(n+" failed to load")})},_a=(e,t,n)=>{if(t==="start"&&(e.style.visibility="visible"),t==="none")e.style.visibility=ee;else if(t==="success")e.style.visibility=ee,e.innerHTML="Upload succeeded!";else{const r=Math.round(parseFloat(n));e.innerHTML=`Uploading <span class="ul-upload-progress-label__time">${r}%</span>`,e.style.background=`linear-gradient(to right, #E0E0EB 0%, #E0E0EB ${r}%, #FCFCFD ${r}%, #FCFCFD 100%)`}},ko=(e,t)=>{const n=M.videojs(e.id());return n==null?void 0:n.payload[t]},Hu=(e,t,n,r,o)=>{const{surveyId:i,responseGroupUid:s,visitorId:a,envId:l}=e.payload;e.on("deviceError",function(){console.warn("device error: ",e.deviceErrorCode),e.deviceErrorCode.message==="Permission denied"?(e.deviceButton.addClass("permission-denied"),n&&n(U.ERROR,{type:U.PERMISSION_DENIED}),Qe({event:"Video Permission Denied",apiBase:t,headers:o,visitorId:a,envId:l,metadata:{questionId:ko(e,bo),responseGroupUid:s,surveyId:i}})):(n&&n(U.ERROR,{type:U.OTHER}),Fe(new Error(e.deviceErrorCode.message),"recorderDeviceError",t,o,a,l))}),e.on("error",function(c,d){Fe(d||e.error(),"recorderError",t,o,a,l)}),e.on("startRecord",function(c,d){r(e.uploadProgressLabel,"none"),Qe({event:"Video Record Start",apiBase:t,headers:o,visitorId:a,envId:l,metadata:{questionId:ko(e,bo),responseGroupUid:s,surveyId:i}})}),e.on("finishRecord",async function(){r(e.uploadProgressLabel,"start",0);const c=ko(e,bo);if(!i){const f="internal error: missing fields in payload";return n&&n(U.ERROR,{type:U.OTHER}),Fe(new Error(f),"finishRecord",t,o,a,l),null}e.record().stopDevice();const d=e.cameraOff?U.MEDIA_TYPE_AUDIO:U.MEDIA_TYPE_VIDEO,u=_n();Qe({event:"Video Record Finish",apiBase:t,headers:o,visitorId:a,envId:l,metadata:{mediaRecordingUid:u,questionId:c,responseGroupUid:s,surveyId:i,mediaType:d}});const h={surveyId:i,updatedAt:new Date().toISOString(),mediaType:d,mediaRecordingUid:u};c&&(h.questionId=c),s&&(h.responseGroupUid=s),a&&(h.visitorId=a);const y=await(async()=>{const f=await fetch(`${t}/2/environments/integrations/upload`,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(f.ok){const _=await f.json();return n&&n(U.UPLOAD_STARTED,{[U.UPLOAD_ID]:_.upload.id,[U.MEDIA_TYPE]:d,[U.MEDIA_RECORDING_UID]:u}),_.upload.url}else return n&&n(U.ERROR,{type:U.OTHER,response:f}),Fe(new Error("failed to get upload response with url"),"finishRecord",t,o,a,l),null})();y&&(Ie=M.document.defaultView.UpChunk.createUpload({endpoint:y,file:new M.document.defaultView.File([e.recordedData],`recording ${d} ${Date.now()}`),chunkSize:5120}),Ie.startTime=Date.now(),Qe({event:"Video Upload Start",apiBase:t,headers:o,visitorId:a,envId:l,metadata:{mediaRecordingUid:u,questionId:c,responseGroupUid:s,surveyId:i,mediaType:d,url:y}}),Ie.on("error",f=>{r(e.uploadProgressLabel,"none"),n&&n(U.UPLOAD_FINISHED,{[U.MEDIA_RECORDING_UID]:u}),Fe(f,"finishRecord",t,o,a,l)}),Ie.on("progress",f=>{n&&n(U.UPLOAD_PROGRESS,{[U.MEDIA_RECORDING_UID]:u,[U.UPLOAD_PROGRESS_PCT]:f.detail}),r(e.uploadProgressLabel,"progress",f.detail)}),Ie.on("success",()=>{r(e.uploadProgressLabel,"success"),n&&n(U.UPLOAD_FINISHED,{[U.MEDIA_RECORDING_UID]:u}),Qe({event:"Video Upload Success",apiBase:t,headers:o,visitorId:a,envId:l,metadata:{mediaRecordingUid:u,questionId:c,responseGroupUid:s,surveyId:i,mediaType:d,url:y,elapsedMs:Ie.startTime&&Date.now()-Ie.startTime}})}))})},ba=(e,t)=>{const n=new(M.videojs.getComponent("Component"))(e);return n.addClass("ul-buttons-panel"),t.map(r=>{n.addChild(r)}),qu(n),n},qu=e=>{e.children().forEach(t=>{if(we[t.name_]){const n=Qn(we[t.name_],`ul-${we[t.name_]}`);t.el_.appendChild(n)}})},Qn=(e,t="")=>{const n=M.document.createElement("span");return n.className="ul-button-text",n.innerHTML=e,n.id=t,n},xa=(e,t,n,r,o=!1,i)=>{e.addClass("ul-video-player");const s=new(M.videojs.getComponent("Component"))(e);s.addClass("ul-control-panel"),e.progressBar=s.addChild("ProgressControl"),n&&e.src(n),e.audioPlayerPlaceholder=new(M.videojs.getComponent("Component"))(e),e.audioPlayerPlaceholder.addClass("ul-audio-recorder-placeholder");const a=n&&n.src?Ju(n.src):null;n&&(o||!a)?(e.children()[0].classList.add("vjs-hidden"),M.document.getElementById(`${e.id()}_html5_api`).style.height="0px"):(e.audioPlayerPlaceholder.hide(),M.document.getElementById(`${e.id()}_html5_api`).style.height="100%",a&&e.poster(a)),e.on("play",()=>{!o&&n&&!a&&Wu(e,!1),i==null||i.play()}),e.on("pause",()=>{i==null||i.pause()}),e.on("seeked",()=>{i==null||i.currentTime(e.currentTime())}),e.on("ratechange",()=>{i==null||i.playbackRate(e.playbackRate())}),e.addChild(e.audioPlayerPlaceholder,{},1),s.addChild(t),e.addChild(s),r&&r(e)},Ku=(e,t,n)=>{e.addClass(`ul${ma}`);const r=new(M.videojs.getComponent("Component"))(e);t&&e.src(t),e.addChild(r),n&&n(e)},zu=(e,t,n,r,o,i,s,a=!1)=>{va=Date.now();const c=Jn(t,{controls:!1,bigPlayButton:!1,fluid:!1,width:1280,height:720,playsinline:!0,plugins:{record:{audio:!0,video:{mandatory:{minWidth:1280,minHeight:720}},frameWidth:1280,frameHeight:720,maxLength:600,autoMuteDevice:!0}}});if(!c)return;c.payload=n;const{surveyId:d,questionId:u,responseGroupUid:h,visitorId:p,envId:y}=n;let f;const _=I=>{const D=xo,A=xo+"-audio-only";_a(c.uploadProgressLabel,"none"),Ie&&Ie.startTime>=va&&Ie.abort();const F=M.document.getElementById("ul-camera-button");I?(c.children()[0].classList.add("vjs-hidden"),C.removeClass(D),C.addClass(A),F.innerHTML=we.TurnOnCamera,c.audioPlayerPlaceholder.removeClass("vjs-hidden"),f==null||f.getTracks().forEach(L=>{L.stop()}),window.navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(L=>{f=L,L.getVideoTracks().forEach(ne=>{ne.enabled=!1}),c.record().onDeviceReady(L)}).catch(c.record().onDeviceError.bind(c.record()))):(f==null||f.getVideoTracks().forEach(L=>{L.enabled=!0}),c.children()[0].classList.remove("vjs-hidden"),c.record().getDevice(),C.removeClass(A),C.addClass(D),F.innerHTML=we.TurnOffCamera,c.audioPlayerPlaceholder.addClass("vjs-hidden"))},g=new(M.videojs.getComponent("Button"))(c,{clickHandler:()=>{g.hasClass(ee)||(Qe({event:"Video Delete Button Clicked",apiBase:r,headers:s,visitorId:p,envId:y,metadata:{questionId:u,responseGroupUid:h,surveyId:d}}),_(c.cameraOff),o(U.DELETE,{}),C.removeClass(ee),g.addClass(ee))}});g.addClass("ul-video-recorder-delete-button"),g.el_.appendChild(Qn(we.DeleteButton,"ul-delete-button"));const v=M.document.getElementById(t),x=()=>{v.classList.contains("vjs-fullscreen")&&c.cameraOff?v.style.display="table":v.style.display="flex"};x();const C=new(M.videojs.getComponent("Button"))(c,{clickHandler:()=>{c.record().isRecording()||(c.cameraOff=!c.cameraOff,Qe({event:"Video Camera Button Clicked",apiBase:r,headers:s,visitorId:n.visitorId,envId:n.envId,metadata:{questionId:u,responseGroupUid:h,surveyId:d,cameraOff:c.cameraOff}}),_(c.cameraOff),!g.hasClass(ee)&&g.addClass(ee),o(U.DELETE,{}),x())}});C.addClass(xo),C.el_.appendChild(Qn(we.TurnOffCamera,"ul-camera-button"));const w=new(M.videojs.getComponent("Button"))(c,{clickHandler:()=>{const I=M.document.getElementById("ul-recorder-toggle");if(c.record().isRecording())c.record().stop(),I&&(I.innerHTML=we.RecordButton),w.removeClass(wo),g.removeClass(ee);else{const D=M.document.getElementById("ul-recording-countdown-screen");if(D)D.remove(),I&&(I.innerHTML=we.RecordButton),_(c.cameraOff),o(U.DELETE,{}),C.removeClass(ee),g.addClass(ee),w.removeClass(wo),E.show();else{w.addClass(wo),E.hide(),C.addClass(ee),g.addClass(ee),I&&(I.innerHTML=we.StopButton);const A=M.document.createElement("div");A.id="ul-recording-countdown-screen",v.insertBefore(A,v.children[1]),A.style.height=`${v.offsetHeight}px`,wa(c,3)}}}});w.addClass("ul-video-recorder-toggle-button"),w.el_.appendChild(Qn(we.RecordButton,"ul-recorder-toggle"));const k=M.document.createElement("p");k.style.visibility="hidden",k.className="ul-upload-progress-label",e.appendChild(k),c.uploadProgressLabel=k;const S=ba(c,[g,C,"PlayToggle",w,"FullscreenToggle"]),E=S.children().find(I=>I.name_==="FullscreenToggle");E.hasClass("vjs-disabled")&&E.hide();const b=S.children().find(I=>I.name_==="PlayToggle");b.hide(),i&&C.addClass(ee),!i&&g.addClass(ee),xa(c,S,i,!1,a),c.on("stopRecord",()=>{w.hide(),b.show(),E.show(),g.removeClass(ee)}),c.on("deviceReady",()=>{w.show(),b.hide(),g.addClass(ee)}),Hu(c,r,o,_a,s),i&&(c.deviceButton&&c.deviceButton.hide(),c.src(i),b.show(),w.hide(),g.removeClass(ee));const T=[{name:"microphone"}];!c.cameraOff&&T.push({name:"camera"}),Promise.all(T.map(I=>{var D;return(D=navigator==null?void 0:navigator.permissions)==null?void 0:D.query(I)})).then(I=>{I.reduce((A,F)=>A&F.state==="granted",!0)&&c&&(c.deviceButton&&c.deviceButton.hide(),!i&&c.record().getDevice())}).catch(I=>{})},wa=(e,t=3)=>{const n=M.document.getElementById("ul-recording-countdown-screen");n&&t===0?(n.remove(),e.record().start()):n&&(n.innerHTML=`<span class='ul-countdown-text'>Recording in... ${t}</span>`,setTimeout(()=>{wa(e,t-1)},1e3))},ka=e=>{const t=M.document.createElement("div");return t.className="ul-video-container",t.appendChild(Uu(e)),t},Co=(e,t)=>{const n=M.document.createElement("video");n.id=e,n.className="video-js vjs-default-skin ul-video-player-video";const r=M.document.createElement("p");r.className="vjs-no-js",r.innerHTML="To view this video please enable JavaScript, and consider upgrading to a web browser that";const o=M.document.createElement("a");return o.href="https://videojs.com/html5-video-support/",o.target="_blank",o.innerHTML="supports HTML5 video",r.appendChild(o),n.appendChild(r),t.appendChild(n),t},Wu=(e,t)=>{t?(e.children()[0].classList.add("vjs-hidden"),e.audioPlayerPlaceholder.show(),M.document.getElementById(`${e.id()}_html5_api`).style.height="0px"):(e.children()[0].classList.remove("vjs-hidden"),e.audioPlayerPlaceholder.hide(),M.document.getElementById(`${e.id()}_html5_api`).style.height="100%")},Jn=(e,t)=>M.document.getElementById(e)?t?M.videojs(e,t):M.videojs(e):(console.error(`Error in finding player element with ID, ${e}`),null),Gu=(e,t,n,r=!1,o="https://api.sprig.com",i=document,s=null,a=null)=>{M.document=i;const l=e+fa,c=ka(l);return M.document.addEventListener("securitypolicyviolation",d=>{Fe(new Error(`Voice & Video feature violates ${d.violatedDirective} web page CSP policies for the question player.`),"playerDeviceError",o,{})}),ya(pa,()=>{M.document.getElementById(_o(l)).remove(),Co(l,c);const d={playsinline:!0,playbackRates:[.5,1,1.5,2],fill:!0};try{const u=e+ma;Co(u,c);const h=Jn(l,d),p=Jn(u,{muted:!0,...d});if(!h||!p)return;Ku(p,s,a),s||p.addClass(ee);const y=ba(h,["PlaybackRateMenuButton","PlayToggle","FullscreenToggle"]),f=y.children().find(_=>_.name_==="FullscreenToggle");f.hasClass("vjs-disabled")&&f.hide(),xa(h,y,t,n,r,p)}catch(u){Fe(new Error(`Error when creating video player object ${u}`),"playerDeviceError",o,{});return}}),c},Zu=(e,t={},n="https://api.userleap.com",r,o,i,s=!1,a=document)=>{M.document=a;const l=e+ga,c=ka(l);return M.document.addEventListener("securitypolicyviolation",d=>{Fe(new Error(`Voice & Video feature violates ${d.violatedDirective} web page CSP policies for the recorder player.`),"recorderDeviceError",n,i,t.visitorId,t.envId)}),ya(pa.concat(Vu),()=>{Co(l,c),M.document.getElementById(_o(l)).remove();try{zu(c,l,t,n,r,o,i,s)}catch(d){Fe(new Error(`Error when creating video recorder player object ${d}`),"recorderDeviceError",n,i,t.visitorId,t.envId);return}}),c},Yu=e=>{const t=e+ga;if(M.document.getElementById(t)&&M.videojs){try{if(!M.videojs(t).record().stream)return}catch{return}M.videojs(t).record().stop(),M.videojs(t).record().stopDevice()}},Qu=e=>{const t=Jn(e+fa);t==null||t.pause()},Ju=e=>{if(!e)return null;const t=e.match(/https:\/\/stream.mux.com\/(.*)/);let n=t?t[1]:null;return n.includes(ha)&&(n=n.replace(ha,"")),n?`https://image.mux.com/${n}/thumbnail.jpg?time=0`:null},U={UPLOAD_STARTED:"upload.started",UPLOAD_PROGRESS:"upload.progress",UPLOAD_FINISHED:"upload.finished",DELETE:"delete",ERROR:"error",MEDIA_TYPE:"media.type",PERMISSION_DENIED:"permission_denied",OTHER:"other",UPLOAD_ID:"upload.id",UPLOAD_PROGRESS_PCT:"upload.progress.pct",MEDIA_RECORDING_UID:"media.recording.uid",MEDIA_TYPE_VIDEO:"video",MEDIA_TYPE_AUDIO:"audio"},we={PlaybackRateMenuButton:"Speed",PlayToggle:"Play",FullscreenToggle:"Expand",TurnOnCamera:"Turn on",TurnOffCamera:"Turn off",DeleteButton:"Delete",RecordButton:"Record",StopButton:"Stop",PauseButton:"Pause"},an="ul-card-video__player_recorder",Xu="ul-card-video__skip_button",ed="ul-video-interview-form",Ca="ul-video-btn",td=({className:e,message:t,next:n,properties:r,questionId:o,type:i})=>{const{apiURL:s,envId:a,handleUploadUpdate:l,headers:c,responseGroupUid:d,surveyId:u,viewDocument:h,visitorId:p}=z(D=>({apiURL:D.apiURL,envId:D.envId,handleUploadUpdate:D.handleUploadUpdate,headers:D.headers,responseGroupUid:D.responseGroupUid,surveyId:D.surveyId,viewDocument:D.viewDocument,visitorId:D.userId})),[y,f]=Q(!1),[_,g]=Q(null),[v,x]=Q(null),[C,w]=Q(0),k=r&&r.videoUrl,S=(D,A)=>{D===U.UPLOAD_STARTED?(g(A[U.UPLOAD_ID]),x(A[U.MEDIA_RECORDING_UID]),f(!0)):D===U.DELETE?(g(null),x(null),f(!1)):D===U.UPLOAD_PROGRESS?isNaN(A[U.UPLOAD_PROGRESS_PCT])?l({mediaRecordingUid:A[U.MEDIA_RECORDING_UID],isComplete:!0}):l({mediaRecordingUid:A[U.MEDIA_RECORDING_UID],progressPct:A[U.UPLOAD_PROGRESS_PCT]}):D===U.UPLOAD_FINISHED&&l({mediaRecordingUid:A[U.MEDIA_RECORDING_UID],isComplete:!0})},E=D=>{if(D&&D.children.length===0){const A=Gu(an,{src:k,type:"application/x-mpegURL"},void 0,r.mediaType===U.MEDIA_TYPE_AUDIO,s,h);D.appendChild(A)}},b=D=>{if(D&&D.children.length===0){const A=Zu(an,{surveyId:u,responseGroupUid:d,questionId:o,visitorId:p,envId:a},s,S,void 0,{...c,"x-ul-video-recorder-origin":"sdk"},r.mediaType===U.MEDIA_TYPE_AUDIO,h);D.appendChild(A)}},T=D=>{D.preventDefault(),D.stopPropagation(),Yu(an),_&&v?(l({mediaRecordingUid:v,isSubmitted:!0}),n({value:{mediaRecordingUid:v},questionId:o,type:i})):n({value:null,questionId:o,type:i})},I=()=>m(Ve,{defaultBody:()=>m("button",{className:`${Ca} ul-record-response-btn`,onClick:D=>{D.preventDefault(),D.stopPropagation(),Qu(an),w(1)}}),properties:r});return m("form",{className:B([e,R.VideoCard,R.FadeInTransition]),id:ed,children:[m(xe,{message:t,properties:r}),m("div",{id:"ul-card-voice__video",children:[m("div",{children:[m("div",{id:"ul-question-player-container",style:{display:C===0?"":"none"},children:[m("div",{id:an,ref:E}),I()]}),m("div",{style:{display:C===1?"block":"none"},children:[m("button",{className:`${Ca} ul-back-question-btn`,onClick:D=>{D.preventDefault(),D.stopPropagation(),w(0)}}),m("div",{id:"ul-recorder-player-container",ref:b})]})]}),m(ce,{disabled:!y,onClick:T,children:ht(r)}),m("button",{className:`ul-card-text__button ${R.InactiveButton} ${R.SkipButton}`,id:Xu,onClick:T,style:{display:r.required?"none":"block",...y?{display:"none"}:{}},children:fo(r)})]})]})},nd=({className:e})=>{const{uploadProgress:t}=z(i=>({uploadProgress:i.uploadProgress}));let n,r;Object.values(t).filter(i=>i.isSubmitted).length>1?(n="Your responses are processing",r="Please keep this tab open until your responses are fully processed."):(n="Your response is processing",r="Please keep this tab open until your response is fully processed.");const o=Math.round(Math.min(99,...Object.values(t).filter(i=>i.isSubmitted).map(i=>i.progressPct||0)));return m("div",{className:B([e,"ul-card--uploading",R.FadeInTransition]),children:[m("div",{"aria-busy":"true","aria-label":"Processing...","aria-live":"polite",className:R.LoadingSpinnerContainer,role:"progressbar",children:m("div",{className:R.LoadingSpinner,children:[m("div",{className:R.LoadingSpinnerFirst}),m("div",{className:R.LoadingSpinnerSecond}),m("div",{className:R.LoadingSpinnerThird}),m("div",{className:R.LoadingSpinnerFourth})]})}),m(xe,{message:`${n} (${o}% complete)`}),m("p",{className:R.Caption,children:r})]})},Sa=({logoOnly:e=!1,style:t={}})=>m("svg",{alt:`${e?"Powered by ":""}Sprig`,width:e?"35":"112",height:"15",viewBox:e?"79 0 31 15":"0 0 112 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"block",...t},children:[!e&&m("path",{d:"M0.648926 12.0181V2.8584H4.21631C6.0127 2.8584 7.25684 4.06445 7.25684 5.86084V5.87354C7.25684 7.66357 6.0127 8.88867 4.21631 8.88867H2.0708V12.0181H0.648926ZM3.86084 4.05811H2.0708V7.69531H3.86084C5.09229 7.69531 5.80957 7.02881 5.80957 5.87988V5.86719C5.80957 4.72461 5.09229 4.05811 3.86084 4.05811ZM11.6621 12.1514C9.63721 12.1514 8.39941 10.7993 8.39941 8.57764V8.56494C8.39941 6.34961 9.64355 4.99121 11.6621 4.99121C13.6743 4.99121 14.9185 6.34326 14.9185 8.56494V8.57764C14.9185 10.7993 13.6807 12.1514 11.6621 12.1514ZM11.6621 11.0024C12.8428 11.0024 13.5156 10.1011 13.5156 8.57764V8.56494C13.5156 7.03516 12.8428 6.14014 11.6621 6.14014C10.4751 6.14014 9.80859 7.03516 9.80859 8.56494V8.57764C9.80859 10.1074 10.4751 11.0024 11.6621 11.0024ZM17.6226 12.0181L15.7183 5.12451H17.1021L18.3398 10.4438H18.4414L19.8633 5.12451H21.1709L22.5928 10.4438H22.7007L23.9321 5.12451H25.2969L23.3989 12.0181H21.9834L20.5552 6.87646H20.4473L19.0254 12.0181H17.6226ZM29.334 12.1514C27.3154 12.1514 26.0967 10.7739 26.0967 8.59033V8.58398C26.0967 6.43213 27.3408 4.99121 29.2642 4.99121C31.1875 4.99121 32.3682 6.38135 32.3682 8.45068V8.93311H27.4805C27.5059 10.2534 28.2295 11.0215 29.3657 11.0215C30.248 11.0215 30.7749 10.5835 30.9399 10.228L30.9653 10.1772L32.292 10.1709L32.2793 10.228C32.0508 11.1357 31.0986 12.1514 29.334 12.1514ZM29.2705 6.12109C28.3311 6.12109 27.6201 6.76221 27.4995 7.94922H31.0034C30.8955 6.71777 30.2036 6.12109 29.2705 6.12109ZM34.0059 12.0181V5.12451H35.3833V6.16553H35.4849C35.7324 5.43555 36.3735 5.00391 37.2939 5.00391C37.5161 5.00391 37.7573 5.03564 37.897 5.06738V6.33691C37.6494 6.28613 37.4146 6.25439 37.1543 6.25439C36.1006 6.25439 35.3833 6.90186 35.3833 7.89844V12.0181H34.0059ZM41.9277 12.1514C39.9092 12.1514 38.6904 10.7739 38.6904 8.59033V8.58398C38.6904 6.43213 39.9346 4.99121 41.8579 4.99121C43.7812 4.99121 44.9619 6.38135 44.9619 8.45068V8.93311H40.0742C40.0996 10.2534 40.8232 11.0215 41.9595 11.0215C42.8418 11.0215 43.3687 10.5835 43.5337 10.228L43.5591 10.1772L44.8857 10.1709L44.873 10.228C44.6445 11.1357 43.6924 12.1514 41.9277 12.1514ZM41.8643 6.12109C40.9248 6.12109 40.2139 6.76221 40.0933 7.94922H43.5972C43.4893 6.71777 42.7974 6.12109 41.8643 6.12109ZM49.1133 12.1323C47.3804 12.1323 46.2568 10.7422 46.2568 8.57764V8.56494C46.2568 6.38135 47.3613 5.00391 49.1133 5.00391C50.0591 5.00391 50.8652 5.47363 51.2334 6.21631H51.3413V2.42041H52.7124V12.0181H51.3413V10.9326H51.2334C50.8335 11.688 50.0781 12.1323 49.1133 12.1323ZM49.5068 10.958C50.6558 10.958 51.3604 10.0503 51.3604 8.57764V8.56494C51.3604 7.09229 50.6494 6.18457 49.5068 6.18457C48.3516 6.18457 47.6597 7.08594 47.6597 8.56494V8.57764C47.6597 10.0566 48.3516 10.958 49.5068 10.958ZM61.98 12.1323C61.0151 12.1323 60.2598 11.688 59.8599 10.9326H59.7583V12.0181H58.3809V2.42041H59.7583V6.21631H59.8599C60.228 5.47363 61.0342 5.00391 61.98 5.00391C63.7319 5.00391 64.8364 6.38135 64.8364 8.56494V8.57764C64.8364 10.7422 63.7192 12.1323 61.98 12.1323ZM61.5928 10.958C62.7417 10.958 63.4336 10.0566 63.4336 8.57764V8.56494C63.4336 7.08594 62.7417 6.18457 61.5928 6.18457C60.4438 6.18457 59.7329 7.09229 59.7329 8.56494V8.57764C59.7329 10.0503 60.4438 10.958 61.5928 10.958ZM66.8867 14.4429C66.7153 14.4429 66.5122 14.4302 66.3345 14.4111V13.3257C66.4678 13.3447 66.6392 13.3511 66.7979 13.3511C67.439 13.3511 67.8262 13.0781 68.0293 12.3799L68.1309 12.0244L65.6299 5.12451H67.1152L68.8418 10.6343H68.9624L70.6826 5.12451H72.1299L69.5654 12.2847C68.9814 13.9287 68.2832 14.4429 66.8867 14.4429Z",fill:"black",fillOpacity:"0.7"}),m("path",{d:"M81.1088 6.63629C79.6878 6.32154 78.9672 5.76865 78.9672 4.99369C78.9672 4.19299 79.736 3.5886 80.7556 3.5886C81.8066 3.5886 82.5995 4.25285 82.5995 5.13336V5.20352H84.0518V5.13336C84.0518 3.52424 82.6405 2.30774 80.7693 2.30774C79.8676 2.30774 79.0414 2.58451 78.4433 3.08655C78.1463 3.33144 77.9077 3.63818 77.7448 3.98479C77.5818 4.33141 77.4984 4.70934 77.5005 5.09153C77.4946 5.44197 77.5675 5.78934 77.714 6.10857C77.8605 6.42779 78.0769 6.71092 78.3475 6.93752C78.8512 7.37584 79.5659 7.70024 80.4709 7.90299C81.9949 8.23898 82.7676 8.81054 82.7676 9.60094C82.7676 10.4576 81.9258 11.1032 80.813 11.1032C79.6571 11.1032 78.7854 10.3856 78.7854 9.43424V9.36408H77.3318V9.43424C77.3318 11.1167 78.8219 12.3847 80.7973 12.3847C81.7421 12.3847 82.6093 12.0983 83.2393 11.5769C83.5519 11.3237 83.8034 11.0048 83.9753 10.6433C84.1472 10.2818 84.2352 9.88702 84.2329 9.48766C84.2329 8.05875 83.1833 7.09907 81.1088 6.63629Z",fill:"black",fillOpacity:"0.7"}),m("path",{d:"M89.2394 4.68276C88.6963 4.67605 88.1596 4.79915 87.6751 5.04156C87.1905 5.28397 86.7725 5.63851 86.4566 6.07497V4.85204H85.0747V14.8479H86.4566V11.0356C86.7725 11.472 87.1906 11.8265 87.6751 12.0688C88.1596 12.3111 88.6963 12.434 89.2394 12.4272C91.3836 12.4272 93 10.7627 93 8.55495C93 6.34723 91.3836 4.68276 89.2394 4.68276ZM91.5608 8.84202C91.5057 9.41605 91.2512 9.95356 90.8406 10.3633C90.4299 10.773 89.8883 11.0296 89.3078 11.0896C88.5363 11.1669 87.8177 10.9461 87.2841 10.4692C86.7505 9.99222 86.4566 9.3106 86.4566 8.55495C86.4566 7.10159 87.5538 6.00546 89.0087 6.00546C89.7619 6.00546 90.4421 6.29124 90.9171 6.81002C91.407 7.34232 91.6357 8.06385 91.5608 8.84202Z",fill:"black",fillOpacity:"0.7"}),m("path",{d:"M109.95 4.85407V6.06349C109.298 5.18298 108.292 4.68286 107.153 4.68286C105.017 4.68286 103.406 6.31709 103.406 8.48426C103.406 10.6514 105.017 12.285 107.153 12.285C108.296 12.285 109.303 11.79 109.95 10.9185V11.1046C109.95 12.6101 108.993 13.5826 107.513 13.5826C106.513 13.5826 105.68 13.1494 105.284 12.424L105.264 12.3867H103.838L103.871 12.48C104.112 13.1892 104.583 13.8001 105.211 14.2179C105.841 14.6324 106.637 14.8512 107.513 14.8512C108.637 14.8512 109.594 14.4972 110.28 13.8285C110.967 13.1597 111.332 12.2194 111.332 11.1213V4.85407H109.95ZM109.175 10.3502C108.588 10.905 107.752 11.138 106.879 10.9887C106.361 10.8984 105.886 10.6475 105.523 10.2725C105.16 9.89751 104.927 9.41787 104.859 8.90328C104.736 8.03757 104.999 7.21756 105.581 6.655C106.069 6.19093 106.723 5.93643 107.401 5.94699C107.565 5.94713 107.729 5.96026 107.891 5.98625C108.946 6.15489 109.781 7.01609 109.921 8.0852C110.039 8.96507 109.766 9.78958 109.175 10.3502Z",fill:"black",fillOpacity:"0.7"}),m("path",{d:"M101.89 2.12378C101.63 2.06766 101.358 2.11486 101.133 2.25518C100.908 2.39551 100.747 2.61769 100.687 2.87371C100.626 3.12973 100.67 3.39902 100.809 3.62339C100.947 3.84775 101.17 4.00917 101.428 4.07275C101.503 4.08936 101.58 4.09778 101.657 4.09786C101.906 4.09824 102.146 4.0083 102.331 3.84518C102.517 3.68206 102.636 3.45714 102.664 3.21327C102.693 2.9694 102.63 2.72361 102.487 2.5227C102.344 2.32179 102.132 2.17981 101.89 2.12378Z",fill:"black",fillOpacity:"0.7"}),m("path",{d:"M100.967 10.934H99.7755C98.9285 10.934 98.4196 10.3644 98.4196 9.40982C98.4196 8.4791 98.8757 7.36945 99.8054 6.01778L99.8178 5.99976V5.61807L95.8571 5.06453C95.8585 4.90331 95.8162 4.74466 95.7346 4.60501C95.653 4.46536 95.5352 4.34979 95.3932 4.27027C95.0381 4.07718 94.6498 4.07717 94.3279 4.26383C94.1667 4.35799 94.035 4.4945 93.9476 4.65816C93.8602 4.82182 93.8205 5.00623 93.8328 5.19087C93.8452 5.37552 93.9092 5.55315 94.0176 5.70402C94.1261 5.85489 94.2748 5.97309 94.4472 6.04546L93.2151 12.258H94.5833L95.7196 6.35891L97.8593 6.7155C97.284 7.73439 96.9921 8.68442 96.9921 9.53919C96.9921 11.1168 97.9577 12.1498 99.5187 12.2496V12.258H102.346V4.87723H100.967V10.934Z",fill:"black",fillOpacity:"0.7"})]}),rd=()=>{const{border:e,cards:t,forceBrandedLogo:n,headers:r,index:o,marketingUrl:i,showSurveyBrand:s,slugName:a,surveyId:l,viewedCardCount:c}=z(x=>({border:x.border,cards:x.cards,forceBrandedLogo:x.forceBrandedLogo,headers:x.headers,index:x.index,marketingUrl:x.marketingUrl,showSurveyBrand:x.showSurveyBrand,slugName:x.slugName,surveyId:x.surveyId,viewedCardCount:x.viewedCardCount})),d=De(null),u=t.filter(x=>x.type!==P.Uploading&&x.type!==P.Thanks),h=cu(t,o),p=c+1,y=p/(p+h),f=`${i}?utm_source=survey_branding&utm_medium=website&utm_campaign=${a}&utm_content=${l}${n&&"&utm_term=poweredby_pill"}`;ue(()=>{d.current&&(d.current.style.width=`${y*100}%`)},[y]);const _=()=>m(le,{children:[u.length>1&&m("div",{id:"ul-progress-bar-container",children:m("div",{id:"ul-progress-bar-current",ref:d,style:{border:`1px solid ${e||"#000"}`}})}),s?m("div",{className:n?"yellow-footer-logo":"",style:{marginTop:"4px"},children:m("a",{href:f,rel:"noreferrer",target:"_blank",children:m("div",{style:{display:"flex"},children:[m(Sa,{logoOnly:!1}),n&&m(Ea,{style:{display:"block",margin:"auto 0 auto 4px",transform:"rotateY(0deg) rotate(-45deg)"}})]})})}):null]}),g=()=>m("a",{dir:"ltr",href:f,rel:"noreferrer",target:"_blank",children:m("div",{className:"thank-you-card-link",children:[m("div",{className:"sprig-box-logo",children:m(Sa,{logoOnly:!0,style:{margin:"auto"}})}),m("div",{children:m("p",{children:["Capture insights about your own product",m(Ea,{style:{display:"inline-flex",marginInlineStart:"4px",verticalAlign:"middle"}})]})})]})}),v=t[o].type===P.Thanks;return m("footer",{className:`ul-footer ${r["userleap-platform"]==="link"?"ul-footer__link":""}`,style:s?{}:{marginBottom:"10px"},children:v&&n?g():_()})},Ea=({style:e})=>m("svg",{fill:"none",height:"10",style:e,viewBox:"0 0 12 10",width:"12",xmlns:"http://www.w3.org/2000/svg",children:[m("path",{d:"M1.47839 5.2085L10.9384 5.2085",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.35"}),m("path",{d:"M7.0686 1.15845L10.9386 5.20845L7.0686 9.25845",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.35"})]}),od=()=>{const{answers:e,border:t,cards:n,close:r,configureExitOnOverlayClick:o,destroy:i,endCard:s,eventEmitFn:a,fontFamily:l,headers:c,index:d,next:u,showStripes:h,surveyId:p,update:y,useMobileStyling:f,viewDocument:_}=z(L=>({answers:L.answers,border:L.border,cards:L.cards,close:L.close,configureExitOnOverlayClick:L.configureExitOnOverlayClick,destroy:L.destroy,endCard:L.endCard,eventEmitFn:L.eventEmitFn,fontFamily:L.fontFamily,headers:L.headers,index:L.index,next:L.next,showStripes:L.showStripes,surveyId:L.surveyId,update:L.update,useMobileStyling:L.useMobileStyling,viewDocument:L.viewDocument})),g=De(null),v=De(!1),x=c["userleap-platform"],{props:C,type:w,name:k}=n[d],S=n.length;ue(()=>{g.current&&(g.current.classList.contains("ul-app--visible")||g.current.classList.add("ul-app--visible"),!v.current&&a&&(v.current=!0,a(Ce.SurveyAppeared,{name:Ce.SurveyAppeared,[Ki.SurveyId]:p})))},[a,p]),ue(()=>{y()},[d,y]),ue(()=>{o(()=>r())},[r,o]);const E=()=>r(yt),b=L=>{L.key==="Enter"&&E()},T=async function(L){u({data:L,completeSurvey:()=>{i(yt)},endCard:s}),Fl(_)};if(e){for(const L of e)if(L.questionId===k){let ne;if(w===P.MultipleChoice){const Z=C.options.find(({value:ke})=>ke===L.value);if(!Z)break;ne={[Z.id]:Z.value}}else ne=L.value;T({value:ne,type:w,questionId:L.questionId});break}}const I=()=>[_t.Email,_t.Link].includes(c["userleap-platform"])?!1:!s||d+1!==S,D=()=>f?{borderColor:t}:{borderColor:t,margin:"15px"},A=()=>{const L={className:"ul-card",next:T,questionId:k,type:w};switch(w){case P.ConsentLegal:return G(gu,{...L,...C,key:k});case P.Likert:return G(yu,{...L,...C,key:k});case P.Matrix:return G(_u,{...L,...C,key:k});case P.MultipleChoice:return G(bu,{...L,...C,key:k});case P.MultipleSelect:return G(xu,{...L,...C,key:k});case P.NPS:return G(wu,{...L,key:k,props:C});case P.Open:return G(ku,{...L,...C,key:k});case P.RecordedTask:return G(Lu,{...L,...C,key:k});case P.TextUrlPrompt:return G(Mu,{...L,...C,key:k});case P.Thanks:return G($u,{...L,...C,key:k});case P.Uploading:return G(nd,{...L,...C,key:k});case P.VideoVoice:return G(td,{...L,...C,key:k});default:return null}},F=L=>{var Je;const ne=window.sprigAPI,Z=L.target;if(!ne||!Z)return;const ke=[Z,Z.parentElement];for(const Xe of ke)if(((Je=Xe==null?void 0:Xe.tagName)==null?void 0:Je.toLowerCase())==="a"){L.preventDefault(),ne==null||ne.openUrl(Xe.href);return}};return m("div",{className:B("ul-app",mn(c)?"ul-app--visible":"ul-app--overlay"),dir:"auto",id:yt,onClick:F,ref:g,style:{"--theme":t,...l?{fontFamily:l.replace(";","")}:{}},children:m("div",{className:"ul-app__container",children:m("div",{className:B(J(R.CardContainer,f)),style:D(),children:[I()&&m("div",{className:B(J(R.CloseContainer,f)),children:m("div",{"aria-label":"Close button",className:R.CloseButton,onClick:E,onKeyPress:b,role:"button",tabIndex:0,children:m("svg",{fill:"none",height:"18px",viewBox:"0 0 13 13",width:"18px",xmlns:"http://www.w3.org/2000/svg",children:m("path",{d:"M2.54964 1.78369L1.78369 2.54964L5.73405 6.5L1.78369 10.4504L2.54964 11.2163L6.5 7.26595L10.4504 11.2163L11.2163 10.4504L7.26595 6.5L11.2163 2.54964L10.4504 1.78369L6.5 5.73405L2.54964 1.78369Z",fill:"#262136"})})})}),h&&m("div",{className:"ul-header__container",dir:"ltr",children:m("div",{className:"ul-header",children:"For development purposes only"})}),m("div",{className:B(rl(R.CardMainContent,x)),children:A()}),m(rd,{})]})})})},id='html,body,p,ol,ul,li,dl,dt,dd,blockquote,figure,fieldset,legend,textarea,pre,iframe,hr,h1,h2,h3,h4,h5,h6{margin:0;padding:0}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:400}button,input,select,textarea{margin:0}html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}ol,ul{padding-inline-start:1em}.ul-card{flex:1 1 auto;border-radius:2px;display:flex;flex-direction:column;font-size:17px;line-height:19px;margin:auto;text-align:start;min-width:200px}.ul-card__container--desktop{border:2px solid #fff;box-shadow:0 0 15px #00000026}.ul-card__container--mobile{border-width:0;box-shadow:0 0 5px #00000040;margin-top:5px}.ul-card__container{background:#fff;border-radius:6px;display:flex;flex-direction:column;flex-grow:1;flex:1 1 auto;font-size:17px;line-height:23px;overflow:auto;padding:20px 20px 5px;position:relative;text-align:center;word-break:break-word}.ul-card-vertical__button-wrapper{flex-direction:column;align-items:center}.ul-card__button-wrapper{margin-top:4px;margin-bottom:3px;display:flex;gap:16px;justify-content:center}.ul-rich-text-body{min-height:2em}.ul-rich-text-body,.ul-rich-text-body p{margin-top:10px;margin-bottom:10px}.ul-rich-text-body li{margin:5px 0}.ul-rich-text-body p,.ul-rich-text-body li{font-size:15px;line-height:130.35%;letter-spacing:.02em;color:#343442;text-align:start;white-space:pre-line}.ul-rich-text-body:last-child,.ul-rich-text-body li:last-child{margin-bottom:15px}.ul-card-main-content__link,.ul-card-main-content__email{flex-grow:55;display:flex}.ul-card-main-content__web,.ul-card-main-content__android,.ul-card-main-content__ios{margin-bottom:5px}.ul-question{color:#343442;display:block;font-size:20px;line-height:125%;font-weight:500;cursor:default;text-align:start}.ul-caption{flex:1 0 auto;margin-top:8px;margin-bottom:15px;font-size:15px;line-height:130.35%;letter-spacing:.02em;color:#6c6c6e;text-align:start}.ul-card__choices{margin:5px 0 0;flex:1 0}.choice--mobile{border:2px solid #e6e6e6}.choice--desktop{border:1px solid #e6e6e6}.choice{align-items:flex-start;color:#262136;cursor:pointer;display:flex;justify-content:flex-start;flex-direction:column;box-sizing:border-box;border-radius:3px;margin-bottom:7px;font-size:15px;line-height:20px;padding:10px 20px 10px 15px;background-color:#00000003}.choice--desktop:hover,.choice--desktop:active,.choice--mobile:active{background-color:#0000000d}.choice-label-container{align-items:center;display:flex;flex-direction:row;flex:0 0 fit-content;gap:15px;height:fit-content;justify-content:flex-start;width:100%}.choice-text-entry-container{width:100%;height:fit-content;flex:0 1 fit-content;overflow:hidden}.choice .choice-text-input--mobile{max-height:63px}.choice .choice-text-input--desktop{max-height:150px}.choice .choice-text-input{box-sizing:border-box;background-color:transparent;color:#343442;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;min-height:20px;max-height:60px;padding:0;margin-top:8px;resize:none;width:100%;font-size:14px;line-height:20px;outline:none;border:none;overflow-wrap:break-word}.choice .choice-text-input::placeholder{color:#6c6c6e80}.ul-thanks-check{text-align:center;margin-bottom:20px}.ul-card--thanks-content{padding:20px 0 10px}.ul-card--thanks .ul-question{padding-top:0;text-align:center}.ul-card--thanks .ul-caption{padding-top:0;text-align:center;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;hyphenate-limit-lines:no-limit}.ul-card--uploading .ul-question{padding-top:15px;text-align:center}.ul-card--uploading .ul-caption{padding-top:5px;text-align:center;overflow-wrap:break-word}.ul-loading-spinner-container{font-size:1.8rem;flex-grow:1;width:100%;height:100%;display:flex;align-items:center;justify-content:center}.ul-loading-spinner{display:inline-block;position:relative;width:6rem;height:6rem}.ul-loading-spinner div{box-sizing:border-box;display:block;position:absolute;width:80%;height:80%;margin:5px;border:5px solid #152e3e;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:#152e3e transparent transparent transparent}.ul-loading-spinner .first{animation-delay:-.45s}.ul-loading-spinner .second{animation-delay:-.3s}.ul-loading-spinner .third{animation-delay:-.15s}@keyframes lds-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.select-checkbox{height:16px;width:16px;border-radius:3px;border:1px solid #323232;display:flex;box-sizing:border-box;box-shadow:inset 3px 3px #0000001a;background-color:"transparent";align-items:center;justify-content:center}.select-radio{height:16px;width:16px;border-radius:16px;border:1px solid #323232;display:flex;box-sizing:border-box;box-shadow:inset 2px 2px #0000001a;background-color:"transparent";align-items:center;justify-content:center}.fade-in-transition{animation:fadeIn .4s ease-in;-webkit-animation:fadeIn .4s ease-in;-moz-animation:fadeIn .4s ease-in;-o-animation:fadeIn .4s ease-in;-ms-animation:fadeIn .4s ease-in}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@-moz-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@-o-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@-ms-keyframes fadeIn{0%{opacity:0}to{opacity:1}}[class^=CenteredSurveyLayout] .ul-header__container,[class^=QuestionConceptTestLayout] .ul-header__container,.ul-websurvey-frame .ul-card__container,.ul-websurvey-frame-mobile .ul-card__container{margin-bottom:unset}[class^=CenteredSurveyLayout] .ul-card__container,[class^=QuestionConceptTestLayout] .ul-card__container,.ul-websurvey-frame .ul-card__container,.ul-websurvey-frame-mobile .ul-card__container{align-self:center;box-shadow:unset;border-radius:unset;border:none!important;position:unset;width:100%}@media only screen and (min-height: 600px) and (width: 600px){.ul-card{position:relative;top:-20px}}.ul-vertical-centered-container{display:flex;flex-direction:column;align-items:center}.ul-consent-legal__name-input--mobile{border:2px solid #e6e6e6}.ul-consent-legal__name-input--desktop{border:1px solid #e6e6e6}.ul-consent-legal__name-input{background:#00000003;box-sizing:border-box;color:#343442;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;padding:10px 20px 10px 15px;border-radius:3px;font-size:15px;line-height:20px;margin-bottom:7px;width:100%}.ul-consent-legal__name-input::placeholder{color:#6c6c6e80}.ul-consent-legal__name-input:focus{outline:none;background:#fff}.ul-consent-legal__name-input--desktop:hover:not(:focus){background-color:#0000000d}.ul-card__consent-legal .choice{font-size:15px;padding:10px 15px;background-color:#00000003}.ul-card__consent-legal .choice--desktop:hover,.ul-card__consent-legal .choice--desktop:active,.ul-card__consent-legal .choice--mobile:active{background-color:#0000000d}.ul-card--likert__numbers{align-items:center;border-radius:5px;display:flex;flex-direction:row;flex:1 0;justify-content:center;margin:5px 0 0}.likert-number--mobile{border:2px solid #e6e6e6}.likert-number--mobile:not(:first-child){margin-inline-start:-2px}.likert-number--desktop{border:1px solid #e6e6e6}.likert-number--desktop:not(:first-child){margin-inline-start:-1px}.likert-number{align-items:center;cursor:pointer;display:flex;justify-content:center;flex:1 0;background-color:#00000003;font-size:18px;line-height:24px;height:67px}.likert-number:first-child{border-start-start-radius:5px;border-end-start-radius:5px}.likert-number:last-child{border-start-end-radius:5px;border-end-end-radius:5px}.likert-number:active,.likert-number--desktop:hover{background-color:#0000000d;font-weight:500}.likert-star--mobile:not(:first-child){margin-inline-start:-2px}.likert-star--desktop:not(:first-child){margin-inline-start:-1px}.likert-star{align-items:center;cursor:pointer;display:flex;justify-content:space-between;flex:1 0;color:transparent;font-size:18px;line-height:24px;height:67px}.likert-smiley--mobile:not(:first-child){margin-inline-start:-2px}.likert-smiley--desktop:not(:first-child){margin-inline-start:-1px}.likert-smiley{align-items:center;cursor:pointer;display:flex;justify-content:space-between;flex:1 0;color:transparent;line-height:24px;height:67px}.likert-smiley circle:not(:first-child){fill-opacity:1}.ul-card--likert__labels{align-items:center;color:#262136;display:flex;flex-direction:row;flex:1 0;font-weight:500;font-size:13px;line-height:15px;justify-content:space-between;margin:7px 0 10px}.ul-card--matrix_grid{display:grid;grid-template-columns:max-content repeat(var(--numColumns),minmax(93px,1fr));grid-template-rows:repeat(var(--numRows),min-content);margin:0 auto;row-gap:4px;width:max-content}.ul-matrix-row-options{display:grid;grid-column:2/-1;grid-template-columns:subgrid}.ul-matrix-column-label{font-size:15px;max-width:150px;padding:10px 12px;text-align:center}.ul-card--matrix_container{margin-bottom:16px;overflow:auto}.ul-card--matrix_question_container{display:flex;flex-direction:column}.ul-matrix-scroll-gradient{-webkit-mask-image:linear-gradient(90deg,#000 90%,transparent);mask-image:linear-gradient(90deg,#000 90%,transparent)}.ul-matrix-scroll-gradient:dir(rtl){-webkit-mask-image:linear-gradient(270deg,#000,90%,transparent);mask-image:linear-gradient(270deg,#000,90%,transparent)}.ul-matrix-scroll-gradient:dir(rtl)+.ul-matrix-scroll-arrow{rotate:180deg}.ul-matrix-scroll-arrow{align-self:flex-end;background:none;border:none;color:#000;padding:0;position:absolute;top:45%}.ul-matrix-scroll-arrow:hover{cursor:pointer}.ul-matrix-option-wrapper{align-items:center;background:#f9f9f8;display:flex;justify-content:center;padding:10px 12px}.ul-matrix-last-option{border-start-end-radius:4px;border-end-end-radius:4px}.ul-matrix-row-label{align-items:center;background:#f9f9f8;border-end-start-radius:4px;border-start-start-radius:4px;display:flex;font-size:15px;left:0;right:0;max-width:200px;min-width:100px;padding:10px 12px;position:sticky}.ul-matrix-option-selected{border:6px solid var(--border);box-shadow:none}.ul-card__matrix{max-width:100%}.select-label{cursor:pointer;flex:1;overflow-wrap:anywhere;text-align:start}.ul-card--nps__numbers{align-items:center;border-radius:5px;display:flex;flex-direction:row;flex:1 0;justify-content:center;margin:5px 0 0}.nps-number--mobile{border:2px solid #e6e6e6}.nps-number--mobile:not(:first-child){margin-inline-start:-2px}.nps-number--desktop{border:1px solid #e6e6e6}.nps-number--desktop:not(:first-child){margin-inline-start:-1px}.nps-number{align-items:center;cursor:pointer;display:flex;justify-content:center;flex:1 0;background-color:#00000003;font-size:18px;line-height:24px;height:67px}.nps-number:first-child{border-start-start-radius:5px;border-end-start-radius:5px}.nps-number:last-child{border-start-end-radius:5px;border-end-end-radius:5px}.nps-number:active,.nps-number--desktop:hover{background-color:#0000000d;font-weight:500}.ul-card--nps__labels{align-items:center;color:#262136;display:flex;flex-direction:row;flex:1 0;font-weight:500;font-size:13px;line-height:15px;justify-content:space-between;margin:7px 0 10px}.ul-card-text{flex:1 0 auto;margin-top:2px;margin-bottom:3px;align-items:center;display:flex;flex-wrap:wrap;justify-content:center;padding:0}.ul-card-text__container{align-items:center;box-sizing:border-box;border-radius:3px;display:flex;justify-content:center;margin-bottom:12px;flex:1 0 100%}.ul-card-text__input--mobile{border:2px solid #e6e6e6;max-height:63px}.ul-card-text__input--desktop{border:1px solid #e6e6e6;max-height:150px}.ul-card-text__input{background:#00000003;box-sizing:border-box;color:#343442;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;min-height:63px;overflow:auto;padding:12px;resize:none;width:100%;border-radius:3px;font-size:15px;line-height:20px;overflow-wrap:break-word}.ul-card-text__input::placeholder{color:#6c6c6e80}.ul-card-text__input:focus{outline:none;background:#fff}.ul-card-text__input--desktop:hover:not(:focus){background-color:#0000000d}.ul-card__text-url-prompt-button{text-decoration:none;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:-webkit-fill-available}#ul-card-voice__video{align-items:center;display:flex;flex-direction:column}#ul-card-voice__video>div{margin-bottom:10px;width:100%}#ul-card-video__player_recorder{width:100%;width:-moz-available;width:-webkit-fill-available;width:fill-available}.ul-card-record__task{flex:1 0 auto;margin-top:2px;margin-bottom:3px;align-items:center;display:flex;flex-wrap:wrap;justify-content:center;padding:0}#ul-record-task-upload-progress,#ul-record-task-video-preview{width:100%;height:150px}.ul-permission-graphics-container{width:100%;height:150px;background-color:#0000000d;text-align:center;flex-direction:column;margin-left:auto;margin-right:auto;border-radius:5px;display:flex;align-items:center;font-size:15px;color:#000000b3}.ul-av-permission-denied-paragraph{margin:auto 15px;font-size:12px}.ul-av-permission-denied-headline{font-size:14px;color:#262136;text-decoration:underline;font-size:12px}.ul-permission-body{color:#000;margin:5px auto 5px 5px;line-height:135%;text-align:center}.ul-select-tab-container{width:240px;height:46px;background:#fff;border-radius:5px;text-align:start;align-items:center;display:flex;padding:0 5px;margin-top:20px;margin-bottom:auto}.ul-select-tab-text{color:#4b575d;margin:5px;line-height:135%;text-align:center}button.ul-task-skip-button{color:#000;background-color:#fff}#ul-task-detail-container{margin-top:0;margin-bottom:0;overflow:auto}#ul-task-detail-container.ul-rich-text-body p,#ul-task-detail-container.ul-rich-text-body li,#ul-task-detail-container.ul-rich-text-body{color:#4c4c4c}#ul-task-detail-container :first-child{margin-top:0}#ul-task-detail-container :last-child{margin-bottom:20px}.ul-horizontal-button-container{width:100%;display:flex;flex-direction:row}.ul-skip-button-below{margin-top:5px}.ul-horizontal-button-container-center{justify-content:center}.ul-vertical-button-container-center{display:flex;flex-direction:column;align-items:center}.ul-horizontal-button-container-left{justify-content:flex-start}.ul_recorded-task-inset-spacing{margin-top:5px;margin-bottom:24px}.ul_permission_svg_container{justify-content:center}.ul-card-text__button{background-color:var(--theme);border-radius:3px;border:none;color:#fff;cursor:pointer;font-size:15px;font-weight:500;line-height:18px;padding:10.5px 21px}.ul-card-text__button:disabled,.ul-card-text__button.sprig-button-disabled{background-color:#0000001a;color:#0003}.ul-card-text__button.ul-button-inactive{background-color:#fff!important;color:#5d696f!important}.ul-card-skip__button{color:#00000080;background:none;border:none;font-size:15px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;cursor:pointer}.ul-card-button-group{align-items:center;display:flex;gap:15px;justify-content:center;flex-direction:column}html,body{cursor:default;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;height:100%;overflow:hidden;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-webkit-touch-callout:none}b{font-weight:500}#ul-app{opacity:0;width:100%;flex-grow:2;display:flex}#ul-app.ul-app--overlay{position:absolute;bottom:0;transition:opacity .1s ease-out;transition-delay:.1s}#ul-app.ul-app--visible{opacity:1;bottom:0}.ul-app__container{width:100%;display:flex;flex-direction:column;max-height:100vh}.ul-header__container{margin-bottom:15px}.ul-header{align-items:center;background:repeating-linear-gradient(120deg,#ebebeb,#ebebeb 24px,#fff 24px,#fff 48px);border-bottom:2px solid #ebebeb;display:flex;font-size:14px;font-weight:500;height:40px;justify-content:center;left:0;position:absolute;top:0;width:100%}.ul-footer{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:auto;flex-grow:1;width:100%}.ul-footer>.yellow-footer-logo{background:#fad133;border:1px solid #f9c600;border-radius:14px;padding:6px 12px}.ul-footer>.yellow-footer-logo:hover{background:#f9c600}.ul-footer .thank-you-card-link{background:#00000003;border:1px solid #e6e6e6;border-radius:8px;cursor:pointer;display:inline-flex;font-size:14px;gap:12px;margin-bottom:15px;padding:12px;text-align:initial;width:280px}.ul-footer .thank-you-card-link:hover{background:#00000008}.ul-footer>a{color:inherit}.ul-footer-bubble{display:inline-block;margin:0 3px;width:7px;height:7px;border-radius:3px;border:1px solid transparent}.sprig-box-logo{background:#f9c600;border-radius:5px;display:flex;padding:4px}.close-container{display:flex;justify-content:flex-end;width:100%}.close-btn{cursor:pointer;height:18px;margin-inline-end:-10px;position:relative;top:-10px;width:18px;z-index:1}.ul-app__container{transition:opacity .3s ease-out}.ul-center-horizontally{text-align:center}#ul-progress-bar-container{width:100%;height:2px;background-color:#0000001a;border-radius:2px;max-width:250px;margin:25px 0}#ul-progress-bar-current{transition:width 1s ease;width:0%;height:0;border-radius:2px}.prototype-button{width:100%;background:#00000003;border:1.5px solid #e6e6e6;border-radius:4px 0 0 4px;flex:none;flex-grow:1;margin:0;padding:20px 0;font-size:14px;font-family:inherit;text-decoration:underline}.prototype-button:hover{cursor:pointer}',sd=async(e,t)=>{var r;const n=await fetch(t,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(n.ok){const o=await n.json();return(r=o==null?void 0:o.upload)==null?void 0:r.url}else return null},Pa=()=>MediaRecorder.isTypeSupported("video/webm")?"video/webm":"video/mp4",Ta=e=>{const t={audioBitsPerSecond:128e3,videoBitsPerSecond:25e5,mimeType:Pa()};return new MediaRecorder(e,t)},Ia=(e,t,n)=>{n[t]=[],e.ondataavailable=function(r){n[t].push(r.data)},e.currentMediaRecordingUid=t,e.start()};function ja(e,t,n,r,o,i){if(e&&e.state!=="inactive"){const{[V.BeginCallback]:s}=r,a=e.currentMediaRecordingUid;if(!a)return;s&&s(a),e.onstop=()=>ad(t,e,n,r,a,o,i),e.stop()}}async function ad(e,t,n,r,o,i,s){const a=z.getState().viewDocument,{[V.UploadCallback]:l,[V.ProgressCallback]:c}=r,d={mediaType:n,updatedAt:new Date().toISOString(),mediaRecordingUid:o,...r[V.PassthroughData]},u=await sd(d,e);if(!u){l&&l(null,{message:"failed to get upload url"});return}const h=new Blob(s,{type:Pa()});if(!a.defaultView)return;const p=new a.defaultView.File([h],`recording video ${Date.now()}`),y=i.createUpload({endpoint:u,file:p,chunkSize:5120});y.on("error",f=>{l&&l(null,f)}),y.on("progress",f=>{c&&c(o,f)}),y.on("success",()=>{l&&l(o,!0)})}const ld={state:{...{chunks:{}}},stopRecording(e){const{uploadApiEndpoint:t,avRecorder:n,screenRecorder:r,UpChunk:o}=this.state,i=this.state.avStream&&this.state.avStream.getVideoTracks().length>0?ye.Video:ye.Audio;this.state.chunks&&t&&o&&(n!=null&&n.currentMediaRecordingUid&&ja(n,t,i,e,o,this.state.chunks[n==null?void 0:n.currentMediaRecordingUid]),r!=null&&r.currentMediaRecordingUid&&ja(r,t,ye.Screen,e,o,this.state.chunks[r==null?void 0:r.currentMediaRecordingUid]))},handleCancelledStream(e){const t=e.getVideoTracks(),n=e.getAudioTracks();let r=t.length&&t[0];r=r||n.length&&n[0],r&&r.addEventListener("ended",()=>{[this.state.avRecorder,this.state.screenRecorder].map(o=>{o&&(o.state==="recording"&&o.stop(),o.stream.getTracks().map(i=>{i.readyState==="live"&&i.stop()}))}),Object.assign(this.state,{avStream:null,captureStream:null,avRecorder:null,screenRecorder:null})})},taskDurationMillisecond(){return this.state.startTime?new Date().getTime()-this.state.startTime.getTime():0},setUpChunk(e){this.state.UpChunk=e},configure(e,t){Object.assign(this.state,t),this.state.uploadApiEndpoint=`${t.apiURL}/2/environments/integrations/upload`,this.state.chunks={},e.on(re.PermissionStatus,this.permissionStatusCallback.bind(this)),e.on(re.AvPermission,async n=>{this.avPermissionCallback(n)}),e.on(re.BeginRecording,this.beginRecordingCallback.bind(this)),e.on(re.StartTask,this.startTaskCallback.bind(this)),e.on(re.ScreenPermission,async n=>{this.screenPermissionCallback(n)}),e.on(re.FinishTask,async n=>{this.finishTaskCallback(n)})},async avPermissionCallback(e){var r,o,i;const{[V.StreamReadyCallback]:t,[V.PermissionDescriptors]:n}=e;try{(r=this.state.avStream)!=null&&r.active&&(this.state.avStream.getTracks().map(s=>s.readyState==="live"&&s.stop()),((o=this.state.captureStream)==null?void 0:o.getAudioTracks().length)===1&&this.state.captureStream.removeTrack(this.state.captureStream.getAudioTracks()[0])),this.state.avStream=await navigator.mediaDevices.getUserMedia({video:n.includes(Lt.Camera),audio:!0}),((i=this.state.captureStream)==null?void 0:i.getAudioTracks().length)===0&&this.state.captureStream.addTrack(this.state.avStream.getAudioTracks()[0]),this.handleCancelledStream(this.state.avStream)}catch(s){console.warn("Error: failed to get permissions: "+s),t&&t(null,null);return}t&&t(this.state.avStream,this.state.captureStream)},async screenPermissionCallback(e){const{[V.ScreenPermissionRequested]:t,[V.StreamReadyCallback]:n}=e;t==null||t(!0);try{this.state.captureStream=await navigator.mediaDevices.getDisplayMedia({video:!0,cursor:"always",displaySurface:"browser",preferCurrentTab:!0})}catch(r){t==null||t(!1),console.warn("Error: failed to get permissions: "+r),n&&n(null,null);return}t==null||t(!1),this.state.avStream&&this.state.avStream.getAudioTracks().length>0&&this.state.captureStream.addTrack(this.state.avStream.getAudioTracks()[0]),this.handleCancelledStream(this.state.captureStream),n&&n(this.state.avStream||null,this.state.captureStream)},beginRecordingCallback(e){const{[V.RecordingMediaTypes]:t,[V.StartRecordingCallback]:n}=e;if(!t)return;const r=[];if(t.includes(ye.Video)&&this.state.avStream){this.state.avRecorder=Ta(this.state.avStream);const o=_n();Ia(this.state.avRecorder,o,this.state.chunks),r.push(o)}if(t.includes(ye.Screen)&&this.state.captureStream){this.state.screenRecorder=Ta(this.state.captureStream);const o=_n();Ia(this.state.screenRecorder,o,this.state.chunks),r.push(o)}r&&n&&n(r)},async finishTaskCallback(e){const{[V.CurrentIndex]:t,[V.TaskResponse]:n,[V.TaskCompleteCallback]:r}=e;await this.stopRecording(e),r&&r(this.taskDurationMillisecond()),this.state.cards&&this.state.hasEndCard!==void 0&&this.lookAheadAndStopStream(t,n,this.state.cards,this.state.hasEndCard)},startTaskCallback(){this.state.startTime=new Date},permissionStatusCallback(e){var r;const{[V.PermissionStatusCallback]:t}=e,n=this.state.avStream;t&&t(n,n?(n==null?void 0:n.getVideoTracks().length)>0:!1,!!((r=this.state.captureStream)!=null&&r.active),this.state.captureStream)},lookAheadAndStopStream(e,t,n,r){const{avRecorder:o,screenRecorder:i}=this.state,{allResponses:s}=z.getState(),a=Qs({cards:n,index:e,hasEndCard:r,allResponses:s});a!==null&&n[a].type===P.RecordedTask||[o,i].map(l=>{l&&(l.state==="recording"&&l.stop(),l.stream.getTracks().map(c=>{c.readyState==="live"&&c.stop()}))})}},Xn=Object.create(ld);Object.freeze(Xn);const cd=(e,t)=>{const n=[...e],r=new Set([P.VideoVoice,P.RecordedTask]);return e.some(o=>r.has(o.type))&&n.push({name:-2,props:{routingOptions:[]},type:P.Uploading}),t&&n.push({name:-1,props:{routingOptions:[]},type:P.Thanks}),n},ud=({mode:e=null,viewWindow:t,viewDocument:n})=>{const r=n.documentElement;let o;try{o=t.parent.location.href}catch{o=t.location.href}return{mode:e,sw:t.screen.width,sh:t.screen.height,cw:r.clientWidth,ch:r.clientHeight,p:o,l:t.navigator.language}};function dd(e,t=!0){var w;const{answers:n,apiURL:r,customStyles:o,endCard:i,eventEmitFn:s,fontFamilyURL:a,frame:l,previewKey:c,viewDocument:d,viewWindow:u}=e,h=mn(e.headers)?e.frame:d.body,p=e.UpChunk||window.UpChunk,y=vn,f=cd(e.cards,!!i);Xn.configure(y,{cards:f,hasEndCard:!!i,apiURL:r,UpChunk:p}),z.setState({apiURL:r,answers:n,border:e.border,index:e.startingQuestionIdx||0,cards:f,configureExitOnOverlayClick:e.configureExitOnOverlayClick,customMetadata:e.customMetadata,endCard:e.endCard,envId:e.envId,eventEmitFn:s,fontFamily:e.fontFamily,forceBrandedLogo:e.forceBrandedLogo,frame:l,headers:e.headers,hasViewedEmbed:!1,isPreview:e.isPreview,marketingUrl:"https://sprig.com",meta:ud({mode:e.mode,viewWindow:u,viewDocument:d}),mode:e.mode,previewKey:c,recorder:Xn,recorderEventEmitter:y,responseGroupUid:e.responseGroupUid,showStripes:e.showStripes,showSurveyBrand:e.showSurveyBrand,slugName:e.slugName,styleNonce:e.styleNonce,surveyId:e.surveyId,tabTitle:e.tabTitle,uploadingCardViewed:!1,uploadProgress:{},useMobileStyling:e.useMobileStyling,useDesktopPrototype:e.useDesktopPrototype,userId:e.userId,viewDocument:e.viewDocument,visitorAttributes:e.visitorAttributes,viewedCardCount:e.startingQuestionIdx||0});const{seen:_}=z.getState();_();const{head:g}=d,v=d.createElement("style");if(v.id="sprig-style",v.textContent=id,v.nonce=e.styleNonce,g.appendChild(v),e.fontFamily&&a&&parent){const k=d.createElement("link");k.rel="stylesheet",k.href=a,g.appendChild(k)}if(e.customStyles&&Ul(d,o,e.styleNonce),!p)if(e.installationMethod!==bt.Npm){const k=d.createElement("script");k.src="https://cdn.sprig.com/userleap-web-upchunk-v2.2.2.js",k.onload=()=>{Xn.setUpChunk(u.UpChunk)},k.onerror=()=>{console.warn("[Sprig] - recording functionality not configured due to UpChunk library load failure")},g.appendChild(k)}else console.warn("[Sprig] - recording functionality not configured due to missing UpChunk dependency");const x="2.26.3",C=s||((w=l.eventEmitter)==null?void 0:w.emit);C==null||C(Se.VerifyViewVersion,{[wt.ViewVersion]:x}),h&&t&&mt(m(od,{}),h)}({configure:dd}).configure(window.__cfg)})();
